(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{47451:t=>{"use strict";t.s({$:()=>t9,A:()=>K,B:()=>el,C:()=>t4,D:()=>tn,E:()=>er,F:()=>tW,K:()=>th,L:()=>H,M:()=>tN,O:()=>t$,P:()=>tr,Q:()=>ei,R:()=>Y,S:()=>$,T:()=>tL,U:()=>tv,V:()=>tO,W:()=>tC,X:()=>tf,Y:()=>tg,Z:()=>to,_:()=>tb,a:()=>w,a0:()=>B,a1:()=>ea,a2:()=>ty,a3:()=>tq,a4:()=>tM,a5:()=>t8,a6:()=>G,a7:()=>tw,a8:()=>tD,a9:()=>tc,aa:()=>tu,ab:()=>tF,b:()=>es,c:()=>t6,d:()=>L,e:()=>te,f:()=>ee,g:()=>tt,h:()=>_,i:()=>Z,j:()=>Q,k:()=>X,l:()=>tl,m:()=>tj,n:()=>U,o:()=>J,p:()=>m,q:()=>v,r:()=>et,s:()=>N,t:()=>y,u:()=>t7,v:()=>x,w:()=>tI,x:()=>tz,y:()=>td,z:()=>tp});var e,i,s=t.i(227541),n=t.i(373150);let a="undefined"==typeof document,r=Symbol(0),l=!1,h=!1,o=null,u=null,d=null,c=0,p=[],f={},g=()=>{};function b(){if(!p.length){l=!1;return}h=!0;for(let t=0;t<p.length;t++)0!==p[t].$st&&function(t){let e=[t];for(;t=t[r];)t.$e&&0!==t.$st&&e.push(t);for(let t=e.length-1;t>=0;t--)I(e[t])}(p[t]);p=[],l=!1,h=!1}function m(t){return P(o,t,null)}function v(t){return P(null,t,null)}function y(){h||b()}function $(){return o}function w(t,e){try{return P(e,t,null)}catch(t){E(e,t);return}}function k(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return null==e?void 0:e.$cx[t]}function x(t){if(!t||!o)return t||g;let e=o;return e.$d?Array.isArray(e.$d)?e.$d.push(t):e.$d=[e.$d,t]:e.$d=t,function(){3!==e.$st&&(t.call(null),F(e.$d)?e.$d=null:Array.isArray(e.$d)&&e.$d.splice(e.$d.indexOf(t),1))}}function T(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(3!==this.$st){if(this.$h)if(Array.isArray(this.$h))for(let t=this.$h.length-1;t>=0;t--)T.call(this.$h[t]);else T.call(this.$h);if(t){var e;let t=this[r];t&&(Array.isArray(t.$h)?t.$h.splice(t.$h.indexOf(this),1):t.$h=null),e=this,e.$st=3,e.$d&&S(e),e.$s&&W(e,0),e[r]=null,e.$s=null,e.$o=null,e.$h=null,e.$cx=f,e.$eh=null}}}function S(t){try{if(Array.isArray(t.$d))for(let e=t.$d.length-1;e>=0;e--){let i=t.$d[e];i.call(i)}else t.$d.call(t.$d);t.$d=null}catch(e){E(t,e)}}function P(t,e,i){let s=o,n=u;o=t,u=i;try{return e.call(t)}finally{o=s,u=n}}function E(t,e){if(!t||!t.$eh)throw e;let i=0,s=t.$eh.length,n=A(e);for(i=0;i<s;i++)try{t.$eh[i](n);break}catch(t){n=A(t)}if(i===s)throw n}function A(t){return t instanceof Error?t:Error(JSON.stringify(t))}function O(){return 3===this.$st||(u&&!this.$e&&(!d&&u.$s&&u.$s[c]==this?c++:d?d.push(this):d=[this]),this.$c&&I(this)),this.$v}function C(t){let e=F(t)?t(this.$v):t;if(this.$ch(this.$v,e)&&(this.$v=e,this.$o))for(let t=0;t<this.$o.length;t++)!function t(e,i){if(!(e.$st>=i)&&(e.$e&&0===e.$st&&(p.push(e),l||(l=!0,queueMicrotask(b))),e.$st=i,e.$o))for(let i=0;i<e.$o.length;i++)t(e.$o[i],1)}(this.$o[t],2);return this.$v}let q=function(){this[r]=null,this.$h=null,o&&o.append(this)},M=q.prototype;function L(){return new q}M.$cx=f,M.$eh=null,M.$c=null,M.$d=null,M.append=function(t){t[r]=this,this.$h?Array.isArray(this.$h)?this.$h.push(t):this.$h=[this.$h,t]:this.$h=t,t.$cx=t.$cx===f?this.$cx:{...this.$cx,...t.$cx},this.$eh&&(t.$eh=t.$eh?[...t.$eh,...this.$eh]:this.$eh)},M.dispose=function(){T.call(this)};let D=function(t,e,i){q.call(this),this.$st=2*!!e,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=t,e&&(this.$c=e),i&&i.dirty&&(this.$ch=i.dirty)},j=D.prototype;function F(t){return"function"==typeof t}function I(t){if(1===t.$st)for(let e=0;e<t.$s.length&&(I(t.$s[e]),2!==t.$st);e++);2===t.$st?V(t):t.$st=0}function R(t){t.$h&&T.call(t,!1),t.$d&&S(t),t.$eh=t[r]?t[r].$eh:null}function V(t){let e=d,i=c;d=null,c=0;try{R(t);let e=P(t,t.$c,t);if(d){let e;if(t.$s&&W(t,c),t.$s&&c>0){t.$s.length=c+d.length;for(let e=0;e<d.length;e++)t.$s[c+e]=d[e]}else t.$s=d;for(let i=c;i<t.$s.length;i++)(e=t.$s[i]).$o?e.$o.push(t):e.$o=[t]}else t.$s&&c<t.$s.length&&(W(t,c),t.$s.length=c);!t.$e&&t.$i?C.call(t,e):(t.$v=e,t.$i=!0)}catch(e){E(t,e),2===t.$st&&(R(t),t.$s&&W(t,0));return}d=e,c=i,t.$st=0}function W(t,e){let i,s;for(let n=e;n<t.$s.length;n++)(i=t.$s[n]).$o&&(s=i.$o.indexOf(t),i.$o[s]=i.$o[i.$o.length-1],i.$o.pop())}function N(t,e){let i=new D(t,null,e),s=O.bind(i);return s[r]=!0,s.set=C.bind(i),s}function H(t,e){let i=new D(null==e?void 0:e.initial,t,e),s=O.bind(i);return s[r]=!0,s}function z(t,e){let i=new D(null,function(){let e=t();return F(e)&&x(e),null},void 0);return i.$e=!0,V(i),T.bind(i,!0)}function G(t){return F(t)&&r in t&&"set"in t}function K(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i]}function Y(t){return null===t}function U(t){return void 0===t}function B(t){return Y(t)||U(t)}function _(t){return(null==t?void 0:t.constructor)===Object}function Q(t){return"number"==typeof t&&!Number.isNaN(t)}function Z(t){return"string"==typeof t}function X(t){return"boolean"==typeof t}function J(t){return"function"==typeof t}function tt(t){return Array.isArray(t)}Object.setPrototypeOf(j,M),j.$ch=function(t,e){return t!==e},j.call=O;let te=a?function(t,e){var i;return void 0!==s.default&&(null==(i=s.default.env)?void 0:i.NODE_ENV)==="test"?z(t):K}:z,ti=a?class{}:Event,ts=Symbol("DOM_EVENT");class tn extends ti{get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var t,e;return null!=(e=null==(t=this.triggers.origin)?void 0:t.isTrusted)&&e}constructor(t,...i){var s,n;super(t,i[0]),this[e]=!0,this.triggers=new ta,this.detail=null==(s=i[0])?void 0:s.detail;let a=null==(n=i[0])?void 0:n.trigger;a&&this.triggers.add(a)}}e=ts;class ta{get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(t){var e;this.chain.push(t),(null==(e=t)?void 0:e[ts])&&this.chain.push(...t.triggers)}remove(t){return this.chain.splice(this.chain.indexOf(t),1)[0]}has(t){return this.chain.some(e=>e===t)}hasType(t){return!!this.findType(t)}findType(t){return this.chain.find(e=>e.type===t)}walk(t){for(let e of this.chain){let i=t(e);if(i)return[e,i]}}[Symbol.iterator](){return this.chain.values()}constructor(){this.chain=[]}}class tr extends EventTarget{addEventListener(t,e,i){return super.addEventListener(t,e,i)}removeEventListener(t,e,i){return super.removeEventListener(t,e,i)}}function tl(t,e,i,s){return a?K:(t.addEventListener(e,i,s),x(()=>t.removeEventListener(e,i,s)))}function th(t){return!!(null==t?void 0:t.type.startsWith("pointer"))}function to(t){return!!(null==t?void 0:t.type.startsWith("touch"))}function tu(t){var e;return/^(click|mouse)/.test(null!=(e=null==t?void 0:t.type)?e:"")}function td(t){return!!(null==t?void 0:t.type.startsWith("key"))}function tc(t){return td(t)&&"Enter"===t.key}function tp(t){return td(t)&&("Enter"===t.key||" "===t.key)}function tf(t){return t instanceof Node}function tg(t,e,i){if(t)if(i||""===i||0===i){let s=!0===i?"":i+"";t.getAttribute(e)!==s&&t.setAttribute(e,s)}else t.removeAttribute(e)}function tb(t,e,i){t&&(i||0===i?t.style.setProperty(e,i+""):t.style.removeProperty(e))}function tm(t){let e=t;for(;"function"==typeof e;)e=e.call(this);return e}function tv(t){return{id:Symbol(),provide:t}}function ty(t,e){var i;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,n=!U(e);!function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;i&&(i.$cx={...i.$cx,[t]:e})}(t.id,n?e:null==(i=t.provide)?void 0:i.call(t),s)}function t$(t){return k(t.id)}function tw(t){return!U(k(t.id))}let tk=Symbol(0),tx=Symbol(0),tT=Symbol(0),tS={};class tP{w(){w(()=>{for(let t of this.l)t()},this.d)}x(t){this.a||(this.a=t,this.$el.set(t),w(()=>{this.f=L(),w(()=>{for(let t of this.m)t(this.a);this.q(),this.r()},this.f)},this.d),t.dispatchEvent(new Event("attached")))}s(){var t;null==(t=this.f)||t.dispose(),this.f=null,this.g=null,this.a=null,this.$el.set(null)}y(){this.a&&this.f&&this.j.length&&w(()=>{this.g=L(),w(()=>{for(let t of this.j)t(this.a)},this.g)},this.f)}z(){var t;null==(t=this.g)||t.dispose(),this.g=null}p(){if(this.o)return;this.o=!0,w(()=>{for(let t of this.n)t(this.a)},this.d);let t=this.a;this.s(),this.d.dispose(),this.l.length=0,this.m.length=0,this.j.length=0,this.n.length=0,this.e=null,this.b=null,this.c=null,this.i=tS,this.d=null,this.k=tS,this.h=null,t&&delete t.$}t(t){t.onSetup&&this.l.push(t.onSetup.bind(t)),t.onAttach&&this.m.push(t.onAttach.bind(t)),t.onConnect&&this.j.push(t.onConnect.bind(t)),t.onDestroy&&this.n.push(t.onDestroy.bind(t))}q(){if(this.b)for(let t of Object.keys(this.b))a?tg(this.a,t,tm.call(this.e,this.b[t])):J(this.b[t])?te(this.u.bind(this,t)):tg(this.a,t,this.b[t])}r(){if(this.c)for(let t of Object.keys(this.c))a?tb(this.a,t,tm.call(this.e,this.c[t])):J(this.c[t])?te(this.v.bind(this,t)):tb(this.a,t,this.c[t])}u(t){tg(this.a,t,this.b[t].call(this.e))}v(t){tb(this.a,t,this.c[t].call(this.e))}constructor(t,e,s){this[i]=null,this.$el=N(null),this.a=null,this.d=null,this.f=null,this.g=null,this.e=null,this.o=!1,this.i=tS,this.b=null,this.c=null,this.l=[],this.m=[],this.j=[],this.n=[],this.d=e,(null==s?void 0:s.scope)&&s.scope.append(e);let n=t.state,a=t.props;if(n&&(this.h=n.create(),this.k=new Proxy(this.h,{get:(t,e)=>this.h[e]()}),ty(n,this.h)),a&&(this.i=function(t){let e={};for(let i of Object.keys(t)){let s=t[i];e[i]=N(s,s)}return e}(a),null==s?void 0:s.props))for(let t of Object.keys(s.props)){var r;null==(r=this.i[t])||r.set(s.props[t])}x(this.p.bind(this))}}i=tT;let tE={$$:null};function tA(t,e){var i=()=>{tE.$$=new tP(t,o,e);let i=new t;return tE.$$.e=i,tE.$$=null,i};let s=L();return P(s,i.length?i.bind(null,T.bind(s)):i,null)}class tO extends EventTarget{get el(){return this.$$.a}get $el(){return this.$$.$el()}get scope(){return this.$$.d}get attachScope(){return this.$$.f}get connectScope(){return this.$$.g}get $props(){return this.$$.i}get $state(){return this.$$.h}get state(){return this.$$.k}attach(t){let{$$:e}=t;return this.$$=e,e.t(this),this}addEventListener(t,e,i){this.listen(t,e,i)}removeEventListener(t,e,i){var s;null==(s=this.el)||s.removeEventListener(t,e,i)}setAttributes(t){this.$$.b||(this.$$.b={}),Object.assign(this.$$.b,t)}setStyles(t){this.$$.c||(this.$$.c={}),Object.assign(this.$$.c,t)}setCSSVars(t){this.setStyles(t)}createEvent(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return new tn(t,i[0])}dispatch(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];if(a||!this.el)return!1;let n=t instanceof Event?t:new tn(t,i[0]);return Object.defineProperty(n,"target",{get:()=>this.$$.e}),v(()=>{var t,e;return null==(t=(e=this.$$)[tT])||t.call(e,n),this.el.dispatchEvent(n)})}dispatchEvent(t){return this.dispatch(t)}listen(t,e,i){return a||!this.el?K:tl(this.el,t,e,i)}constructor(){super(),tE.$$&&this.attach(tE)}}class tC extends tO{subscribe(t){return w(()=>te(()=>t(this.state)),this.$$.d)}destroy(){this.$$.p()}}function tq(t,e,i){t[tk]||(t[tk]=new Set),t[tk].add(e)}function tM(t,e,i){t[tx]||(t[tx]=new Set),t[tx].add(e)}class tL{create(){let t={},e=new Proxy(t,{get:(e,i)=>t[i]()});for(let i of Object.keys(this.record)){let s=this.A[i].get;t[i]=s?H(s.bind(e)):N(this.record[i])}return t}reset(t,e){for(let i of Object.keys(t))!this.A[i].get&&(!e||e(i))&&t[i].set(this.record[i])}constructor(t){this.id=Symbol(0),this.record=t,this.A=Object.getOwnPropertyDescriptors(t)}}function tD(t){return t$(t)}function tj(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tF(t){return t.replace(/-./g,t=>t[1].toUpperCase())}function tI(t){return t.charAt(0).toUpperCase()+t.slice(1)}let tR=n.createContext({current:null});function tV(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return n.createElement(tR.Provider,{value:t},...i)}function tW(){return n.useContext(tR).current}function tN(t){let e=tW();return n.useMemo(()=>k(t.id,e),[e])}function tH(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function tz(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>e.forEach(e=>tH(e,t))}function tG(t){let{effect:e}=t;return n.useEffect(e,[]),null}tR.displayName="Scope",(class extends n.Component{render(){var t;return tV(this.d,null==(t=this.props)?void 0:t.children)}constructor(t,e){var i;super(t),this.d={current:L()},e&&e.append(this.d.current);let s=this.constructor;s.F&&ty(s.F,null==(i=s.T)?void 0:i.call(s),this.d.current)}}).contextType=tR;let tK=new Map;function tY(t,e){if(t.a!==e||!t.Q){if(t.Q&&tU(t),t._)for(let i of(t.ca||(t.ca=new Set),Object.keys(t._)))t.ca.has(i)||(e.addEventListener(i,t.ba),t.ca.add(i));t.e.$$.x(e),t.E=window.requestAnimationFrame(()=>{t.e.$$.y(),t.E=-1}),t.Q=!0}}function tU(t){if(t.Q&&(window.cancelAnimationFrame(t.E),t.E=-1,t.e.$$.s(),t.Q=!1,t.a&&t.ca)){for(let e of t.ca)t.a.removeEventListener(e,t.ba);t.ca.clear()}}function tB(t){var e,i;let s=tK.get(t.type),n=U(t.detail)?[t]:[t.detail,t];s||tK.set(t.type,s="on".concat(tI(t.type.replace(/-./g,t=>" "+t[1].toUpperCase())).replace(/\s/g,""))),null==(e=(i=this.J)[s])||e.call(i,...n)}function t_(t,e,i,s){let n=tA(t,{props:i,scope:s});return n.$$[tT]=tB.bind(e),n.$$.w(),n}let tQ=Symbol(0),tZ=/\s+/,tX=/\s*:\s*/,tJ=/\s*;\s*/;class t0{get $props(){return this.$.$$.i}get $state(){return this.$.$$.h}get state(){return this.$.state}setup(){let t=this.$.$$;w(()=>{this.hasAttribute("class")&&function(t,e){for(let i of e.trim().split(tZ))t.add(i)}(this.classList.tokens,this.getAttribute("class")),this.hasAttribute("style")&&function(t,e){let i=e.trim().split(tJ);for(let e=0;e<i.length;e++){if(""===i[e])continue;let[s,n]=i[e].split(tX);t.set(s,n)}}(this.style.tokens,this.getAttribute("style")),t.w(),t.x(this),this.classList.length>0&&this.setAttribute("class",this.classList.toString()),this.style.length>0&&this.setAttribute("style",this.style.toString()),this.keepAlive&&this.setAttribute("keep-alive","")},t.d)}getAttribute(t){return this.attributes.getAttribute(t)}setAttribute(t,e){this.attributes.setAttribute(t,e)}hasAttribute(t){return this.attributes.hasAttribute(t)}removeAttribute(t){return this.attributes.removeAttribute(t)}[tQ](){}addEventListener(){}removeEventListener(){}dispatchEvent(){return!1}subscribe(){return K}destroy(){this.$.destroy()}constructor(t){this.keepAlive=!1,this.forwardKeepAlive=!0,this.attributes=new t1,this.style=new t2,this.classList=new t3,this.$=t}}class t1{get length(){return this.Z.size}get tokens(){return this.Z}getAttribute(t){var e;return null!=(e=this.Z.get(t))?e:null}hasAttribute(t){return this.Z.has(t)}setAttribute(t,e){this.Z.set(t,e+"")}removeAttribute(t){this.Z.delete(t)}toString(){if(0===this.Z.size)return"";let t="";for(let[e,i]of this.Z)t+=" ".concat(e,'="').concat(function t(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=typeof e;if("string"!==s)return i||"function"!==s?i&&"boolean"===s?e+"":e:t(e());let n=i?'"':"<",a=i?"&quot;":"&lt;",r=e.indexOf(n),l=e.indexOf("&");if(r<0&&l<0)return e;let h=0,o="";for(;r>=0&&l>=0;)r<l?(h<r&&(o+=e.substring(h,r)),o+=a,h=r+1,r=e.indexOf(n,h)):(h<l&&(o+=e.substring(h,l)),o+="&amp;",h=l+1,l=e.indexOf("&",h));if(r>=0)do h<r&&(o+=e.substring(h,r)),o+=a,h=r+1,r=e.indexOf(n,h);while(r>=0)else for(;l>=0;)h<l&&(o+=e.substring(h,l)),o+="&amp;",h=l+1,l=e.indexOf("&",h);return h<e.length?o+e.substring(h):o}(i,!0),'"');return t}constructor(){this.Z=new Map}}class t2{get length(){return this.Z.size}get tokens(){return this.Z}getPropertyValue(t){var e;return null!=(e=this.Z.get(t))?e:""}setProperty(t,e){this.Z.set(t,null!=e?e:"")}removeProperty(t){let e=this.Z.get(t);return this.Z.delete(t),null!=e?e:""}toString(){if(0===this.Z.size)return"";let t="";for(let[e,i]of this.Z)t+="".concat(e,": ").concat(i,";");return t}constructor(){this.Z=new Map}}class t3{get length(){return this.Z.size}get tokens(){return this.Z}add(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e)this.Z.add(t)}contains(t){return this.Z.has(t)}remove(t){this.Z.delete(t)}replace(t,e){return!!this.Z.has(t)&&(this.Z.delete(t),this.Z.add(e),!0)}toggle(t,e){return!0!==e&&(this.Z.has(t)||!1===e)?(this.Z.delete(t),!1):(this.Z.add(t),!0)}toString(){return Array.from(this.Z).join(" ")}constructor(){this.Z=new Set}}let t5={acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"};function t4(t){return tN(t)}function t7(t,e){let[,i]=n.useState();return n.useEffect(()=>z(()=>{t(),i({})}),[null!=e?e:t]),t()}function t8(t){return t?"true":"false"}function t6(){let t=new Set;return{add(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];for(let e of i)t.add(e)},empty(){for(let e of t)e();t.clear()}}}function t9(){let t=t6();return x(t.empty),t}function et(t){return Object.keys(t)}function ee(){let t,e;return{promise:new Promise((i,s)=>{t=i,e=s}),resolve:t,reject:e}}function ei(t){return new Promise(e=>setTimeout(e,t))}function es(t){if(a)return K;let e=-1,i;return function(){for(var s=arguments.length,n=Array(s),a=0;a<s;a++)n[a]=arguments[a];i=n,e>=0||(e=window.requestAnimationFrame(()=>{t.apply(this,i),e=-1,i=void 0}))}}let en=a?K:"undefined"!=typeof window?"requestIdleCallback"in window?window.requestIdleCallback:t=>window.setTimeout(t,1):K;function ea(t,e){return a?Promise.resolve():new Promise(i=>{en(e=>{null==t||t(e),i()},e)})}function er(t){let[,e]=n.useState(),i=n.useRef(null);return null==i.current&&(i.current={state:{},$update:N({}),props:new Set}),n.useEffect(()=>{let{state:s,$update:n,props:a}=i.current;return te(()=>{for(let e of a){let i=t[e]();s[e]=tt(i)?[...i]:i}n(),e({})})},[t]),n.useMemo(()=>{let{state:e,$update:s,props:n}=i.current,a=!1;return n.clear(),new Proxy(e,{get(i,r){if(!n.has(r)&&r in t){n.add(r);let i=t[r]();e[r]=tt(i)?[...i]:i,a||(s.set({}),a=!0,queueMicrotask(()=>a=!1))}return e[r]},set:(i,s,n)=>(s in t||(e[s]=n),!0)})},[t])}function el(t,e){if(a){var i={props:new Set(Object.keys(t.props||{}))};function s(e){let s=tA(t,{props:e,scope:n.useContext(tR).current}),a=new t0(s),r={},{style:l={},children:h,forwardRef:o,...u}=e;if(i.props.size)for(let t of Object.keys(u))i.props.has(t)||(r[t]=u[t]);else r=u;if(a.setup(),a.hasAttribute("style")){for(let[t,e]of a.style.tokens)l[t.startsWith("--")?t:tF(t)]=e;a.removeAttribute("style")}for(let[t,e]of a.attributes.tokens){let i=t5[t];i&&(i in r||(r[i]=e),a.removeAttribute(t))}return tV({current:s.$$.d},J(h)?null==h?void 0:h({...Object.fromEntries(a.attributes.tokens),...r,style:l},s):h,n.createElement(()=>(a.destroy(),null)))}return s.displayName=t.name+"Bridge",s}var r={props:new Set(Object.keys(t.props||{})),events:new Set(null==e?void 0:e.events),eventsRE:null==e?void 0:e.eventsRegex,domEvents:null==e?void 0:e.domEvents,domEventsRE:null==e?void 0:e.domEventsRegex};let l=n.forwardRef((e,i)=>{let s=n.useContext(tR),a=n.useRef(null),l=n.useRef();if(!l.current){let i=function(){let t={a:null,aa:[],J:{},_:{},K:-1,E:-1,ea:-1,Q:!1,da:!1,ca:null,ba(e){var i,s;let n=U(e.detail)?[e]:[e.detail,e];null==(i=(s=t._)[e.type])||i.call(s,...n)}};return t}(),n=t_(t,i,e,s.current);i.e=n,l.current=i,a.current=n.scope}n.useEffect(()=>{let t=l.current;return window.cancelAnimationFrame(t.ea),t.ea=-1,function(){J(e.children)&&(window.cancelAnimationFrame(t.K),t.K=-1,window.cancelAnimationFrame(t.E),t.E=-1,window.cancelAnimationFrame(t.ea),t.ea=window.requestAnimationFrame(()=>{t.ea=-1,tU(t),t.e.$$.p(),t.e.$$[tT]=null,t.J={},t._={},a.current=null}))}},[]),n.useEffect(y);let h=l.current,{children:o,...u}=e,d={},c=h.aa,p=Object.keys(u);for(let e of(h.J={},[...c,...p])){var f,g,b,m,v,$,w,k;if(r.props.has(e))h.e.$props[e].set(U(u[e])?null==(v=t.props)?void 0:v[e]:u[e]);else if((null==(f=r.events)?void 0:f.has(e))||(null==(g=r.eventsRE)?void 0:g.test(e)))h.J[e]=u[e];else if((null==(b=r.domEvents)?void 0:b.has(e))||(null==(m=r.domEventsRE)?void 0:m.test(e))){let t=tj(e.slice(2));h._[t]=u[e],p.includes(e)?!h.a||(null==($=h.ca)?void 0:$.has(t))||(h.ca||(h.ca=new Set),h.ca.add(t),h.a.addEventListener(t,h.ba)):(null==(w=h.a)||w.removeEventListener(t,h.ba),null==(k=h.ca)||k.delete(t))}else d[e]=u[e]}return h.aa=p,tV(a,n.createElement(tG,{effect:function(){let n=l.current,r=s.current;if(window.cancelAnimationFrame(n.ea),n.ea=-1,n.e.$$.o){let i=t_(t,n,e,r);n.e=i,n.Q=!1,n.da=!1,a.current=i.scope}return n.a&&tY(n,n.a),n.da||(tH(i,n.e),n.da=!0),()=>tU(n)}}),J(o)?null==o?void 0:o({...d,suppressHydrationWarning:!0,ref:function(t){let e=l.current;if(!e.da){e.a=t;return}window.cancelAnimationFrame(e.K),e.K=window.requestAnimationFrame(()=>{let e=l.current;e.K=-1,e.a!==t&&(tU(e),t&&tY(e,t),e.a=t)})}},h.e):o)});return l.displayName=t.name+"Bridge",l}},829329:t=>{"use strict";t.s({A:()=>nI,B:()=>ss,C:()=>sn,D:()=>nY,G:()=>c,H:()=>ih,I:()=>L,L:()=>$,M:()=>tR,P:()=>aV,Q:()=>eQ,R:()=>ia,T:()=>tp,V:()=>im,Y:()=>tF,a:()=>iu,a6:()=>tP,ac:()=>tx,b:()=>tT,b4:()=>n8,b5:()=>n6,b6:()=>n9,b7:()=>ae,b8:()=>ai,b9:()=>as,bA:()=>aO,bB:()=>aC,bC:()=>aq,bD:()=>aL,bE:()=>aD,ba:()=>an,bb:()=>aa,bc:()=>ar,bd:()=>al,be:()=>ah,bf:()=>ao,bg:()=>au,bh:()=>ad,bi:()=>ac,bj:()=>ap,bk:()=>af,bl:()=>ag,bm:()=>ab,bn:()=>am,bo:()=>av,bp:()=>ay,bq:()=>a$,br:()=>aw,bs:()=>ak,bt:()=>ax,bu:()=>aT,bv:()=>aS,bw:()=>aP,bx:()=>aE,bz:()=>aA,c:()=>tl,d:()=>I,e:()=>j,f:()=>tr,g:()=>tu,h:()=>n4,i:()=>tw,j:()=>iw,k:()=>Y,l:()=>eP,p:()=>th,q:()=>az,r:()=>aW,s:()=>eX,t:()=>n7,u:()=>aY,v:()=>tE,w:()=>at,x:()=>aM,y:()=>sW,z:()=>sQ});var e,i,s,n,a,r,l,h=t.i(373150),o=t.i(47451);let u=Symbol(0),d=class t{log(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.logs.push({data:e}),this}labelledLog(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return this.logs.push({label:t,data:i}),this}groupStart(e){var i;return new t(this.logger,this.level,e,null!=(i=this.root)?i:this,this)}groupEnd(){var t,e;return null==(t=this.parent)||t.logs.push(this),null!=(e=this.parent)?e:this}dispatch(){var t;return this.logger.dispatch(this.level,null!=(t=this.root)?t:this)}constructor(t,e,i,n,a){this.logger=t,this.level=e,this.title=i,this.root=n,this.parent=a,this[s]=!0,this.logs=[]}};s=u;let c=d,p=Symbol(0),f=Symbol(0),g=Symbol(0),b=Symbol(0),m=Symbol(0),v=Symbol(0),y=Symbol(0),$={ea:p,dc:f,A:g,fa:b,Zc:m,Pd:v,Hf:y,If:Symbol(0),Jf:Symbol(0)};class w extends o.P{get length(){return this.B.length}get readonly(){return this[$.Zc]}indexOf(t){return this.B.indexOf(t)}getById(t){var e;return""===t?null:null!=(e=this.B.find(e=>e.id===t))?e:null}toArray(){return[...this.B]}[(n=$.Zc,Symbol.iterator)](){return this.B.values()}[$.ea](t,e){let i=this.B.length;""+i in this||Object.defineProperty(this,i,{get(){return this.B[i]}}),this.B.includes(t)||(this.B.push(t),this.dispatchEvent(new o.D("add",{detail:t,trigger:e})))}[$.dc](t,e){let i=this.B.indexOf(t);if(i>=0){var s;null==(s=this[$.If])||s.call(this,t,e),this.B.splice(i,1),this.dispatchEvent(new o.D("remove",{detail:t,trigger:e}))}}[$.A](t){var e;for(let e of[...this.B])this[$.dc](e,t);this.B=[],this[$.Pd](!1,t),null==(e=this[$.Hf])||e.call(this)}[$.Pd](t,e){this[$.Zc]!==t&&(this[$.Zc]=t,this.dispatchEvent(new o.D("readonly-change",{detail:t,trigger:e})))}constructor(){super(...arguments),this.B=[],this[n]=!1}}var k={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},x=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],T=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],S=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],P="undefined"!=typeof window&&void 0!==window.document?window.document:{},E="fullscreenEnabled"in P&&Object.keys(k)||x[0]in P&&x||T[0]in P&&T||S[0]in P&&S||[],A={requestFullscreen:function(t){return t[E[k.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[E[k.requestFullscreen]]},get exitFullscreen(){return P[E[k.exitFullscreen]].bind(P)},get fullscreenPseudoClass(){return":"+E[k.fullscreen]},addEventListener:function(t,e,i){return P.addEventListener(E[k[t]],e,i)},removeEventListener:function(t,e,i){return P.removeEventListener(E[k[t]],e,i)},get fullscreenEnabled(){return!!P[E[k.fullscreenEnabled]]},set fullscreenEnabled(val){},get fullscreenElement(){return P[E[k.fullscreenElement]]},set fullscreenElement(val){},get onfullscreenchange(){return P[("on"+E[k.fullscreenchange]).toLowerCase()]},set onfullscreenchange(handler){return P[("on"+E[k.fullscreenchange]).toLowerCase()]=handler},get onfullscreenerror(){return P[("on"+E[k.fullscreenerror]).toLowerCase()]},set onfullscreenerror(handler){return P[("on"+E[k.fullscreenerror]).toLowerCase()]=handler}};let O=A.fullscreenEnabled;class C extends o.V{get active(){return this.Qd}get supported(){return O}onConnect(){(0,o.l)(A,"fullscreenchange",this.Rd.bind(this)),(0,o.l)(A,"fullscreenerror",this._c.bind(this)),(0,o.v)(this.Ga.bind(this))}async Ga(){O&&await this.exit()}Rd(t){let e=q(this.el);e!==this.Qd&&(e||(this.ec=!1),this.Qd=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}_c(t){this.ec&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.ec=!1)}async enter(){try{if(this.ec=!0,!this.el||q(this.el))return;return M(),A.requestFullscreen(this.el)}catch(t){throw this.ec=!1,t}}async exit(){if(this.el&&q(this.el))return M(),A.exitFullscreen()}constructor(){super(...arguments),this.ec=!1,this.Qd=!1}}function q(t){if(A.fullscreenElement===t)return!0;try{return t.matches(A.fullscreenPseudoClass)}catch(t){return!1}}function M(){if(!O)throw Error("[vidstack] no fullscreen API")}let L="undefined"==typeof document,D=L?"":(null==(e=navigator)?void 0:e.userAgent.toLowerCase())||"",j=!L&&/iphone|ipad|ipod|ios|crios|fxios/i.test(D),F=!L&&/(iphone|ipod)/gi.test((null==(i=navigator)?void 0:i.platform)||""),I=!L&&!!window.chrome,R=!L&&(!!window.safari||j);function V(){return!L&&!(0,o.n)(window.screen.orientation)&&!(0,o.n)(window.screen.orientation.lock)&&(0,o.o)(screen.orientation.unlock)}function W(t,e){return!L&&(t||(t=document.createElement("audio")),t.canPlayType(e).length>0)}function N(t,e){return!L&&(t||(t=document.createElement("video")),t.canPlayType(e).length>0)}function H(t){return!L&&(t||(t=document.createElement("video")),t.canPlayType("application/vnd.apple.mpegurl").length>0)}function z(t){return!L&&!!document.pictureInPictureEnabled&&!(null==t?void 0:t.disablePictureInPicture)}function G(t){return!L&&(0,o.o)(null==t?void 0:t.webkitSupportsPresentationMode)&&(0,o.o)(null==t?void 0:t.webkitSetPresentationMode)}async function K(){let t=document.createElement("video");return t.volume=.5,await (0,o.Q)(0),.5===t.volume}function Y(){var t,e,i,s,n,a,r,l;if(L)return!1;let h=L?void 0:null!=(n=null!=(s=null==(t=window)?void 0:t.ManagedMediaSource)?s:null==(e=window)?void 0:e.MediaSource)?n:null==(i=window)?void 0:i.WebKitMediaSource;if((0,o.n)(h))return!1;let u=h&&(0,o.o)(h.isTypeSupported)&&h.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),d=L?void 0:null!=(l=null==(a=window)?void 0:a.SourceBuffer)?l:null==(r=window)?void 0:r.WebKitSourceBuffer,c=(0,o.n)(d)||!(0,o.n)(d.prototype)&&(0,o.o)(d.prototype.appendBuffer)&&(0,o.o)(d.prototype.remove);return!!u&&!!c}let U=class t extends o.V{get type(){return this.ma()}get locked(){return this.Db()}get portrait(){return this.ma().startsWith("portrait")}get landscape(){return this.ma().startsWith("landscape")}get supported(){return t.supported}onConnect(){if(this.supported)(0,o.l)(screen.orientation,"change",this.Lf.bind(this));else{let t=window.matchMedia("(orientation: landscape)");t.onchange=this.Lf.bind(this),(0,o.v)(()=>t.onchange=null)}(0,o.v)(this.Ga.bind(this))}async Ga(){this.supported&&this.Db()&&await this.unlock()}Lf(t){this.ma.set(this.Kf()),this.dispatch("orientation-change",{detail:{orientation:(0,o.p)(this.ma),lock:this.$c},trigger:t})}async lock(t){(0,o.p)(this.Db)||this.$c===t||(this.Mf(),await screen.orientation.lock(t),this.Db.set(!0),this.$c=t)}async unlock(){(0,o.p)(this.Db)&&(this.Mf(),this.$c=void 0,await screen.orientation.unlock(),this.Db.set(!1))}Mf(){if(!this.supported)throw Error("[vidstack] no orientation API")}Kf(){return L?"portrait-primary":this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}constructor(){super(...arguments),this.ma=(0,o.s)(this.Kf()),this.Db=(0,o.s)(!1)}};U.supported=V();let B=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,_=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp4","audio/webm","audio/flac"]),Q=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Z=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),X=/\.(m3u8)($|\?)/i,J=/\.(mpd)($|\?)/i,tt=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),te=new Set(["application/dash+xml"]);function ti(t){let{src:e,type:i}=t;return(0,o.i)(e)?B.test(e)||_.has(i)||e.startsWith("blob:")&&"audio/object"===i:"audio/object"===i}function ts(t){return(0,o.i)(t.src)?Q.test(t.src)||Z.has(t.type)||t.src.startsWith("blob:")&&"video/object"===t.type||tn(t)&&(L||H()):"video/object"===t.type}function tn(t){let{src:e,type:i}=t;return(0,o.i)(e)&&X.test(e)||tt.has(i)}function ta(t){let{src:e,type:i}=t;return(0,o.i)(e)&&J.test(e)||te.has(i)}function tr(t){return(0,o.i)(t.src)&&(ti(t)||ts(t)||tn(t))}function tl(t,e){let i=new URLSearchParams;for(let t of Object.keys(e))i.set(t,e[t]+"");return t+"?"+i.toString()}function th(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preconnect";if(L)return!1;let i=document.querySelector('link[href="'.concat(t,'"]'));if(!(0,o.R)(i))return!0;let s=document.createElement("link");return s.rel=e,s.href=t,s.crossOrigin="true",document.head.append(s),!0}let to={};function tu(t){if(to[t])return to[t].promise;let e=(0,o.f)(),i=document.querySelector('script[src="'.concat(t,'"]'));if(!(0,o.R)(i))return e.resolve(),e.promise;let s=document.createElement("script");return s.src=t,s.onload=()=>{e.resolve(),delete to[t]},s.onerror=()=>{e.reject(),delete to[t]},setTimeout(()=>document.head.append(s),0),e.promise}function td(t){return"use-credentials"===t?"include":(0,o.i)(t)?"same-origin":void 0}function tc(t){return!(0,o.i)(t)&&"width"in t&&"height"in t&&(0,o.j)(t.width)&&(0,o.j)(t.height)}class tp{get length(){return this.ua.length}start(t){var e;return null!=(e=this.ua[t][0])?e:1/0}end(t){var e;return null!=(e=this.ua[t][1])?e:1/0}constructor(t,e){(0,o.g)(t)?this.ua=t:(0,o.n)(t)||(0,o.n)(e)?this.ua=[]:this.ua=[[t,e]]}}function tf(t){if(!t.length)return null;let e=t.start(0);for(let i=1;i<t.length;i++){let s=t.start(i);s<e&&(e=s)}return e}function tg(t){if(!t.length)return null;let e=t.end(0);for(let i=1;i<t.length;i++){let s=t.end(i);s>e&&(e=s)}return e}let tb=Symbol(0),tm=Symbol(0),tv=Symbol(0),ty=Symbol(0),t$=Symbol(0),tw={Eb:tb,na:tm,Fb:tv,_:ty,ib:t$,$:Symbol(0),Nf:Symbol(0)};function tk(t,e){return e>=t.startTime&&e<t.endTime}function tx(t,e,i){let s=null,n=(0,o.S)();function a(){let a=(0,o.i)(e)?[e]:e,r=t.toArray().find(t=>a.includes(t.kind)&&"showing"===t.mode);if(r!==s){if(!r){i(null),s=null;return}2==r.readyState?i(r):(i(null),(0,o.a)(()=>{let t=(0,o.l)(r,"load",()=>{i(r),t()},{once:!0})},n)),s=r}}return a(),(0,o.l)(t,"mode-change",a)}class tT extends o.P{static createId(t){var e,i;return"vds-".concat(t.type,"-").concat(t.kind,"-").concat(null!=(i=null!=(e=t.src)?e:t.label)?i:"?")}get metadata(){return this.Of}get regions(){return this.ad}get cues(){return this.C}get activeCues(){return this.Gb}get readyState(){return this[tw.na]}get mode(){return this.V}set mode(t){this.setMode(t)}addCue(t,e){let i=0,s=this.C.length;for(i=0;i<s&&!(t.endTime<=this.C[i].startTime);i++);if(i===s?this.C.push(t):this.C.splice(i,0,t),!(t instanceof TextTrackCue)){var n;null==(n=this[tw.$])||n.track.addCue(t)}this.dispatchEvent(new o.D("add-cue",{detail:t,trigger:e})),tk(t,this.va)&&this[tw.Fb](this.va,e)}removeCue(t,e){let i=this.C.indexOf(t);if(i>=0){var s;let n=this.Gb.includes(t);this.C.splice(i,1),null==(s=this[tw.$])||s.track.removeCue(t),this.dispatchEvent(new o.D("remove-cue",{detail:t,trigger:e})),n&&this[tw.Fb](this.va,e)}}setMode(t,e){var i;this.V!==t&&(this.V=t,"disabled"===t?(this.Gb=[],this.Pf()):2===this.readyState?this[tw.Fb](this.va,e):this.Qf(),this.dispatchEvent(new o.D("mode-change",{detail:this,trigger:e})),null==(i=this[tw.ib])||i.call(this))}[(a=tw.na,r=tw.ib,l=tw.$,tw.Fb)](t,e){if(this.va=t,"disabled"===this.mode||!this.C.length)return;let i=[];for(let e=0,s=this.C.length;e<s;e++){let s=this.C[e];tk(s,t)&&i.push(s)}let s=i.length!==this.Gb.length;if(!s){for(let t=0;t<i.length;t++)if(!this.Gb.includes(i[t])){s=!0;break}}this.Gb=i,s&&this.Pf(e)}[tw._](){this._=!0,"disabled"!==this.V&&this.Qf()}$h(e){t.r(382537)(t.i).then(t=>{let{parseText:i,VTTCue:s,VTTRegion:n}=t;(0,o.i)(e.content)&&"json"!==e.type?i(e.content,{type:e.type}).then(t=>{let{cues:e,regions:i}=t;this.C=e,this.ad=i,this.Ha()}):(this.Rf(e.content,s,n),3!==this.readyState&&this.Ha())})}async Qf(){if(this._&&!(this[tw.na]>0)){if(this[tw.na]=1,this.dispatchEvent(new o.D("load-start")),!this.src)return void this.Ha();try{var e,i;let{parseResponse:s,VTTCue:n,VTTRegion:a}=await t.r(382537)(t.i),r=null==(e=this[tw.Eb])?void 0:e.call(this),l=fetch(this.src,{headers:"json"===this.type?{"Content-Type":"application/json"}:void 0,credentials:td(r)});if("json"===this.type)this.Rf(await (await l).text(),n,a);else{let{errors:t,metadata:e,regions:n,cues:a}=await s(l,{type:this.type,encoding:this.encoding});if((null==(i=t[0])?void 0:i.code)===0)throw t[0];this.Of=e,this.ad=n,this.C=a}this.Ha()}catch(t){this.Sf(t)}}}Ha(){if(this[tw.na]=2,!this.src||"vtt"!==this.type){let t=this[tw.$];if(t&&!t.managed)for(let e of this.C)t.track.addCue(e)}let t=new o.D("load");this[tw.Fb](this.va,t),this.dispatchEvent(t)}Sf(t){this[tw.na]=3,this.dispatchEvent(new o.D("error",{detail:t}))}Rf(t,e,i){try{let{regions:s,cues:n}=function(t,e,i){let s=(0,o.i)(t)?JSON.parse(t):t,n=[],a=[];return s.regions&&i&&(n=s.regions.map(t=>Object.assign(new i,t))),(s.cues||(0,o.g)(s))&&(a=((0,o.g)(s)?s:s.cues).filter(t=>(0,o.j)(t.startTime)&&(0,o.j)(t.endTime)).map(t=>Object.assign(new e(0,0,""),t))),{regions:n,cues:a}}(t,e,i);this.ad=s,this.C=n}catch(t){this.Sf(t)}}Pf(t){this.dispatchEvent(new o.D("cue-change",{trigger:t}))}constructor(t){for(let e of(super(),this.id="",this.label="",this.language="",this.default=!1,this._=!1,this.va=0,this.V="disabled",this.Of={},this.ad=[],this.C=[],this.Gb=[],this[a]=0,this[r]=null,this[l]=null,Object.keys(t)))this[e]=t[e];this.type||(this.type="vtt"),!L&&t.content?this.$h(t):t.src||(this[tw.na]=2)}}let tS=/captions|subtitles/;function tP(t){return tS.test(t.kind)}let tE=new o.T({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new tp,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:V(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return F&&"video"===this.mediaType&&(!this.playsInline||!A.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new tp,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new tp,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(tP).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return"unknown"!==this.providedViewType?this.providedViewType:this.inferredViewType},get streamType(){return"unknown"!==this.providedStreamType?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){var tA;return Math.max(0,(null!=(tA=tf(this.buffered))?tA:0)-this.clipStartTime)},get bufferedEnd(){var tO;let t=null!=(tO=tg(this.buffered))?tO:0;return Math.min(this.duration,Math.max(0,t-this.clipStartTime))},get seekableStart(){var tC;return Math.max(0,(null!=(tC=tf(this.seekable))?tC:0)-this.clipStartTime)},get seekableEnd(){var tq;let t=this.canPlay?null!=(tq=tg(this.seekable))?tq:1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,t-this.clipStartTime)):t},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return"airplay"===this.remotePlaybackType&&"connected"===this.remotePlaybackState},get isGoogleCastConnected(){return"google-cast"===this.remotePlaybackType&&"connected"===this.remotePlaybackState},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){var tM;return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(null!=(tM=this.liveSyncPosition)?tM:this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,savedState:null}),tL=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),tD=new Set([...tL,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function tj(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?tL:tD;tE.reset(t,t=>i.has(t)),(0,o.t)()}let tF=(0,o.U)();function tI(){return(0,o.O)(tF)}class tR{setTarget(t){this.H=t}getPlayer(t){var e;return this.f||null==(e=null!=t?t:this.H)||e.dispatchEvent(new o.D("find-media-player",{detail:t=>void(this.f=t),bubbles:!0,composed:!0})),this.f}setPlayer(t){this.f=t}startLoading(t){this.t("media-start-loading",t)}startLoadingPoster(t){this.t("media-poster-start-loading",t)}requestAirPlay(t){this.t("media-airplay-request",t)}requestGoogleCast(t){this.t("media-google-cast-request",t)}play(t){this.t("media-play-request",t)}pause(t){this.t("media-pause-request",t)}mute(t){this.t("media-mute-request",t)}unmute(t){this.t("media-unmute-request",t)}enterFullscreen(t,e){this.t("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.t("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.t("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.t("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.t("media-enter-pip-request",t)}exitPictureInPicture(t){this.t("media-exit-pip-request",t)}seeking(t,e){this.t("media-seeking-request",e,t)}seek(t,e){this.t("media-seek-request",e,t)}seekToLiveEdge(t){this.t("media-live-edge-request",t)}changeVolume(t,e){this.t("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.t("media-audio-track-change-request",e,t)}changeQuality(t,e){this.t("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,i){this.t("media-text-track-change-request",i,{index:t,mode:e})}changePlaybackRate(t,e){this.t("media-rate-change-request",e,t)}changeAudioGain(t,e){this.t("media-audio-gain-change-request",e,t)}resumeControls(t){this.t("media-resume-controls-request",t)}pauseControls(t){this.t("media-pause-controls-request",t)}togglePaused(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){let i=this.getPlayer(null==e?void 0:e.target);i&&(i.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);if(!e)return;let i=e.state.textTracks,s=this.Sd;i[s]&&tP(i[s])||(s=-1),-1===s&&(s=i.findIndex(t=>tP(t)&&t.default)),-1===s&&(s=i.findIndex(t=>tP(t))),s>=0&&this.changeTextTrackMode(s,"showing",t),this.Sd=-1}disableCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);if(!e)return;let i=e.state.textTracks,s=e.state.textTrack;if(s){let e=i.indexOf(s);this.changeTextTrackMode(e,"disabled",t),this.Sd=e}}toggleCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,e){this.t("media-user-loop-change-request",e,t)}t(t,e,i){var s,n,a;let r=new o.D(t,{bubbles:!0,composed:!0,cancelable:!0,detail:i,trigger:e}),l=(null==e?void 0:e.target)||null;l&&l instanceof o.W&&(l=l.el),l=!l||l===document||l===window||l===document.body||(null==(s=this.f)?void 0:s.el)&&l instanceof Node&&!this.f.el.contains(l)?null!=(a=this.H)?a:null==(n=this.getPlayer())?void 0:n.el:null!=l?l:this.H,this.f&&("media-play-request"!==t||this.f.state.canLoad)?this.f.canPlayQueue.k(t,()=>null==l?void 0:l.dispatchEvent(r)):null==l||l.dispatchEvent(r)}Wa(t){}constructor(t){this.cc=t,this.H=null,this.f=null,this.Sd=-1}}let tV=Math.min,tW=Math.max,tN=Math.round,tH=Math.floor,tz=t=>({x:t,y:t}),tG={left:"right",right:"left",bottom:"top",top:"bottom"},tK={start:"end",end:"start"};function tY(t,e){return"function"==typeof t?t(e):t}function tU(t){return t.split("-")[0]}function tB(t){return t.split("-")[1]}function t_(t){return"x"===t?"y":"x"}function tQ(t){return"y"===t?"height":"width"}function tZ(t){return["top","bottom"].includes(tU(t))?"y":"x"}function tX(t){return t.replace(/start|end/g,t=>tK[t])}function tJ(t){return t.replace(/left|right|bottom|top/g,t=>tG[t])}function t0(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function t1(t,e,i){let s,{reference:n,floating:a}=t,r=tZ(e),l=t_(tZ(e)),h=tQ(l),o=tU(e),u="y"===r,d=n.x+n.width/2-a.width/2,c=n.y+n.height/2-a.height/2,p=n[h]/2-a[h]/2;switch(o){case"top":s={x:d,y:n.y-a.height};break;case"bottom":s={x:d,y:n.y+n.height};break;case"right":s={x:n.x+n.width,y:c};break;case"left":s={x:n.x-a.width,y:c};break;default:s={x:n.x,y:n.y}}switch(tB(e)){case"start":s[l]-=p*(i&&u?-1:1);break;case"end":s[l]+=p*(i&&u?-1:1)}return s}let t2=async(t,e,i)=>{let{placement:s="bottom",strategy:n="absolute",middleware:a=[],platform:r}=i,l=a.filter(Boolean),h=await (null==r.isRTL?void 0:r.isRTL(e)),o=await r.getElementRects({reference:t,floating:e,strategy:n}),{x:u,y:d}=t1(o,s,h),c=s,p={},f=0;for(let i=0;i<l.length;i++){let{name:a,fn:g}=l[i],{x:b,y:m,data:v,reset:y}=await g({x:u,y:d,initialPlacement:s,placement:c,strategy:n,middlewareData:p,rects:o,platform:r,elements:{reference:t,floating:e}});u=null!=b?b:u,d=null!=m?m:d,p={...p,[a]:{...p[a],...v}},y&&f<=50&&(f++,"object"==typeof y&&(y.placement&&(c=y.placement),y.rects&&(o=!0===y.rects?await r.getElementRects({reference:t,floating:e,strategy:n}):y.rects),{x:u,y:d}=t1(o,c,h)),i=-1)}return{x:u,y:d,placement:c,strategy:n,middlewareData:p}};async function t3(t,e){var i,s;void 0===e&&(e={});let{x:n,y:a,platform:r,rects:l,elements:h,strategy:o}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:c="floating",altBoundary:p=!1,padding:f=0}=tY(e,t),g="number"!=typeof(s=f)?{top:0,right:0,bottom:0,left:0,...s}:{top:s,right:s,bottom:s,left:s},b=h[p?"floating"===c?"reference":"floating":c],m=t0(await r.getClippingRect({element:null==(i=await (null==r.isElement?void 0:r.isElement(b)))||i?b:b.contextElement||await (null==r.getDocumentElement?void 0:r.getDocumentElement(h.floating)),boundary:u,rootBoundary:d,strategy:o})),v="floating"===c?{...l.floating,x:n,y:a}:l.reference,y=await (null==r.getOffsetParent?void 0:r.getOffsetParent(h.floating)),$=await (null==r.isElement?void 0:r.isElement(y))&&await (null==r.getScale?void 0:r.getScale(y))||{x:1,y:1},w=t0(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:v,offsetParent:y,strategy:o}):v);return{top:(m.top-w.top+g.top)/$.y,bottom:(w.bottom-m.bottom+g.bottom)/$.y,left:(m.left-w.left+g.left)/$.x,right:(w.right-m.right+g.right)/$.x}}function t5(t){return t8(t)?(t.nodeName||"").toLowerCase():"#document"}function t4(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function t7(t){var e;return null==(e=(t8(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function t8(t){return t instanceof Node||t instanceof t4(t).Node}function t6(t){return t instanceof Element||t instanceof t4(t).Element}function t9(t){return t instanceof HTMLElement||t instanceof t4(t).HTMLElement}function et(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof t4(t).ShadowRoot)}function ee(t){let{overflow:e,overflowX:i,overflowY:s,display:n}=ea(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!["inline","contents"].includes(n)}function ei(t){let e=es(),i=ea(t);return"none"!==i.transform||"none"!==i.perspective||!!i.containerType&&"normal"!==i.containerType||!e&&!!i.backdropFilter&&"none"!==i.backdropFilter||!e&&!!i.filter&&"none"!==i.filter||["transform","perspective","filter"].some(t=>(i.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(i.contain||"").includes(t))}function es(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function en(t){return["html","body","#document"].includes(t5(t))}function ea(t){return t4(t).getComputedStyle(t)}function er(t){return t6(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function el(t){if("html"===t5(t))return t;let e=t.assignedSlot||t.parentNode||et(t)&&t.host||t7(t);return et(e)?e.host:e}function eh(t,e,i){var s;void 0===e&&(e=[]),void 0===i&&(i=!0);let n=function t(e){let i=el(e);return en(i)?e.ownerDocument?e.ownerDocument.body:e.body:t9(i)&&ee(i)?i:t(i)}(t),a=n===(null==(s=t.ownerDocument)?void 0:s.body),r=t4(n);return a?e.concat(r,r.visualViewport||[],ee(n)?n:[],r.frameElement&&i?eh(r.frameElement):[]):e.concat(n,eh(n,[],i))}function eo(t){let e=ea(t),i=parseFloat(e.width)||0,s=parseFloat(e.height)||0,n=t9(t),a=n?t.offsetWidth:i,r=n?t.offsetHeight:s,l=tN(i)!==a||tN(s)!==r;return l&&(i=a,s=r),{width:i,height:s,$:l}}function eu(t){return t6(t)?t:t.contextElement}function ed(t){let e=eu(t);if(!t9(e))return tz(1);let i=e.getBoundingClientRect(),{width:s,height:n,$:a}=eo(e),r=(a?tN(i.width):i.width)/s,l=(a?tN(i.height):i.height)/n;return r&&Number.isFinite(r)||(r=1),l&&Number.isFinite(l)||(l=1),{x:r,y:l}}let ec=tz(0);function ep(t){let e=t4(t);return es()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:ec}function ef(t,e,i,s){var n;void 0===e&&(e=!1),void 0===i&&(i=!1);let a=t.getBoundingClientRect(),r=eu(t),l=tz(1);e&&(s?t6(s)&&(l=ed(s)):l=ed(t));let h=(void 0===(n=i)&&(n=!1),s&&(!n||s===t4(r))&&n)?ep(r):tz(0),o=(a.left+h.x)/l.x,u=(a.top+h.y)/l.y,d=a.width/l.x,c=a.height/l.y;if(r){let t=t4(r),e=s&&t6(s)?t4(s):s,i=t,n=i.frameElement;for(;n&&s&&e!==i;){let t=ed(n),e=n.getBoundingClientRect(),s=ea(n),a=e.left+(n.clientLeft+parseFloat(s.paddingLeft))*t.x,r=e.top+(n.clientTop+parseFloat(s.paddingTop))*t.y;o*=t.x,u*=t.y,d*=t.x,c*=t.y,o+=a,u+=r,n=(i=t4(n)).frameElement}}return t0({width:d,height:c,x:o,y:u})}let eg=[":popover-open",":modal"];function eb(t){return eg.some(e=>{try{return t.matches(e)}catch(t){return!1}})}function em(t){return ef(t7(t)).left+er(t).scrollLeft}function ev(t,e,i){let s;if("viewport"===e)s=function(t,e){let i=t4(t),s=t7(t),n=i.visualViewport,a=s.clientWidth,r=s.clientHeight,l=0,h=0;if(n){a=n.width,r=n.height;let t=es();(!t||t&&"fixed"===e)&&(l=n.offsetLeft,h=n.offsetTop)}return{width:a,height:r,x:l,y:h}}(t,i);else if("document"===e)s=function(t){let e=t7(t),i=er(t),s=t.ownerDocument.body,n=tW(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=tW(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight),r=-i.scrollLeft+em(t),l=-i.scrollTop;return"rtl"===ea(s).direction&&(r+=tW(e.clientWidth,s.clientWidth)-n),{width:n,height:a,x:r,y:l}}(t7(t));else if(t6(e))s=function(t,e){let i=ef(t,!0,"fixed"===e),s=i.top+t.clientTop,n=i.left+t.clientLeft,a=t9(t)?ed(t):tz(1),r=t.clientWidth*a.x,l=t.clientHeight*a.y;return{width:r,height:l,x:n*a.x,y:s*a.y}}(e,i);else{let i=ep(t);s={...e,x:e.x-i.x,y:e.y-i.y}}return t0(s)}function ey(t,e){return t9(t)&&"fixed"!==ea(t).position?e?e(t):t.offsetParent:null}function e$(t,e){let i=t4(t);if(!t9(t)||eb(t))return i;let s=ey(t,e);for(;s&&["table","td","th"].includes(t5(s))&&"static"===ea(s).position;)s=ey(s,e);return s&&("html"===t5(s)||"body"===t5(s)&&"static"===ea(s).position&&!ei(s))?i:s||function(t){let e=el(t);for(;t9(e)&&!en(e);)if(ei(e))return e;else e=el(e);return null}(t)||i}let ew=async function(t){let e=this.getOffsetParent||e$,i=this.getDimensions;return{reference:function(t,e,i){let s=t9(e),n=t7(e),a="fixed"===i,r=ef(t,!0,a,e),l={scrollLeft:0,scrollTop:0},h=tz(0);if(s||!s&&!a)if(("body"!==t5(e)||ee(n))&&(l=er(e)),s){let t=ef(e,!0,a,e);h.x=t.x+e.clientLeft,h.y=t.y+e.clientTop}else n&&(h.x=em(n));return{x:r.left+l.scrollLeft-h.x,y:r.top+l.scrollTop-h.y,width:r.width,height:r.height}}(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await i(t.floating)}}},ek={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:s,strategy:n}=t,a="fixed"===n,r=t7(s),l=!!e&&eb(e.floating);if(s===r||l&&a)return i;let h={scrollLeft:0,scrollTop:0},o=tz(1),u=tz(0),d=t9(s);if((d||!d&&!a)&&(("body"!==t5(s)||ee(r))&&(h=er(s)),t9(s))){let t=ef(s);o=ed(s),u.x=t.x+s.clientLeft,u.y=t.y+s.clientTop}return{width:i.width*o.x,height:i.height*o.y,x:i.x*o.x-h.scrollLeft*o.x+u.x,y:i.y*o.y-h.scrollTop*o.y+u.y}},getDocumentElement:t7,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:s,strategy:n}=t,a=[..."clippingAncestors"===i?function(t,e){let i=e.get(t);if(i)return i;let s=eh(t,[],!1).filter(t=>t6(t)&&"body"!==t5(t)),n=null,a="fixed"===ea(t).position,r=a?el(t):t;for(;t6(r)&&!en(r);){let e=ea(r),i=ei(r);i||"fixed"!==e.position||(n=null),(a?!i&&!n:!i&&"static"===e.position&&!!n&&["absolute","fixed"].includes(n.position)||ee(r)&&!i&&function t(e,i){let s=el(e);return!(s===i||!t6(s)||en(s))&&("fixed"===ea(s).position||t(s,i))}(t,r))?s=s.filter(t=>t!==r):n=e,r=el(r)}return e.set(t,s),s}(e,this._c):[].concat(i),s],r=a[0],l=a.reduce((t,i)=>{let s=ev(e,i,n);return t.top=tW(s.top,t.top),t.right=tV(s.right,t.right),t.bottom=tV(s.bottom,t.bottom),t.left=tW(s.left,t.left),t},ev(e,r,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:e$,getElementRects:ew,getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){let{width:e,height:i}=eo(t);return{width:e,height:i}},getScale:ed,isElement:t6,isRTL:function(t){return"rtl"===ea(t).direction}};function ex(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(t.toFixed(e))}function eT(t){var e,i;return null!=(i=null==(e=String(t).split(".")[1])?void 0:e.length)?i:0}function eS(t,e,i){return Math.max(t,Math.min(i,e))}function eP(t,e,i){if(t)return(0,o.l)(t,e,i)}function eE(t,e){return(0,o.X)(e.target)&&t.contains(e.target)}let eA=new Set;if(!L){let t=function(){for(let t of eA)try{t()}catch(t){}window.requestAnimationFrame(t)};t()}function eO(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}function eC(t,e){if(!(t.hasAttribute("aria-label")||t.hasAttribute("data-no-label"))){if(!(0,o.o)(e))return void(0,o.Y)(t,"aria-label",e);L?i():(0,o.e)(i)}function i(){(0,o.Y)(t,"aria-label",e())}}function eq(t){let e=getComputedStyle(t);return"none"!==e.display&&parseInt(e.opacity)>0}function eM(t,e){var i;return i=()=>e(!!t&&("checkVisibility"in t?t.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):eq(t))),eA.add(i),()=>eA.delete(i)}function eL(t,e,i){for(;e;)if(e===t)return!0;else if(null==i?void 0:i(e))break;else e=e.parentElement;return!1}function eD(t,e){(0,o.l)(t,"pointerup",t=>{0!==t.button||t.defaultPrevented||e(t)}),(0,o.l)(t,"keydown",t=>{(0,o.z)(t)&&e(t)})}function ej(t){return(0,o.Z)(t)&&(t.touches.length>1||t.changedTouches.length>1)}function eF(t){if(L)return t();let e=(0,o.S)(),i=window.requestAnimationFrame(()=>{(0,o.a)(t,e),i=-1});return()=>void window.cancelAnimationFrame(i)}function eI(t,e,i,s){let{offsetVarName:n,xOffset:a,yOffset:r,...l}=s;if(!t)return;let h=i.replace(" ","-").replace("-center","");if((0,o._)(t,"visibility",e?null:"hidden"),!e)return;let u=i.includes("top");return function(t,e,i,s){let n;void 0===s&&(s={});let{ancestorScroll:a=!0,ancestorResize:r=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:h="function"==typeof IntersectionObserver,animationFrame:o=!1}=s,u=eu(t),d=a||r?[...u?eh(u):[],...eh(e)]:[];d.forEach(t=>{a&&t.addEventListener("scroll",i,{passive:!0}),r&&t.addEventListener("resize",i)});let c=u&&h?function(t,e){let i,s=null,n=t7(t);function a(){var t;clearTimeout(i),null==(t=s)||t.disconnect(),s=null}return!function r(l,h){void 0===l&&(l=!1),void 0===h&&(h=1),a();let{left:o,top:u,width:d,height:c}=t.getBoundingClientRect();if(l||e(),!d||!c)return;let p=tH(u),f=tH(n.clientWidth-(o+d)),g={rootMargin:-p+"px "+-f+"px "+-tH(n.clientHeight-(u+c))+"px "+-tH(o)+"px",threshold:tW(0,tV(1,h))||1},b=!0;function m(t){let e=t[0].intersectionRatio;if(e!==h){if(!b)return r();e?r(!1,e):i=setTimeout(()=>{r(!1,1e-7)},100)}b=!1}try{s=new IntersectionObserver(m,{...g,root:n.ownerDocument})}catch(t){s=new IntersectionObserver(m,g)}s.observe(t)}(!0),a}(u,i):null,p=-1,f=null;l&&(f=new ResizeObserver(t=>{let[s]=t;s&&s.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var t;null==(t=f)||t.observe(e)})),i()}),u&&!o&&f.observe(u),f.observe(e));let g=o?ef(t):null;return o&&function e(){let s=ef(t);g&&(s.x!==g.x||s.y!==g.y||s.width!==g.width||s.height!==g.height)&&i(),g=s,n=requestAnimationFrame(e)}(),i(),()=>{var t;d.forEach(t=>{a&&t.removeEventListener("scroll",i),r&&t.removeEventListener("resize",i)}),null==c||c(),null==(t=f)||t.disconnect(),f=null,o&&cancelAnimationFrame(n)}}(e,t,()=>{var s,o,d;((t,e,i)=>{let s=new Map,n={platform:ek,...i},a={...n.platform,_c:s};return t2(t,e,{...n,platform:a})})(e,t,{placement:h,middleware:[...null!=(s=l.middleware)?s:[],{name:"flip",options:o={fallbackAxisSideDirection:"start",crossAxis:!1},async fn(t){var e,i,s,n,a;let{placement:r,middlewareData:l,rects:h,initialPlacement:u,platform:d,elements:c}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...y}=tY(o,t);if(null!=(e=l.arrow)&&e.alignmentOffset)return{};let $=tU(r),w=tU(u)===u,k=await (null==d.isRTL?void 0:d.isRTL(c.floating)),x=g||(w||!v?[tJ(u)]:function(t){let e=tJ(t);return[tX(t),e,tX(e)]}(u));g||"none"===m||x.push(...function(t,e,i,s){let n=tB(t),a=function(t,e,i){let s=["left","right"],n=["right","left"];switch(t){case"top":case"bottom":if(i)return e?n:s;return e?s:n;case"left":case"right":return e?["top","bottom"]:["bottom","top"];default:return[]}}(tU(t),"start"===i,s);return n&&(a=a.map(t=>t+"-"+n),e&&(a=a.concat(a.map(tX)))),a}(u,v,m,k));let T=[u,...x],S=await t3(t,y),P=[],E=(null==(i=l.flip)?void 0:i.overflows)||[];if(p&&P.push(S[$]),f){let t=function(t,e,i){void 0===i&&(i=!1);let s=tB(t),n=t_(tZ(t)),a=tQ(n),r="x"===n?s===(i?"end":"start")?"right":"left":"start"===s?"bottom":"top";return e.reference[a]>e.floating[a]&&(r=tJ(r)),[r,tJ(r)]}(r,h,k);P.push(S[t[0]],S[t[1]])}if(E=[...E,{placement:r,overflows:P}],!P.every(t=>t<=0)){let t=((null==(s=l.flip)?void 0:s.index)||0)+1,e=T[t];if(e)return{data:{index:t,overflows:E},reset:{placement:e}};let i=null==(n=E.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:n.placement;if(!i)switch(b){case"bestFit":{let t=null==(a=E.map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:a[0];t&&(i=t);break}case"initialPlacement":i=u}if(r!==i)return{reset:{placement:i}}}return{}}},(void 0===d&&(d={}),{name:"shift",options:d,async fn(t){let{x:e,y:i,placement:s}=t,{mainAxis:n=!0,crossAxis:a=!1,limiter:r={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...l}=tY(d,t),h={x:e,y:i},o=await t3(t,l),u=tZ(tU(s)),c=t_(u),p=h[c],f=h[u];if(n){let t="y"===c?"top":"left",e="y"===c?"bottom":"right",i=p+o[t],s=p-o[e];p=tW(i,tV(p,s))}if(a){let t="y"===u?"top":"left",e="y"===u?"bottom":"right",i=f+o[t],s=f-o[e];f=tW(i,tV(f,s))}let g=r.fn({...t,[c]:p,[u]:f});return{...g,data:{x:g.x-e,y:g.y-i}}}})],...l}).then(e=>{var s;let l,h,{x:o,y:d,middlewareData:c}=e,p=!!(null==(s=c.flip)?void 0:s.index);u=i.includes(p?"bottom":"top"),t.setAttribute("data-placement",p?i.startsWith("top")?i.replace("top","bottom"):i.replace("bottom","top"):i),Object.assign(t.style,{top:"calc(".concat(d+"px"," + ").concat((l=r?r+"px":"var(--".concat(n,"-y-offset, 0px)"),u?"calc(-1 * ".concat(l,")"):l),")"),left:"calc(".concat(o+"px"," + ").concat((h=a?a+"px":"var(--".concat(n,"-x-offset, 0px)"),i.includes("left")?"calc(-1 * ".concat(h,")"):h),")")})})})}function eR(t){return t instanceof HTMLElement}class eV extends o.V{}class eW extends eV{get canIdle(){return this.Vd()}set canIdle(t){this.Vd.set(t)}get hideOnMouseLeave(){let{hideControlsOnMouseLeave:t}=this.$props;return this.Tf()||t()}set hideOnMouseLeave(t){this.Tf.set(t)}get showing(){return this.$state.controlsVisible()}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.Wd(),this.Hb||this.bd(!0,t,e)}hide(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultDelay,e=arguments.length>1?arguments[1]:void 0;this.Wd(),this.Hb||this.bd(!1,t,e)}pause(t){this.Hb=!0,this.Wd(),this.bd(!0,0,t)}resume(t){this.Hb=!1,this.$state.paused()||this.bd(!1,this.defaultDelay,t)}onConnect(){(0,o.e)(this.Ib.bind(this))}Ib(){let{viewType:t}=this.$state;if(!this.Vd())return;if("audio"===t())return void this.show();(0,o.e)(this.ai.bind(this)),(0,o.e)(this.gc.bind(this));let e=this.hc.bind(this),i=this.jb.bind(this);this.listen("can-play",t=>this.show(0,t)),this.listen("play",e),this.listen("pause",i),this.listen("auto-play-fail",i)}ai(){let{started:t,pointer:e,paused:i}=this.$state;if(!t()||"fine"!==e())return;let s=this.hideOnMouseLeave;s&&this.Ud()||(0,o.e)(()=>{i()||this.listen("pointermove",this.Uf.bind(this))}),s&&(this.listen("mouseenter",this.bi.bind(this)),this.listen("mouseleave",this.ci.bind(this)))}gc(){let{paused:t,started:e,autoPlayError:i}=this.$state;if(t()||i()&&!e())return;let s=this.Uf.bind(this);(0,o.e)(()=>{for(let t of["coarse"===this.$state.pointer()?"touchend":"pointerup","keydown"])this.listen(t,s,{passive:!1})})}hc(t){this.show(0,t),this.hide(void 0,t)}jb(t){this.show(0,t)}bi(t){this.Ud.set(!1),this.show(0,t),this.hide(void 0,t)}ci(t){this.Ud.set(!0),this.hide(0,t)}Wd(){window.clearTimeout(this.Td),this.Td=-1}Uf(t){if(!(t.MEDIA_GESTURE||this.Hb||ej(t))){if((0,o.y)(t))if("Escape"===t.key){var e;null==(e=this.el)||e.focus(),this.fc=null}else this.fc&&(t.preventDefault(),requestAnimationFrame(()=>{var t;null==(t=this.fc)||t.focus(),this.fc=null}));this.show(0,t),this.hide(this.defaultDelay,t)}}bd(t,e,i){if(0===e)return void this.F(t,i);this.Td=window.setTimeout(()=>{this.scope&&this.F(t&&!this.Hb,i)},e)}F(t,e){var i;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&(null==(i=this.el)?void 0:i.contains(document.activeElement))&&(this.fc=document.activeElement,requestAnimationFrame(()=>{var t;null==(t=this.el)||t.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))}constructor(){super(...arguments),this.Td=-2,this.Hb=!1,this.Tf=(0,o.s)(!1),this.Ud=(0,o.s)(!1),this.fc=null,this.Vd=(0,o.s)(!0),this.defaultDelay=2e3}}var eN=function(t,e,i){var s=null,n=null,a=i&&i.leading,r=i&&i.trailing;null==a&&(a=!0),null==r&&(r=!a),!0==a&&(r=!1);var l=function(){s&&(clearTimeout(s),s=null)},h=function(){var i=a&&!s,l=this,h=arguments;if(n=function(){return t.apply(l,h)},s||(s=setTimeout(function(){if(s=null,r)return n()},e)),i)return i=!1,n()};return h.cancel=l,h.flush=function(){var t=n;l(),t&&t()},h};class eH{async getVolume(){return this.I.volume}async setVolume(t){this.I.volume=t,this.save()}async getMuted(){return this.I.muted}async setMuted(t){this.I.muted=t,this.save()}async getTime(){return this.I.time}async setTime(t,e){let i=t<0;this.I.time=i?null:t,i||e?this.saveTime():this.saveTimeThrottled()}async getLang(){return this.I.lang}async setLang(t){this.I.lang=t,this.save()}async getCaptions(){return this.I.captions}async setCaptions(t){this.I.captions=t,this.save()}async getPlaybackRate(){return this.I.rate}async setPlaybackRate(t){this.I.rate=t,this.save()}async getAudioGain(){return this.I.audioGain}async setAudioGain(t){this.I.audioGain=t,this.save()}async getVideoQuality(){return this.I.quality}async setVideoQuality(t){this.I.quality=t,this.save()}onChange(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vds-player",s=i?localStorage.getItem(i):null,n=e?localStorage.getItem(e):null;this.playerId=i,this.mediaId=e,this.I={volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...s?JSON.parse(s):{},time:n?+n:null}}save(){if(L||!this.playerId)return;let t=JSON.stringify({...this.I,time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){var t;if(L||!this.mediaId)return;let e=(null!=(t=this.I.time)?t:0).toString();localStorage.setItem(this.mediaId,e)}constructor(){this.playerId="vds-player",this.mediaId=null,this.I={volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null},this.saveTimeThrottled=eN(this.saveTime.bind(this),1e3)}}class ez{canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.F.bind(this))}addTrack(t){this.wa.add(t),this.di(t)}removeTrack(t){var e,i;null==(i=t[tw.$])||null==(e=i.remove)||e.call(i),t[tw.$]=null,this.wa.delete(t)}changeTrack(t){let e=null==t?void 0:t[tw.$];e&&"showing"!==e.track.mode&&(e.track.mode="showing"),this.K=t}setDisplay(t){this.Vf=t,this.F()}detach(){for(let t of(this.m&&(this.m.textTracks.onchange=null),this.wa))this.removeTrack(t);this.wa.clear(),this.m=null,this.K=null}di(t){var e,i;if(!this.m)return;let s=null!=(i=t[e=tw.$])?i:t[e]=this.ei(t);eR(s)&&(this.m.append(s),s.track.mode=s.default?"showing":"disabled")}ei(t){let e=document.createElement("track"),i=t.default||"showing"===t.mode,s=t.src&&"vtt"===t.type;return e.id=t.id,e.src=s?t.src:"",e.label=t.label,e.kind=t.kind,e.default=i,t.language&&(e.srclang=t.language),i&&!s&&this.Wf(t,e.track),e}Wf(t,e){var i;if((!t.src||"vtt"!==t.type)&&(null==(i=e.cues)||!i.length))for(let i of t.cues)e.addCue(i)}F(t){for(let e of this.wa){let i=e[tw.$];if(!i)continue;if(!this.Vf){i.track.mode=i.managed?"hidden":"disabled";continue}let s="showing"===i.track.mode;s&&this.Wf(e,i.track),e.setMode(s?"showing":"disabled",t)}}constructor(){this.priority=0,this.Vf=!0,this.m=null,this.K=null,this.wa=new Set}}class eG{Yd(){let{nativeControls:t}=this.a.$state;this.Xf=t(),this.Ia()}add(t){this.cd.push(t),this.Ia()}remove(t){t.detach(),this.cd.splice(this.cd.indexOf(t),1),this.Ia()}Yf(t){requestAnimationFrame(()=>{if(this.m=t,t)for(let e of(this.xa=new ez,this.xa.attach(t),this.Xd))this.Zf(e);this.Ia()})}Zf(t){var e;tP(t)&&(null==(e=this.xa)||e.addTrack(t))}hi(t){var e;tP(t)&&(null==(e=this.xa)||e.removeTrack(t))}Zd(t){this.Zf(t.detail)}gi(t){this.hi(t.detail)}Ia(){var t,e,i,s,n,a,r;let l=this.Xd.selected;if(this.m&&(this.Xf||(null==l?void 0:l[tw.Nf]))){null==(i=this.kb)||i.changeTrack(null),null==(s=this.xa)||s.setDisplay(!0),null==(n=this.xa)||n.changeTrack(l);return}if(null==(t=this.xa)||t.setDisplay(!1),null==(e=this.xa)||e.changeTrack(null),!l){null==(a=this.kb)||a.changeTrack(null);return}let h=this.cd.sort((t,e)=>t.priority-e.priority).find(t=>t.canRender(l,this.m));this.kb!==h&&(null==(r=this.kb)||r.detach(),null==h||h.attach(this.m),this.kb=null!=h?h:null),null==h||h.changeTrack(l)}fi(){var t,e;null==(t=this.xa)||t.detach(),this.xa=null,null==(e=this.kb)||e.detach(),this.kb=null}constructor(t){this.a=t,this.m=null,this.cd=[],this.Xf=!1,this.xa=null,this.kb=null;let e=t.textTracks;this.Xd=e,(0,o.e)(this.Yd.bind(this)),(0,o.v)(this.fi.bind(this)),(0,o.l)(e,"add",this.Zd.bind(this)),(0,o.l)(e,"remove",this.gi.bind(this)),(0,o.l)(e,"mode-change",this.Ia.bind(this))}}var eK=function(t,e,i){var s=null,n=null,a=function(){s&&(clearTimeout(s),n=null,s=null)},r=function(){if(!e)return t.apply(this,arguments);var r=this,l=arguments,h=i&&!s;if(a(),n=function(){t.apply(r,l)},s=setTimeout(function(){if(s=null,!h){var t=n;return n=null,t()}},e),h)return n()};return r.cancel=a,r.flush=function(){var t=n;a(),t&&t()},r};class eY extends w{get selected(){let t=this.B.find(t=>"showing"===t.mode&&tP(t));return null!=t?t:null}get selectedIndex(){let t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return this.nb}set preferredLang(t){this.nb=t,this.ag(t)}add(t,e){let i=t instanceof tT?t:new tT(t),s="captions"===t.kind||"subtitles"===t.kind?"captions":t.kind;return this.lb[s]&&t.default&&delete t.default,i.addEventListener("mode-change",this.bg),this[$.ea](i,e),i[tw.Eb]=this[tw.Eb],this._&&i[tw._](),t.default&&(this.lb[s]=i),this.cg(),this}remove(t,e){if(this._d=t,this.B.includes(t))return t===this.lb[t.kind]&&delete this.lb[t.kind],t.mode="disabled",t[tw.ib]=null,t.removeEventListener("mode-change",this.bg),this[$.dc](t,e),this._d=null,this}clear(t){for(let e of[...this.B])this.remove(e,t);return this}getByKind(t){let e=Array.isArray(t)?t:[t];return this.B.filter(t=>e.includes(t.kind))}[tw._](){if(!this._){for(let t of this.B)t[tw._]();this._=!0,this.cg()}}ii(t){let e=t.detail;if(this.mb&&tP(e)&&e!==this._d&&this.dg(e),"showing"===e.mode){let t=tP(e)?["captions","subtitles"]:[e.kind];for(let i of this.B)"showing"===i.mode&&i!=e&&t.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new o.D("mode-change",{detail:t.detail,trigger:t}))}dg(t){var e,i;"disabled"!==t.mode&&this.ag(t.language),null==(i=this.mb)||null==(e=i.setCaptions)||e.call(i,"showing"===t.mode)}ag(t){var e,i;null==(i=this.mb)||null==(e=i.setLang)||e.call(i,this.nb=t)}setStorage(t){this.mb=t}constructor(){super(),this._=!1,this.lb={},this.mb=null,this.nb=null,this.cg=eK(async()=>{var t;if(!this._)return;!this.nb&&this.mb&&(this.nb=await this.mb.getLang());let e=await (null==(t=this.mb)?void 0:t.getCaptions());for(let t of[["captions","subtitles"],"chapters","descriptions","metadata"]){let i=this.getByKind(t);if(i.find(t=>"showing"===t.mode))continue;let s=this.nb?i.find(t=>t.language===this.nb):null,n=(0,o.g)(t)?this.lb[t.find(t=>this.lb[t])||""]:this.lb[t],a=null!=s?s:n,r=a&&tP(a);a&&(!r||!1!==e)&&(a.mode="showing",r&&this.dg(a))}},300),this._d=null,this.bg=this.ii.bind(this)}}let eU=Symbol(0);class eB extends w{get selected(){var t;return null!=(t=this.B.find(t=>t.selected))?t:null}get selectedIndex(){return this.B.findIndex(t=>t.selected)}[$.If](t,e){this[$.fa](t,!1,e)}[$.ea](t,e){t[eU]=!1,Object.defineProperty(t,"selected",{get(){return this[eU]},set:e=>{var i;this.readonly||(null==(i=this[$.Jf])||i.call(this),this[$.fa](t,e))}}),super[$.ea](t,e)}[$.fa](t,e,i){if(e===(null==t?void 0:t[eU]))return;let s=this.selected;t&&(t[eU]=e),(e?s!==t:s===t)&&(s&&(s[eU]=!1),this.dispatchEvent(new o.D("change",{detail:{prev:s,current:this.selected},trigger:i})))}}class e_ extends eB{}let eQ={Xa:Symbol(0),Ja:Symbol(0)};class eZ extends eB{get auto(){return this.dd||this.readonly}[$.Jf](){this[eQ.Xa](!1)}[$.Hf](t){this[eQ.Ja]=void 0,this[eQ.Xa](!1,t)}autoSelect(t){var e;this.readonly||this.dd||!this[eQ.Ja]||(null==(e=this[eQ.Ja])||e.call(this,t),this[eQ.Xa](!0,t))}getBySrc(t){return this.B.find(e=>e.src===t)}[eQ.Xa](t,e){this.dd!==t&&(this.dd=t,this.dispatchEvent(new o.D("auto-change",{detail:t,trigger:e})))}constructor(){super(...arguments),this.dd=!1,this.switch="current"}}function eX(t,e){return[...t].sort(e?e0:eJ)}function eJ(t,e){var i,s;return t.height===e.height?(null!=(i=t.bitrate)?i:0)-(null!=(s=e.bitrate)?s:0):t.height-e.height}function e0(t,e){var i,s;return e.height===t.height?(null!=(i=e.bitrate)?i:0)-(null!=(s=t.bitrate)?s:0):e.height-t.height}let e1=new Set(["Shift","Alt","Meta","Control"]),e2='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';class e3 extends eV{onConnect(){(0,o.e)(this.ji.bind(this))}ji(){let{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;let i="player"===e()?this.el:document,s=(0,o.s)(!1);i===this.el?(this.listen("focusin",()=>s.set(!0)),this.listen("focusout",t=>{this.el.contains(t.target)||s.set(!1)})):((0,o.p)(s)||s.set(document.querySelector("[data-media-player]")===this.el),(0,o.l)(document,"focusin",t=>{let e=t.composedPath().find(t=>t instanceof Element&&"media-player"===t.localName);void 0!==e&&s.set(this.el===e)})),(0,o.e)(()=>{s()&&((0,o.l)(i,"keyup",this.ic.bind(this)),(0,o.l)(i,"keydown",this.jc.bind(this)),(0,o.l)(i,"keydown",this.ki.bind(this),{capture:!0}))})}ic(t){let e=document.activeElement;if(!t.key||!this.$state.canSeek()||(null==e?void 0:e.matches(e2)))return;let{method:i,value:s}=this.$d(t);if(!(0,o.i)(s)&&!(0,o.g)(s)){var n,a;null==s||null==(n=s.onKeyUp)||n.call(s,{event:t,player:this.a.player,remote:this.a.remote}),null==s||null==(a=s.callback)||a.call(s,t,this.a.remote);return}if((null==i?void 0:i.startsWith("seek"))&&(t.preventDefault(),t.stopPropagation(),this.Jb?(this.eg(t,"seekForward"===i),this.Jb=null):(this.a.remote.seek(this.ed,t),this.ed=void 0)),null==i?void 0:i.startsWith("volume")){let e=this.el.querySelector("[data-media-volume-slider]");null==e||e.dispatchEvent(new KeyboardEvent("keyup",{key:"volumeUp"===i?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}jc(t){var e,i,s,n;if(!t.key||e1.has(t.key))return;let a=document.activeElement;if((null==a?void 0:a.matches(e2))||(0,o.z)(t)&&(null==a?void 0:a.matches('button, [role="button"]')))return;let{method:r,value:l}=this.$d(t),h=!t.metaKey&&/^[0-9]$/.test(t.key);if(!(0,o.i)(l)&&!(0,o.g)(l)&&!h){null==l||null==(e=l.onKeyDown)||e.call(l,{event:t,player:this.a.player,remote:this.a.remote}),null==l||null==(i=l.callback)||i.call(l,t,this.a.remote);return}if(!r&&h){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(r){switch(t.preventDefault(),t.stopPropagation(),r){case"seekForward":case"seekBackward":this.Ka(t,r,"seekForward"===r);break;case"volumeUp":case"volumeDown":let e=this.el.querySelector("[data-media-volume-slider]");if(e)e.dispatchEvent(new KeyboardEvent("keydown",{key:"volumeUp"===r?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{let e=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+("volumeUp"===r?+e:-e),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":let i=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,i+("speedUp"===r?.25:-.25))),t);break;default:null==(s=(n=this.a.remote)[r])||s.call(n,t)}this.$state.lastKeyboardAction.set({action:r,event:t})}}ki(t){var e,i;i=e=t.target,(!L&&i instanceof HTMLAudioElement||!L&&e instanceof HTMLVideoElement)&&this.$d(t).method&&t.preventDefault()}$d(t){let e={...this.$props.keyShortcuts(),...this.a.ariaKeys},i=Object.keys(e).find(i=>{var s;let n=e[i],a=(0,o.g)(n)?n.join(" "):(0,o.i)(n)?n:null==n?void 0:n.keys;return null==(s=(0,o.g)(a)?a:null==a?void 0:a.split(" "))?void 0:s.some(e=>e.replace(/Shift\+(\d)/g,(t,e)=>e5[e-1]).replace(/Control/g,"Ctrl").split("+").every(e=>e1.has(e)?t[e.toLowerCase()+"Key"]:t.key===e.replace("Space"," ")))});return{method:i,value:i?e[i]:null}}li(t,e){var i;let s=t.shiftKey?10:5;return this.ed=Math.max(0,Math.min((null!=(i=this.ed)?i:this.$state.currentTime())+("seekForward"===e?+s:-s),this.$state.duration()))}eg(t,e){var i;null==(i=this.Jb)||i.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}Ka(t,e,i){this.$state.canSeek()&&(this.Jb||(this.Jb=this.el.querySelector("[data-media-time-slider]")),this.Jb?this.eg(t,i):this.a.remote.seeking(this.li(t,e),t))}constructor(t){super(),this.a=t,this.Jb=null}}let e5=["!","@","#","$","%","^","&","*","(",")"];class e4 extends o.V{onAttach(t){let{$props:e,ariaKeys:i}=tI(),s=t.getAttribute("aria-keyshortcuts");if(s){i[this.ae]=s,L||(0,o.v)(()=>{delete i[this.ae]});return}let n=e.keyShortcuts()[this.ae];if(n){let e=(0,o.g)(n)?n.join(" "):(0,o.i)(n)?n:null==n?void 0:n.keys;t.setAttribute("aria-keyshortcuts",(0,o.g)(e)?e.join(" "):e)}}constructor(t){super(),this.ae=t}}class e7{canPlay(t){return!!ti(t)&&(L||!(0,o.i)(t.src)||"?"===t.type||W(this.target,t.type))}mediaType(){return"audio"}async load(e){if(L)throw Error("[vidstack] can not load audio provider server-side");return new(await t.r(338880)(t.i)).AudioProvider(this.target,e)}constructor(){this.name="audio"}}class e8{canPlay(t){return!!ts(t)&&(L||!(0,o.i)(t.src)||"?"===t.type||N(this.target,t.type))}mediaType(){return"video"}async load(t){if(L)throw Error("[vidstack] can not load video provider server-side");return new(await Promise.resolve().then(function(){return iv})).VideoProvider(this.target,t)}constructor(){this.name="video"}}let e6=null,e9=[],it=[];function ie(){return null!=e6?e6:e6=new AudioContext}function ii(){e6&&0===e9.length&&0===it.length&&e6.close().then(()=>{e6=null})}class is{get currentGain(){var t,e,i;return null!=(i=null==(e=this.ya)||null==(t=e.gain)?void 0:t.value)?i:null}get supported(){return!0}setGain(t){let e=this.currentGain;if(t!==this.currentGain){if(1===t&&1!==e)return void this.removeGain();!this.ya&&(this.ya=function(){let t=ie(),e=t.createGain();return e.connect(t.destination),e9.push(e),e}(),this.La&&this.La.connect(this.ya)),this.La||(this.La=function(t,e){let i=ie().createMediaElementSource(t);return e&&i.connect(e),it.push(i),i}(this.a,this.ya)),this.ya.gain.value=t,this.F(t)}}removeGain(){this.ya&&(this.La&&this.La.connect(ie().destination),this.fg(),this.F(null))}destroy(){this.mi(),this.fg()}mi(){if(this.La)try{var t=this.La;let e=it.indexOf(t);-1!==e&&(it.splice(e,1),t.disconnect(),ii())}catch(t){}finally{this.La=null}}fg(){if(this.ya)try{var t=this.ya;let e=e9.indexOf(t);-1!==e&&(e9.splice(e,1),t.disconnect(),ii())}catch(t){}finally{this.ya=null}}constructor(t,e){this.a=t,this.F=e,this.ya=null,this.La=null}}class ia{Ya(){(0,o.n)(this.za)&&this.gg()}aa(){(0,o.j)(this.za)&&window.cancelAnimationFrame(this.za),this.za=void 0}gg(){this.za=window.requestAnimationFrame(()=>{(0,o.n)(this.za)||(this.Ma(),this.gg())})}constructor(t){this.Ma=t}}class ir{get a(){return this.p.media}get c(){return this.b.delegate.c}de(){this.be=!1,this.ce=!1,this.ga.aa(),this.Za.empty()}lc(){let t=this.a.currentTime;this.b.$state.realCurrentTime()!==t&&this.Kb(t)}ni(){this.G("loadstart",this.Na),this.G("abort",this.hg),this.G("emptied",this.pi),this.G("error",this.R),this.G("volumechange",this.Oa)}qi(){this.be||(this.Za.add(this.G("loadeddata",this.ri),this.G("loadedmetadata",this.si),this.G("canplay",this.fd),this.G("canplaythrough",this.ti),this.G("durationchange",this.ee),this.G("play",this.hc),this.G("progress",this.ob),this.G("stalled",this.ui),this.G("suspend",this.vi),this.G("ratechange",this.wi)),this.be=!0)}xi(){this.ce||(this.Za.add(this.G("pause",this.jb),this.G("playing",this.yi),this.G("seeked",this.pb),this.G("seeking",this.zi),this.G("ended",this.mc),this.G("waiting",this.fe)),this.ce=!0)}G(t,e){return(0,o.l)(this.a,t,e.bind(this))}Bi(t){}Kb(t,e){let i={currentTime:Math.min(t,this.b.$state.seekableEnd()),played:this.a.played};this.c("time-update",i,e)}Na(t){if(3===this.a.networkState)return void this.hg(t);this.qi(),this.c("load-start",void 0,t)}hg(t){this.c("abort",void 0,t)}pi(){this.c("emptied",void 0,event)}ri(t){this.c("loaded-data",void 0,t)}si(t){this.xi(),this.c("loaded-metadata",void 0,t),(j||R&&tn(this.b.$state.source()))&&this.b.delegate.Ha(this.ge(),t)}ge(){return{provider:(0,o.p)(this.b.$provider),duration:this.a.duration,buffered:this.a.buffered,seekable:this.a.seekable}}hc(t){this.b.$state.canPlay&&this.c("play",void 0,t)}jb(t){(1!==this.a.readyState||this.kc)&&(this.kc=!1,this.ga.aa(),this.c("pause",void 0,t))}fd(t){this.b.delegate.Ha(this.ge(),t)}ti(t){this.b.$state.started()||this.c("can-play-through",this.ge(),t)}yi(t){this.kc=!1,this.c("playing",void 0,t),this.ga.Ya()}ui(t){this.c("stalled",void 0,t),this.a.readyState<3&&(this.kc=!0,this.c("waiting",void 0,t))}fe(t){this.a.readyState<3&&(this.kc=!0,this.c("waiting",void 0,t))}mc(t){this.ga.aa(),this.Kb(this.a.duration,t),this.c("end",void 0,t),this.b.$state.loop()&&(0,o.a0)(this.a.controls)&&(this.a.controls=!1)}oi(){this.b.$state.paused()&&(0,o.l)(this.a,"timeupdate",this.nc.bind(this))}nc(t){this.Kb(this.a.currentTime,t)}ee(t){this.b.$state.ended()&&this.Kb(this.a.duration,t),this.c("duration-change",this.a.duration,t)}Oa(t){let e={volume:this.a.volume,muted:this.a.muted};this.c("volume-change",e,t)}pb(t){this.Kb(this.a.currentTime,t),this.c("seeked",this.a.currentTime,t),Math.trunc(this.a.currentTime)===Math.trunc(this.a.duration)&&eT(this.a.duration)>eT(this.a.currentTime)&&(this.Kb(this.a.duration,t),this.a.ended||this.b.player.dispatch(new o.D("media-play-request",{trigger:t})))}zi(t){this.c("seeking",this.a.currentTime,t)}ob(t){let e={buffered:this.a.buffered,seekable:this.a.seekable};this.c("progress",e,t)}vi(t){this.c("suspend",void 0,t)}wi(t){this.c("rate-change",this.a.playbackRate,t)}R(t){let e=this.a.error;if(!e)return;let i={message:e.message,code:e.code,mediaError:e};this.c("error",i,t)}constructor(t,e){this.p=t,this.b=e,this.Za=(0,o.$)(),this.kc=!1,this.be=!1,this.ce=!1,this.ga=new ia(this.lc.bind(this)),this.ig=void 0,this.Ai=void 0,this.ni(),(0,o.e)(this.oi.bind(this)),(0,o.v)(this.de.bind(this))}}class il{get oc(){return this.p.media.audioTracks}Ci(t){let e=t.track;if(""===e.label)return;let i={id:e.id.toString()||"native-audio-".concat(this.b.audioTracks.length),label:e.label,language:e.language,kind:e.kind,selected:!1};this.b.audioTracks[$.ea](i,t),e.enabled&&(i.selected=!0)}Di(t){let e=this.b.audioTracks.getById(t.track.id);e&&this.b.audioTracks[$.dc](e,t)}Ei(t){let e=this.jg();if(!e)return;let i=this.b.audioTracks.getById(e.id);i&&this.b.audioTracks[$.fa](i,!0,t)}jg(){return Array.from(this.oc).find(t=>t.enabled)}Fi(t){let{current:e}=t.detail;if(!e)return;let i=this.oc.getTrackById(e.id);if(i){let t=this.jg();t&&(t.enabled=!1),i.enabled=!0}}constructor(t,e){this.p=t,this.b=e,this.oc.onaddtrack=this.Ci.bind(this),this.oc.onremovetrack=this.Di.bind(this),this.oc.onchange=this.Ei.bind(this),(0,o.l)(this.b.audioTracks,"change",this.Fi.bind(this))}}class ih{setup(){new ir(this,this.b),"audioTracks"in this.media&&new il(this,this.b),(0,o.v)(()=>{for(let t of(this.audioGain.destroy(),this.a.srcObject=null,this.a.removeAttribute("src"),this.a.querySelectorAll("source")))t.remove();this.a.load()})}get type(){return""}get media(){return this.a}get currentSrc(){return this.L}setPlaybackRate(t){this.a.playbackRate=t}async play(){return this.a.play()}async pause(){return this.a.pause()}setMuted(t){this.a.muted=t}setVolume(t){this.a.volume=t}setCurrentTime(t){this.a.currentTime=t}setPlaysInline(t){(0,o.Y)(this.a,"playsinline",t)}async loadSource(t,e){let{src:i,type:s}=t;(this.a.preload=e||"",!L&&void 0!==window.MediaStream&&i instanceof window.MediaStream)?(this.pc(),this.a.srcObject=i):(this.a.srcObject=null,(0,o.i)(i)?"?"!==s?this.he({src:i,type:s}):(this.pc(),this.a.src=this.kg(i)):(this.pc(),this.a.src=window.URL.createObjectURL(i))),this.a.load(),this.L={src:i,type:s}}he(t,e){let i=this.a.querySelector("source[data-vds]"),s=null!=i?i:document.createElement("source");(0,o.Y)(s,"src",this.kg(t.src)),(0,o.Y)(s,"type","?"!==t.type?t.type:e),(0,o.Y)(s,"data-vds",""),i||this.a.append(s)}pc(){var t;null==(t=this.a.querySelector("source[data-vds]"))||t.remove()}kg(t){let{clipStartTime:e,clipEndTime:i}=this.b.$state,s=e(),n=i();return s>0&&n>0?"".concat(t,"#t=").concat(s,",").concat(n):s>0?"".concat(t,"#t=").concat(s):n>0?"".concat(t,"#t=0,").concat(n):t}constructor(t,e){this.a=t,this.b=e,this.scope=(0,o.d)(),this.L=null,this.audioGain=new is(this.a,t=>{this.b.delegate.c("audio-gain-change",t)})}}class io{get supported(){return this.qb()}ie(){var t;!L&&(null==(t=this.a)?void 0:t.remote)&&this.lg&&(this.a.remote.watchAvailability(t=>{this.qb.set(t)}).catch(()=>{this.qb.set(!1)}),(0,o.e)(this.Gi.bind(this)))}Gi(){if(!this.qb())return;let t=this.je.bind(this);for(let e of(t(),(0,o.l)(this.a,"playing",t),["connecting","connect","disconnect"]))(0,o.l)(this.a.remote,e,t)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return"airplay"===this.ma&&this.a.webkitShowPlaybackTargetPicker?this.a.webkitShowPlaybackTargetPicker():this.a.remote.prompt()}je(t){let e=this.a.remote.state;if(e===this.Aa)return;let i={type:this.ma,state:e};this.b.delegate.c("remote-playback-change",i,t),this.Aa=e}constructor(t,e){this.a=t,this.b=e,this.qb=(0,o.s)(!1),this.ie()}}class iu extends io{get lg(){return"WebKitPlaybackTargetAvailabilityEvent"in window}constructor(){super(...arguments),this.ma="airplay"}}class id{Zd(t){var e,i,s;let n=t.track;if(!n||(i=this.m,s=n,Array.from(i.children).find(t=>t.track===s)))return;let a=new tT({id:n.id,kind:n.kind,label:null!=(e=n.label)?e:"",language:n.language,type:"vtt"});a[tw.$]={track:n},a[tw.na]=2,a[tw.Nf]=!0;let r=0,l=t=>{if(n.cues)for(let e=r;e<n.cues.length;e++)a.addCue(n.cues[e],t),r++};l(t),n.oncuechange=l,this.b.textTracks.add(a,t),a.setMode(n.mode,t)}de(){for(let e of(this.m.textTracks.onaddtrack=null,this.b.textTracks)){var t;let i=null==(t=e[tw.$])?void 0:t.track;(null==i?void 0:i.oncuechange)&&(i.oncuechange=null)}}constructor(t,e){this.m=t,this.b=e,t.textTracks.onaddtrack=this.Zd.bind(this),(0,o.v)(this.de.bind(this))}}class ic{get active(){return document.pictureInPictureElement===this.m}get supported(){return z(this.m)}async enter(){return this.m.requestPictureInPicture()}exit(){return document.exitPictureInPicture()}Hi(t){this.F(!0,t)}Ii(t){this.F(!1,t)}constructor(t,e){this.m=t,this.a=e,this.F=(t,e)=>{this.a.delegate.c("picture-in-picture-change",t,e)},(0,o.l)(this.m,"enterpictureinpicture",this.Hi.bind(this)),(0,o.l)(this.m,"leavepictureinpicture",this.Ii.bind(this))}}class ip{get qb(){return G(this.m)}async gd(t){this.V!==t&&this.m.webkitSetPresentationMode(t)}ib(t){var e;let i=this.V;this.V=this.m.webkitPresentationMode,null==(e=this.a.player)||e.dispatch(new o.D("video-presentation-change",{detail:this.V,trigger:t})),["fullscreen","picture-in-picture"].forEach(e=>{(this.V===e||i===e)&&this.a.delegate.c("".concat(e,"-change"),this.V===e,t)})}constructor(t,e){this.m=t,this.a=e,this.V="inline",(0,o.l)(this.m,"webkitpresentationmodechanged",this.ib.bind(this))}}class ig{get active(){return"fullscreen"===this.Pa.V}get supported(){return this.Pa.qb}async enter(){this.Pa.gd("fullscreen")}async exit(){this.Pa.gd("inline")}constructor(t){this.Pa=t}}class ib{get active(){return"picture-in-picture"===this.Pa.V}get supported(){return this.Pa.qb}async enter(){this.Pa.gd("picture-in-picture")}async exit(){this.Pa.gd("inline")}constructor(t){this.Pa=t}}class im extends ih{get type(){return"video"}setup(){super.setup(),H(this.video)&&new id(this.video,this.b),this.b.textRenderers.Yf(this.video),(0,o.v)(()=>{this.b.textRenderers.Yf(null)}),"video"===this.type&&this.b.delegate.c("provider-setup",this)}get video(){return this.a}constructor(t,e){super(t,e),this.$$PROVIDER_TYPE="VIDEO",(0,o.a)(()=>{if(this.airPlay=new iu(t,e),G(t)){let i=new ip(t,e);this.fullscreen=new ig(i),this.pictureInPicture=new ib(i)}else z(t)&&(this.pictureInPicture=new ic(t,e))},this.scope)}}var iv=Object.freeze({__proto__:null,VideoProvider:im});function iy(t){try{let e=new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t);return null!=e?e:null}catch(t){return null}}class i${get instance(){return this.d}setup(t){this.d=t().create();let e=this.Ji.bind(this);for(let i of Object.values(t.events))this.d.on(i,e);for(let e of(this.d.on(t.events.ERROR,this.R.bind(this)),this.tb))e(this.d);this.b.player.dispatch("dash-instance",{detail:this.d}),this.d.initialize(this.m,void 0,!1),this.d.updateSettings({streaming:{text:{defaultEnabled:!1,dispatchForManualRendering:!0},buffer:{fastSwitchEnabled:!0}},...this.sb}),this.d.on(t.events.FRAGMENT_LOADING_STARTED,this.Ki.bind(this)),this.d.on(t.events.FRAGMENT_LOADING_COMPLETED,this.Li.bind(this)),this.d.on(t.events.MANIFEST_LOADED,this.Mi.bind(this)),this.d.on(t.events.QUALITY_CHANGE_RENDERED,this._a.bind(this)),this.d.on(t.events.TEXT_TRACKS_ADDED,this.Ni.bind(this)),this.d.on(t.events.TRACK_CHANGE_RENDERED,this.qc.bind(this)),this.b.qualities[eQ.Ja]=this.ke.bind(this),(0,o.l)(this.b.qualities,"change",this.le.bind(this)),(0,o.l)(this.b.audioTracks,"change",this.me.bind(this)),this.rb=(0,o.e)(this.ne.bind(this))}ba(t){let e;return new o.D((e=t.type,"dash-".concat((0,o.m)(e))),{detail:t})}ne(){if(!this.b.$state.live())return;let t=new ia(this.oe.bind(this));return t.Ya(),t.aa.bind(t)}oe(){if(!this.d)return;let t=this.d.duration()-this.d.time();this.b.$state.liveSyncPosition.set(isNaN(t)?1/0:t)}Ji(t){var e;null==(e=this.b.player)||e.dispatch(this.ba(t))}Oi(t){var e,i;let s=null==(e=this.Lb)?void 0:e[tw.$],n=(null==s?void 0:s.track).cues;if(!s||!n)return;let a=this.Lb.id,r=null!=(i=this.pe[a])?i:0,l=this.ba(t);for(let t=r;t<n.length;t++){let e=n[t];e.positionAlign||(e.positionAlign="auto"),this.Lb.addCue(e,l)}this.pe[a]=n.length}Ni(t){if(!this.d)return;let e=t.tracks,i=[...this.m.textTracks].filter(t=>"manualMode"in t),s=this.ba(t);for(let t=0;t<i.length;t++){var n,a,r,l,h,o;let u=e[t],d=i[t],c=new tT({id:"dash-".concat(u.kind,"-").concat(t),label:null!=(h=null!=(l=null!=(r=null!=(a=null==u?void 0:u.label)?a:null==(n=u.labels.find(t=>t.text))?void 0:n.text)?r:(null==u?void 0:u.lang)&&iy(u.lang))?l:null==u?void 0:u.lang)?h:void 0,language:null!=(o=u.lang)?o:void 0,kind:u.kind,default:u.defaultTrack});c[tw.$]={managed:!0,track:d},c[tw.na]=2,c[tw.ib]=()=>{this.d&&("showing"===c.mode?(this.d.setTextTrack(t),this.Lb=c):(this.d.setTextTrack(-1),this.Lb=null))},this.b.textTracks.add(c,s)}}qc(t){let{mediaType:e,newMediaInfo:i}=t;if("audio"===e){let e=this.b.audioTracks.getById("dash-audio-".concat(i.index));if(e){let i=this.ba(t);this.b.audioTracks[$.fa](e,!0,i)}}}_a(t){if("video"!==t.mediaType)return;let e=this.b.qualities[t.newQuality];if(e){let i=this.ba(t);this.b.qualities[$.fa](e,!0,i)}}Mi(t){if(this.b.$state.canPlay()||!this.d)return;let{type:e,mediaPresentationDuration:i}=t.data,s=this.ba(t);this.b.delegate.c("stream-type-change","static"!==e?"live":"on-demand",s),this.b.delegate.c("duration-change",i,s),this.b.qualities[eQ.Xa](!0,s);let n=this.d.getVideoElement(),a=this.d.getTracksForTypeFromManifest("video",t.data),r=[...new Set(a.map(t=>t.mimeType))].find(t=>t&&N(n,t)),l=a.filter(t=>r===t.mimeType)[0],h=this.d.getTracksForTypeFromManifest("audio",t.data),u=[...new Set(h.map(t=>t.mimeType))].find(t=>t&&W(n,t));if(h=h.filter(t=>u===t.mimeType),l.bitrateList.forEach((t,e)=>{var i,n,a,r,h;let o={id:null!=(n=null==(i=t.id)?void 0:i.toString())?n:"dash-bitrate-".concat(e),width:null!=(a=t.width)?a:0,height:null!=(r=t.height)?r:0,bitrate:null!=(h=t.bandwidth)?h:0,codec:l.codec,index:e};this.b.qualities[$.ea](o,s)}),(0,o.j)(l.index)){let t=this.b.qualities[l.index];t&&this.b.qualities[$.fa](t,!0,s)}h.forEach((t,e)=>{var i,n,a,r;let l=t.labels.find(t=>navigator.languages.some(e=>t.lang&&e.toLowerCase().startsWith(t.lang.toLowerCase())))||t.labels[0],h={id:"dash-audio-".concat(null==t?void 0:t.index),label:null!=(a=null!=(n=null!=(i=null==l?void 0:l.text)?i:t.lang&&iy(t.lang))?n:t.lang)?a:"",language:null!=(r=t.lang)?r:"",kind:"main",mimeType:t.mimeType,codec:t.codec,index:e};this.b.audioTracks[$.ea](h,s)}),n.dispatchEvent(new o.D("canplay",{trigger:s}))}R(t){let{type:e,error:i}=t;27===i.code?this.qe(i):this.rc(i)}Ki(){this.oa>=0&&this.$a()}Li(t){"text"===t.mediaType&&requestAnimationFrame(this.Oi.bind(this,t))}qe(t){var e;this.$a(),null==(e=this.d)||e.play(),this.oa=window.setTimeout(()=>{this.oa=-1,this.rc(t)},5e3)}$a(){clearTimeout(this.oa),this.oa=-1}rc(t){var e;this.b.delegate.c("error",{message:null!=(e=t.message)?e:"",code:1,error:t})}ke(){var t;this.mg("video",!0);let{qualities:e}=this.b;null==(t=this.d)||t.setQualityFor("video",e.selectedIndex,!0)}mg(t,e){var i;null==(i=this.d)||i.updateSettings({streaming:{abr:{autoSwitchBitrate:{[t]:e}}}})}le(){let{qualities:t}=this.b;this.d&&!t.auto&&t.selected&&(this.mg("video",!1),this.d.setQualityFor("video",t.selectedIndex,"current"===t.switch),I&&(this.m.currentTime=this.m.currentTime))}me(){if(!this.d)return;let{audioTracks:t}=this.b,e=this.d.getTracksFor("audio").find(e=>t.selected&&t.selected.id==="dash-audio-".concat(e.index));e&&this.d.setCurrentTrack(e)}A(){this.$a(),this.Lb=null,this.pe={}}loadSource(t){var e;this.A(),(0,o.i)(t.src)&&(null==(e=this.d)||e.attachSource(t.src))}destroy(){var t,e;this.A(),null==(t=this.d)||t.destroy(),this.d=null,null==(e=this.rb)||e.call(this),this.rb=null}constructor(t,e){this.m=t,this.b=e,this.d=null,this.rb=null,this.sb={},this.tb=new Set,this.Lb=null,this.pe={},this.oa=-1}}function iw(t){return t instanceof Error?t:Error("string"==typeof t?t:JSON.stringify(t))}function ik(t,e){if(!t)throw Error(e||"Assertion failed.")}class ix{async re(){let t={onLoadStart:this.Na.bind(this),onLoaded:this.ub.bind(this),onLoadError:this.se.bind(this)},e=await iS(this.M,t);return((0,o.n)(e)&&!(0,o.i)(this.M)&&(e=await iT(this.M,t)),e)?window.dashjs.supportsMediaSource()?e:(this.b.player.dispatch(new o.D("dash-unsupported")),this.b.delegate.c("error",{message:"[vidstack] `dash.js` is not supported in this environment",code:4}),null):null}Na(){this.b.player.dispatch(new o.D("dash-lib-load-start"))}ub(t){this.b.player.dispatch(new o.D("dash-lib-loaded",{detail:t})),this.Ma(t)}se(t){let e=iw(t);this.b.player.dispatch(new o.D("dash-lib-load-error",{detail:e})),this.b.delegate.c("error",{message:e.message,code:4,error:e})}constructor(t,e,i){this.M=t,this.b=e,this.Ma=i,this.re()}}async function iT(t){var e,i,s,n,a,r,l,h;let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,o.n)(t)){if(null==(e=u.onLoadStart)||e.call(u),(h=t)&&h.prototype&&h.prototype!==Function)return null==(i=u.onLoaded)||i.call(u,t),t;if(iP(t)){let e=t.MediaPlayer;return null==(s=u.onLoaded)||s.call(u,e),e}try{let e=null==(n=await t())?void 0:n.default;if(iP(e))return null==(a=u.onLoaded)||a.call(u,e.MediaPlayer),e.MediaPlayer;if(e)null==(r=u.onLoaded)||r.call(u,e);else throw Error("");return e}catch(t){null==(l=u.onLoadError)||l.call(u,t)}}}async function iS(t){var e,i,s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o.i)(t)){null==(e=n.onLoadStart)||e.call(n);try{if(await tu(t),!(0,o.o)(window.dashjs.MediaPlayer))throw Error("");let e=window.dashjs.MediaPlayer;return null==(i=n.onLoaded)||i.call(n,e),e}catch(t){null==(s=n.onLoadError)||s.call(n,t)}}}function iP(t){return t&&"MediaPlayer"in t}class iE extends im{get ctor(){return this.sc}get instance(){return this.e.instance}get type(){return"dash"}get canLiveSync(){return!0}get config(){return this.e.sb}set config(t){this.e.sb=t}get library(){return this.pa}set library(t){this.pa=t}preconnect(){(0,o.i)(this.pa)&&th(this.pa)}setup(){super.setup(),new ix(this.pa,this.b,t=>{this.sc=t,this.e.setup(t),this.b.delegate.c("provider-setup",this);let e=(0,o.p)(this.b.$state.source);e&&this.loadSource(e)})}async loadSource(t,e){if(!(0,o.i)(t.src))return void this.pc();this.a.preload=e||"",this.he(t,"application/x-mpegurl"),this.e.loadSource(t),this.L=t}onInstance(t){let e=this.e.instance;return e&&t(e),this.e.tb.add(t),()=>this.e.tb.delete(t)}destroy(){this.e.destroy()}constructor(){super(...arguments),this.$$PROVIDER_TYPE="DASH",this.sc=null,this.e=new i$(this.video,this.b),this.pa="".concat("https://cdn.jsdelivr.net","/npm/dashjs@4.7.4/dist/dash",".all.min.js")}}iE.supported=Y();var iA=Object.freeze({__proto__:null,DASHProvider:iE});let iO=class t extends e8{canPlay(e){return t.supported&&ta(e)}async load(t){if(L)throw Error("[vidstack] can not load dash provider server-side");return new(await Promise.resolve().then(function(){return iA})).DASHProvider(this.target,t)}constructor(){super(...arguments),this.name="dash"}};iO.supported=Y();let iC=class e extends e8{canPlay(t){return e.supported&&tn(t)}async load(e){if(L)throw Error("[vidstack] can not load hls provider server-side");return new(await t.r(630544)(t.i)).HLSProvider(this.target,e)}constructor(){super(...arguments),this.name="hls"}};iC.supported=Y();class iq{preconnect(){for(let t of["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"])th(t)}canPlay(t){return(0,o.i)(t.src)&&"video/vimeo"===t.type}mediaType(){return"video"}async load(e){if(L)throw Error("[vidstack] can not load vimeo provider server-side");return new(await t.r(848745)(t.i)).VimeoProvider(this.target,e)}async loadPoster(e,i,s){let{resolveVimeoVideoId:n,getVimeoVideoInfo:a}=await t.r(807688)(t.i);if(!(0,o.i)(e.src))return null;let{videoId:r}=n(e.src);return r?a(r,s).then(t=>t?t.poster:null):null}constructor(){this.name="vimeo"}}class iM{preconnect(){for(let t of["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"])th(t)}canPlay(t){return(0,o.i)(t.src)&&"video/youtube"===t.type}mediaType(){return"video"}async load(e){if(L)throw Error("[vidstack] can not load youtube provider server-side");return new(await t.r(664588)(t.i)).YouTubeProvider(this.target,e)}async loadPoster(e,i,s){let{findYouTubePoster:n,resolveYouTubeVideoId:a}=await t.r(91966)(t.i),r=(0,o.i)(e.src)&&a(e.src);return r?n(r,s):null}constructor(){this.name="youtube"}}let iL=Symbol(0),iD=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"];class ij extends eV{async onAttach(t){if(L)return;let e=this.$props[this.ma]();if("eager"===e)requestAnimationFrame(this.Ma);else if("idle"===e)(0,o.a1)(this.Ma);else if("visible"===e){let e,i=new IntersectionObserver(t=>{this.scope&&t[0].isIntersecting&&(null==e||e(),e=void 0,this.Ma())});i.observe(t),e=(0,o.v)(()=>i.disconnect())}}constructor(t,e){super(),this.ma=t,this.Ma=e}}class iF{async Ha(t,e){if(!L)return(0,o.q)(async()=>{var i,s,n,a,r,l,h,u,d,c,p,f,g,b,m;this.a;let{autoPlay:v,canPlay:y,started:$,duration:w,seekable:k,buffered:x,remotePlaybackInfo:T,playsInline:S,savedState:P,source:E}=this.a.$state;if(y())return;let A={duration:null!=(a=null==t?void 0:t.duration)?a:w(),seekable:null!=(r=null==t?void 0:t.seekable)?r:k(),buffered:null!=(l=null==t?void 0:t.buffered)?l:x(),provider:this.a.$provider()};this.c("can-play",A,e),(0,o.t)();let O=this.a.$provider(),{storage:C,qualities:q}=this.a,{muted:M,volume:L,clipStartTime:D,playbackRate:j}=this.a.$props;await (null==C||null==(i=C.onLoad)?void 0:i.call(C,E()));let F=null==(s=P())?void 0:s.currentTime,I=null==(n=P())?void 0:n.paused,R=await (null==C?void 0:C.getTime()),V=null!=(h=null!=F?F:R)?h:D(),W=I||!1!==I&&!$()&&v();if(O){O.setVolume(null!=(f=await (null==C?void 0:C.getVolume()))?f:L()),O.setMuted(M()||!!await (null==C?void 0:C.getMuted()));let t=null!=(g=await (null==C?void 0:C.getAudioGain()))?g:1;t>1&&(null==(d=O.audioGain)||null==(u=d.setGain)||u.call(d,t)),null==(c=O.setPlaybackRate)||c.call(O,null!=(b=await (null==C?void 0:C.getPlaybackRate()))?b:j()),null==(p=O.setPlaysInline)||p.call(O,S()),V>0&&O.setCurrentTime(V)}let N=await (null==C?void 0:C.getVideoQuality());if(N&&q.length){let t=null,e=1/0;for(let i of q){let s=Math.abs(N.width-i.width)+Math.abs(N.height-i.height)+(N.bitrate?Math.abs(N.bitrate-(null!=(m=i.bitrate)?m:0)):0);s<e&&(t=i,e=s)}t&&(t.selected=!0)}y()&&W?await this.lj(e):R&&R>0&&this.c("started",void 0,e),T.set(null)})}async lj(t){let{player:e,$state:{autoPlaying:i,muted:s}}=this.a;i.set(!0);let n=new o.D("auto-play-attempt",{trigger:t});try{await e.play(n)}catch(t){}}constructor(t,e){var i=this;this.W=t,this.a=e,this.c=function(t){for(var e=arguments.length,s=Array(e>1?e-1:0),n=1;n<e;n++)s[n-1]=arguments[n];L||i.W(new o.D(t,{detail:null==s?void 0:s[0],trigger:null==s?void 0:s[1]}))}}}class iI{k(t,e){this.i.set(t,e)}ye(t){let e=this.sg(t);return this.i.delete(t),e}sg(t){return this.i.get(t)}vb(t){this.i.delete(t)}Qm(){this.i.clear()}constructor(){this.i=new Map}}class iR{get Rm(){return this.i.size}get Sm(){return this.xc}async Tm(){this.xc||await this.ze.promise}k(t,e){if(this.xc)return void e();this.i.delete(t),this.i.set(t,e)}ye(t){var e;null==(e=this.i.get(t))||e(),this.i.delete(t)}Ya(){this.tg(),this.xc=!0,this.i.size>0&&this.tg()}aa(){this.xc=!1}A(){this.aa(),this.i.clear(),this.ug()}tg(){for(let t of this.i.keys())this.ye(t);this.ug()}ug(){this.ze.resolve(),this.ze=(0,o.f)()}constructor(){this.xc=!1,this.ze=(0,o.f)(),this.i=new Map}}class iV extends eV{onAttach(){this.listen("fullscreen-change",this.Rd.bind(this))}onConnect(){let t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.Ij.bind(this);for(let i of t)i.startsWith("media-")&&this.listen(i,e);this.Jj(),(0,o.e)(this.Kj.bind(this)),(0,o.e)(this.Lj.bind(this)),(0,o.e)(this.Mj.bind(this)),(0,o.e)(this.Nj.bind(this)),(0,o.e)(this.Oj.bind(this)),(0,o.e)(this.Pj.bind(this)),(0,o.e)(this.Qj.bind(this))}onDestroy(){try{let t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:i}=this.$state;i()&&this.Mg("prefer-media",t),e()&&this.He(t)}catch(t){}this.Ac.A()}Jj(){let{load:t}=this.$props,{canLoad:e}=this.$state;if("play"!==t()||e())return;let i=this.listen("media-play-request",t=>{this.Hg(t),i()})}Kj(){let t=this.D(),e=this.$state.canPlay();return t&&e&&this.Ac.Ya(),()=>{this.Ac.aa()}}Ij(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&((0,o.p)(this.D)?this[t.type](t):this.Ac.k(t.type,()=>{(0,o.p)(this.D)&&this[t.type](t)}))}async Bc(t){if(L)return;let{canPlay:e,paused:i,autoPlaying:s}=this.$state;if(!this.Hg(t)&&(0,o.p)(i)){t&&this.g.i.k("media-play-request",t);try{let t=(0,o.p)(this.D);return iW(t,(0,o.p)(e)),await t.play()}catch(i){let e=this.createEvent("play-fail",{detail:iw(i),trigger:t});throw e.autoPlay=s(),this.Ca.W(e),i}}}Hg(t){let{load:e}=this.$props,{canLoad:i}=this.$state;if("play"===e()&&!i()){let e=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(e),this.Ac.k("media-play-request",async()=>{try{await this.Bc(e)}catch(t){}}),!0}return!1}async Fe(t){if(L)return;let{canPlay:e,paused:i}=this.$state;if(!(0,o.p)(i)){t&&this.g.i.k("media-pause-request",t);try{let t=(0,o.p)(this.D);return iW(t,(0,o.p)(e)),await t.pause()}catch(t){throw this.g.i.vb("media-pause-request"),t}}}Ig(t,e){let{audioGain:i,canSetAudioGain:s}=this.$state;if(i()===t)return;let n=this.D();if(!(null==n?void 0:n.audioGain)||!s())throw Error("[vidstack] audio gain api not available");e&&this.g.i.k("media-audio-gain-change-request",e),n.audioGain.setGain(t)}Jg(t){var e;if(L)return;let{canPlay:i,live:s,liveEdge:n,canSeek:a,liveSyncPosition:r,seekableEnd:l,userBehindLiveEdge:h}=this.$state;if(h.set(!1),(0,o.p)(()=>!s()||n()||!a()))return;let u=(0,o.p)(this.D);iW(u,(0,o.p)(i)),t&&this.g.i.k("media-seek-request",t);let d=l()-2;u.setCurrentTime(Math.min(d,null!=(e=r())?e:d))}async Kg(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prefer-media",e=arguments.length>1?arguments[1]:void 0;if(L)return;let i=this.Lg(t);if(iN(t,i),!i.active)return(0,o.p)(this.$state.pictureInPicture)&&(this.Ge=!0,await this.He(e)),e&&this.g.i.k("media-enter-fullscreen-request",e),i.enter()}async Mg(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prefer-media",e=arguments.length>1?arguments[1]:void 0;if(L)return;let i=this.Lg(t);if(iN(t,i),i.active){e&&this.g.i.k("media-exit-fullscreen-request",e);try{let t=await i.exit();return this.Ge&&(0,o.p)(this.$state.canPictureInPicture)&&await this.Ie(),t}finally{this.Ge=!1}}}Lg(t){let e=(0,o.p)(this.D);return"prefer-media"===t&&this.qd.supported||"media"===t?this.qd:null==e?void 0:e.fullscreen}async Ie(t){if(!L&&(this.Ng(),!this.$state.pictureInPicture()))return t&&this.g.i.k("media-enter-pip-request",t),await this.D().pictureInPicture.enter()}async He(t){if(!L&&(this.Ng(),this.$state.pictureInPicture()))return t&&this.g.i.k("media-exit-pip-request",t),await this.D().pictureInPicture.exit()}Ng(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}Lj(){this.zc.defaultDelay=this.$props.controlsDelay()}Mj(){var t,e;let{canSetAudioGain:i}=this.$state,s=!!(null==(e=this.D())||null==(t=e.audioGain)?void 0:t.supported);i.set(s)}Nj(){var t,e;let{canAirPlay:i}=this.$state,s=!!(null==(e=this.D())||null==(t=e.airPlay)?void 0:t.supported);i.set(s)}Oj(){let{canGoogleCast:t,source:e}=this.$state,i=I&&!j&&tr(e());t.set(i)}Pj(){var t,e;let{canFullscreen:i}=this.$state,s=this.qd.supported||!!(null==(e=this.D())||null==(t=e.fullscreen)?void 0:t.supported);i.set(s)}Qj(){var t,e;let{canPictureInPicture:i}=this.$state,s=!!(null==(e=this.D())||null==(t=e.pictureInPicture)?void 0:t.supported);i.set(s)}async "media-airplay-request"(t){try{await this.Og(t)}catch(t){}}async Og(t){try{var e;let i=null==(e=this.D())?void 0:e.airPlay;if(!(null==i?void 0:i.supported))throw Error("No AirPlay adapter.");return t&&this.g.i.k("media-airplay-request",t),await i.prompt()}catch(t){throw this.g.i.vb("media-airplay-request"),t}}async "media-google-cast-request"(t){try{await this.Pg(t)}catch(t){}}async Pg(e){try{let{canGoogleCast:i}=this.$state;if(!(0,o.p)(i)){let t=Error("Cast not available.");throw t.code="CAST_NOT_AVAILABLE",t}if(th("https://www.gstatic.com"),!this.rd){let e=await t.r(546115)(t.i).then(function(t){return t.d});this.rd=new e.GoogleCastLoader}await this.rd.prompt(this.a),e&&this.g.i.k("media-google-cast-request",e);let s="disconnected"!==(0,o.p)(this.$state.remotePlaybackState);s&&this.$state.savedState.set({paused:(0,o.p)(this.$state.paused),currentTime:(0,o.p)(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(s?this.rd:null)}catch(t){throw this.g.i.vb("media-google-cast-request"),t}}"media-audio-track-change-request"(t){let{logger:e,audioTracks:i}=this.a;if(i.readonly)return;let s=i[t.detail];if(s){let e=t.type;this.g.i.k(e,t),s.selected=!0}}async "media-enter-fullscreen-request"(t){try{await this.Kg(t.detail,t)}catch(e){this._c(e,t)}}async "media-exit-fullscreen-request"(t){try{await this.Mg(t.detail,t)}catch(e){this._c(e,t)}}async Rd(t){let e=(0,o.p)(this.$props.fullscreenOrientation),i=t.detail;if(!(0,o.n)(e)&&"none"!==e&&this.cb.supported)if(i){if(this.cb.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.cb.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}_c(t,e){this.Ca.W(this.createEvent("fullscreen-error",{detail:iw(t)}))}async "media-orientation-lock-request"(t){let e=t.type;try{this.g.i.k(e,t),await this.cb.lock(t.detail)}catch(t){this.g.i.vb(e)}}async "media-orientation-unlock-request"(t){let e=t.type;try{this.g.i.k(e,t),await this.cb.unlock()}catch(t){this.g.i.vb(e)}}async "media-enter-pip-request"(t){try{await this.Ie(t)}catch(e){this.Qg(e,t)}}async "media-exit-pip-request"(t){try{await this.He(t)}catch(e){this.Qg(e,t)}}Qg(t,e){this.Ca.W(this.createEvent("picture-in-picture-error",{detail:iw(t)}))}"media-live-edge-request"(t){let{live:e,liveEdge:i,canSeek:s}=this.$state;if(!(!e()||i())&&s()){this.g.i.k("media-seek-request",t);try{this.Jg()}catch(t){this.g.i.vb("media-seek-request")}}}async "media-loop-request"(t){try{this.g.Pb=!0,this.g.Cc=!0,await this.Bc(t)}catch(t){this.g.Pb=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async "media-pause-request"(t){if(!this.$state.paused())try{await this.Fe(t)}catch(t){}}async "media-play-request"(t){if(this.$state.paused())try{await this.Bc(t)}catch(t){}}"media-rate-change-request"(t){let{playbackRate:e,canSetPlaybackRate:i}=this.$state;if(e()===t.detail||!i())return;let s=this.D();(null==s?void 0:s.setPlaybackRate)&&(this.g.i.k("media-rate-change-request",t),s.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.Ig(t.detail,t)}catch(t){}}"media-quality-change-request"(t){var e,i;let{qualities:s,storage:n,logger:a}=this.a;if(s.readonly)return;this.g.i.k("media-quality-change-request",t);let r=t.detail;if(r<0)s.autoSelect(t),t.isOriginTrusted&&(null==n||null==(e=n.setVideoQuality)||e.call(n,null));else{let e=s[r];e&&(e.selected=!0,t.isOriginTrusted&&(null==n||null==(i=n.setVideoQuality)||i.call(n,{id:e.id,width:e.width,height:e.height,bitrate:e.bitrate})))}}"media-pause-controls-request"(t){let e=t.type;this.g.i.k(e,t),this.zc.pause(t)}"media-resume-controls-request"(t){let e=t.type;this.g.i.k(e,t),this.zc.resume(t)}"media-seek-request"(t){let{seekableStart:e,seekableEnd:i,ended:s,canSeek:n,live:a,userBehindLiveEdge:r,clipStartTime:l}=this.$state,h=t.detail;s()&&(this.g.Cc=!0);let o=t.type;this.g.Ka=!1,this.g.i.vb(o);let u=h+l(),d=Math.floor(u)===Math.floor(i())?i():Math.min(Math.max(e()+.1,u),i()-.1);Number.isFinite(d)&&n()&&(this.g.i.k(o,t),this.D().setCurrentTime(d),a()&&t.isOriginTrusted&&Math.abs(i()-d)>=2&&r.set(!0))}"media-seeking-request"(t){let e=t.type;this.g.i.k(e,t),this.$state.seeking.set(!0),this.g.Ka=!0}"media-start-loading"(t){if(this.$state.canLoad())return;let e=t.type;this.g.i.k(e,t),this.Ca.W(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;let e=t.type;this.g.i.k(e,t),this.Ca.W(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){let{index:e,mode:i}=t.detail,s=this.a.textTracks[e];if(s){let e=t.type;this.g.i.k(e,t),s.setMode(i,t)}}"media-mute-request"(t){if(this.$state.muted())return;let e=t.type;this.g.i.k(e,t),this.D().setMuted(!0)}"media-unmute-request"(t){let{muted:e,volume:i}=this.$state;if(!e())return;let s=t.type;this.g.i.k(s,t),this.a.$provider().setMuted(!1),0===i()&&(this.g.i.k(s,t),this.D().setVolume(.25))}"media-volume-change-request"(t){let{muted:e,volume:i}=this.$state,s=t.detail;if(i()===s)return;let n=t.type;this.g.i.k(n,t),this.D().setVolume(s),s>0&&e()&&(this.g.i.k(n,t),this.D().setMuted(!1))}Ra(t,e,i){}constructor(t,e,i){super(),this.Ca=t,this.g=e,this.a=i,this.Ac=new iR,this.Ge=!1,this.D=i.$provider,this.zc=new eW,this.qd=new C,this.cb=new U}}function iW(t,e){if(!t||!e)throw Error("[vidstack] media not ready")}function iN(t,e){if(null==e||!e.supported)throw Error("[vidstack] no fullscreen support")}class iH{constructor(){this.Ka=!1,this.Pb=!1,this.Cc=!1,this.i=new iI}}let iz=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class iG extends eV{onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){(0,o.e)(this.Rj.bind(this)),this.Sj(),this.Tj(),this.Uj(),this.Vj(),(0,o.v)(this.Wj.bind(this))}onDestroy(){let{audioTracks:t,qualities:e,textTracks:i}=this.a;t[$.A](),e[$.A](),i[$.A](),this.Je()}W(t){if(!this.scope)return;let e=t.type;(0,o.q)(()=>{var e;return null==(e=this[t.type])?void 0:e.call(this,t)}),L||(iz.has(e)&&this.v.set(e,t),this.dispatch(t))}Vj(){this.Dc&&(requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new o.D("dom-connect"))}),this.Dc=!1)}Wj(){var t;this.Dc||(this.Dc=!this.$state.paused(),null==(t=this.a.$provider())||t.pause())}wb(){this.Rg(),this.sd=!1,this.g.Cc=!1,this.g.Pb=!1,this.td=!1,this.Qb=void 0,this.v.clear()}E(t,e){let i=this.g.i.ye(t);i&&(e.request=i,e.triggers.add(i))}Sj(){this.Ke(),this.Sg();let t=this.a.textTracks;(0,o.l)(t,"add",this.Ke.bind(this)),(0,o.l)(t,"remove",this.Ke.bind(this)),(0,o.l)(t,"mode-change",this.Sg.bind(this))}Tj(){let t=this.a.qualities;(0,o.l)(t,"add",this.md.bind(this)),(0,o.l)(t,"remove",this.md.bind(this)),(0,o.l)(t,"change",this._a.bind(this)),(0,o.l)(t,"auto-change",this.Xj.bind(this)),(0,o.l)(t,"readonly-change",this.Yj.bind(this))}Uj(){let t=this.a.audioTracks;(0,o.l)(t,"add",this.Tg.bind(this)),(0,o.l)(t,"remove",this.Tg.bind(this)),(0,o.l)(t,"change",this.Zj.bind(this))}Ke(t){let{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}Sg(t){t&&this.E("media-text-track-change-request",t);let e=this.a.textTracks.selected,{textTrack:i}=this.$state;i()!==e&&(i.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}Tg(t){let{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Zj(t){let{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),t&&this.E("media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}md(t){let{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}_a(t){let{quality:e}=this.$state;e.set(this.a.qualities.selected),t&&this.E("media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}Xj(){let{qualities:t}=this.a,e=t.auto;this.$state.autoQuality.set(e),e||this.Je()}Ug(){this.Je(),this.Le=(0,o.e)(()=>{let{qualities:t}=this.a,{mediaWidth:e,mediaHeight:i}=this.$state,s=e(),n=i();if(0===s||0===n)return;let a=null,r=1/0;for(let e of t){let t=Math.abs(e.width-s)+Math.abs(e.height-n);t<r&&(r=t,a=e)}a&&t[$.fa](a,!0,new o.D("resize",{detail:{width:s,height:n}}))})}Je(){var t;null==(t=this.Le)||t.call(this),this.Le=null}Yj(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}Rj(){let{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e())return void t.set(!1);K().then(t.set)}"provider-change"(t){var e,i;let s=this.a.$provider(),n=t.detail;(null==s?void 0:s.type)!==(null==n?void 0:n.type)&&(null==s||null==(e=s.destroy)||e.call(s),null==s||null==(i=s.scope)||i.dispose(),this.a.$provider.set(t.detail),s&&null===t.detail&&this.Vg(t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),this.wb()}"can-load"(t){this.$state.canLoad.set(!0),this.v.set("can-load",t),this.a.textTracks[tw._](),this.E("media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),this.v.set("can-load-poster",t),this.E("media-poster-start-loading",t)}"media-type-change"(t){let e=this.v.get("source-change");e&&t.triggers.add(e);let i=this.$state.viewType();this.$state.mediaType.set(t.detail);let s=this.$state.providedViewType(),n="unknown"===s?t.detail:s;i!==n&&(L?this.$state.inferredViewType.set(n):setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:n,trigger:t}))})},0))}"stream-type-change"(t){let e=this.v.get("source-change");e&&t.triggers.add(e);let{streamType:i,inferredStreamType:s}=this.$state;s.set(t.detail),t.detail=i()}"rate-change"(t){let{storage:e}=this.a,{canPlay:i}=this.$state;if(this.$state.playbackRate.set(t.detail),this.E("media-rate-change-request",t),i()){var s;null==e||null==(s=e.setPlaybackRate)||s.call(e,t.detail)}}"remote-playback-change"(t){let{remotePlaybackState:e,remotePlaybackType:i}=this.$state,{type:s,state:n}=t.detail,a="connected"===n;i.set(s),e.set(n);let r="airplay"===s?"media-airplay-request":"media-google-cast-request";if(a)this.E(r,t);else{let e=this.g.i.sg(r);e&&(t.request=e,t.triggers.add(e))}}"sources-change"(t){let e=this.$state.sources(),i=t.detail;this.$state.sources.set(i),this._j(e,i,t)}_j(t,e,i){let{qualities:s}=this.a,n=!1,a=!1;for(let n of t)if(tc(n)&&!e.some(t=>t.src===n.src)){let t=s.getBySrc(n.src);t&&(s[$.dc](t,i),a=!0)}for(let t of(a&&!s.length&&(this.$state.savedState.set(null),s[$.A](i)),e)){var r;if(!tc(t)||s.getBySrc(t.src))continue;let e={id:null!=(r=t.id)?r:t.height+"p",bitrate:null,codec:null,...t,selected:!1};s[$.ea](e,i),n=!0}n&&!s[eQ.Ja]&&(this.Ug(),s[eQ.Ja]=this.Ug.bind(this),s[eQ.Xa](!0,i))}"source-change"(t){var e,i;t.isQualityChange=(null==(e=t.originEvent)?void 0:e.type)==="quality-change";let s=t.detail;this.Vg(t,t.isQualityChange),this.v.set(t.type,t),this.$state.source.set(s),null==(i=this.el)||i.setAttribute("aria-busy","true")}Vg(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{audioTracks:i,qualities:s}=this.a;if(!e){i[$.A](t),s[$.A](t),tj(this.$state,e),this.wb();return}tj(this.$state,e),this.wb()}abort(t){let e=this.v.get("source-change");e&&t.triggers.add(e);let i=this.v.get("can-load");i&&!t.triggers.hasType("can-load")&&t.triggers.add(i)}"load-start"(t){let e=this.v.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);let e=this.v.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){let e=this.v.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){let e=this.v.get("load-start");e&&t.triggers.add(e)}"can-play"(t){var e;let i=this.v.get("loaded-metadata");i&&t.triggers.add(i),this.Wg(t.detail),null==(e=this.el)||e.setAttribute("aria-busy","false")}"can-play-through"(t){this.Wg(t.detail);let e=this.v.get("can-play");e&&t.triggers.add(e)}Wg(t){var e;let{seekable:i,buffered:s,intrinsicDuration:n,canPlay:a}=this.$state;a.set(!0),s.set(t.buffered),i.set(t.seekable);let r=null!=(e=tg(t.seekable))?e:1/0;n.set(r)}"duration-change"(t){let{live:e,intrinsicDuration:i,ended:s}=this.$state,n=t.detail;if(!e()){let e=Number.isNaN(n)?0:n;i.set(e),s()&&this.Xg(t)}}progress(t){var e,i;let{buffered:s,bufferedEnd:n,seekable:a,seekableEnd:r,live:l,intrinsicDuration:h}=this.$state,{buffered:o,seekable:u}=t.detail,d=null!=(e=tg(o))?e:1/0,c=o.length!==s().length,p=d>n(),f=null!=(i=tg(u))?i:1/0,g=u.length!==a().length,b=f>r();(c||p)&&s.set(o),(g||b)&&a.set(u),l()&&(h.set(f),this.dispatch("duration-change",{detail:f,trigger:t}))}play(t){let{paused:e,autoPlayError:i,ended:s,autoPlaying:n,playsInline:a,pointer:r,muted:l,viewType:h,live:o,userBehindLiveEdge:u}=this.$state;if(this.$j(),!e())return void t.stopImmediatePropagation();t.autoPlay=n();let d=this.v.get("waiting");d&&t.triggers.add(d),this.E("media-play-request",t),this.v.set("play",t),e.set(!1),i.set(null),t.autoPlay&&(this.W(this.createEvent("auto-play",{detail:{muted:l()},trigger:t})),n.set(!1)),(s()||this.g.Cc)&&(this.g.Cc=!1,s.set(!1),this.W(this.createEvent("replay",{trigger:t}))),a()||"video"!==h()||"coarse"!==r()||this.a.remote.enterFullscreen("prefer-media",t),o()&&!u()&&this.a.remote.seekToLiveEdge(t)}$j(t){if(!(0,o.p)(this.a.$provider))return;let{ended:e,seekableStart:i,clipStartTime:s,clipEndTime:n,realCurrentTime:a,duration:r}=this.$state,l=a()<s()||n()>0&&a()>=n()||.1>Math.abs(a()-r())||e();return l&&this.dispatch("media-seek-request",{detail:(s()>0?0:i())+.1,trigger:t}),l}"play-fail"(t){let{muted:e,autoPlaying:i}=this.$state,s=this.v.get("play");s&&t.triggers.add(s),this.E("media-play-request",t);let{paused:n,playing:a}=this.$state;n.set(!0),a.set(!1),this.wb(),this.v.set("play-fail",t),t.autoPlay&&(this.W(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),i.set(!1))}playing(t){let e=this.v.get("play"),i=this.v.get("seeked");e?t.triggers.add(e):i&&t.triggers.add(i),setTimeout(()=>this.wb(),0);let{paused:s,playing:n,live:a,liveSyncPosition:r,seekableEnd:l,started:h,currentTime:o,seeking:u,ended:d}=this.$state;if(s.set(!1),n.set(!0),u.set(!1),d.set(!1),this.g.Pb){this.g.Pb=!1;return}if(a()&&!h()&&0===o()){var c;let t=null!=(c=r())?c:l()-2;Number.isFinite(t)&&this.a.$provider().setCurrentTime(t)}this.started(t)}started(t){let{started:e}=this.$state;e()||(e.set(!0),this.W(this.createEvent("started",{trigger:t})))}pause(t){var e;(null==(e=this.el)?void 0:e.isConnected)||(this.Dc=!0),this.E("media-pause-request",t);let i=this.v.get("seeked");i&&t.triggers.add(i);let{paused:s,playing:n}=this.$state;s.set(!0),n.set(!1),this.sd&&setTimeout(()=>{this.W(this.createEvent("end",{trigger:t})),this.sd=!1},0),this.wb()}"time-update"(t){if(this.g.Pb)return void t.stopImmediatePropagation();let{realCurrentTime:e,played:i,waiting:s,clipEndTime:n}=this.$state,a=n(),r=t.detail;for(let n of(e.set(r.currentTime),i.set(r.played),s.set(!1),this.a.textTracks))n[tw.Fb](r.currentTime,t);a>0&&r.currentTime>=a&&(this.sd=!0,this.dispatch("media-pause-request",{trigger:t})),this.ak()}Xg(t){var e;let{duration:i,played:s}=this.$state,n=null!=(e=tf(s()))?e:0;this.W(this.createEvent("time-update",{detail:{currentTime:i(),played:new tp(n,i())},trigger:t}))}ak(){let{storage:t}=this.a,{canPlay:e,realCurrentTime:i}=this.$state;if(e()){var s;null==t||null==(s=t.setTime)||s.call(t,i())}}"audio-gain-change"(t){var e;let{storage:i}=this.a,{canPlay:s,audioGain:n}=this.$state;n.set(t.detail),this.E("media-audio-gain-change-request",t),s()&&(null==i||null==(e=i.setAudioGain)||e.call(i,n()))}"volume-change"(t){let{storage:e}=this.a,{volume:i,muted:s,canPlay:n}=this.$state,a=t.detail;if(i.set(a.volume),s.set(a.muted||0===a.volume),this.E("media-volume-change-request",t),this.E(a.muted?"media-mute-request":"media-unmute-request",t),n()){var r,l;null==e||null==(r=e.setVolume)||r.call(e,i()),null==e||null==(l=e.setMuted)||l.call(e,s())}}seeked(t){let{seeking:e,currentTime:i,realCurrentTime:s,paused:n,seekableEnd:a,ended:r}=this.$state;if(this.g.Ka)e.set(!0),t.stopImmediatePropagation();else if(e()){let i=this.v.get("waiting");i&&t.triggers.add(i);let a=this.v.get("seeking");a&&!t.triggers.has(a)&&t.triggers.add(a),n()&&this.Rg(),e.set(!1),s.set(t.detail),this.E("media-seek-request",t);let r=null==t?void 0:t.originEvent;(null==r?void 0:r.isTrusted)&&!/seek/.test(r.type)&&this.started(t)}Math.floor(i())!==Math.floor(a())?r.set(!1):this.end(t)}waiting(t){this.td||this.g.Ka||(t.stopImmediatePropagation(),this.Qb=t,this.Me())}end(t){let{loop:e,ended:i}=this.$state;if(!(!e()&&i())){if(e())return void setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},10);setTimeout(()=>this.mc(t),0)}}mc(t){var e;let{storage:i}=this.a,{paused:s,seeking:n,ended:a,duration:r}=this.$state;this.Xg(t),s()||this.dispatch("pause",{trigger:t}),n()&&this.dispatch("seeked",{detail:r(),trigger:t}),a.set(!0),this.wb(),null==i||null==(e=i.setTime)||e.call(i,r(),!0),this.dispatch("ended",{trigger:t})}Rg(){this.Me.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){let e=t.detail;this.$state.fullscreen.set(e),this.E(e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){this.E("media-enter-fullscreen-request",t),this.E("media-exit-fullscreen-request",t)}"orientation-change"(t){let e=t.detail.lock;this.E(e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){let e=t.detail;this.$state.pictureInPicture.set(e),this.E(e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){this.E("media-enter-pip-request",t),this.E("media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}constructor(t,e){super(),this.g=t,this.a=e,this.v=new Map,this.sd=!1,this.td=!1,this.Dc=!1,this.Le=null,this.seeking=eN(t=>{let{seeking:e,realCurrentTime:i,paused:s}=this.$state;e.set(!0),i.set(t.detail),this.E("media-seeking-request",t),s()&&(this.Qb=t,this.Me())},150,{leading:!0}),this.Me=eK(()=>{if(!this.Qb)return;this.td=!0;let{waiting:t,playing:e}=this.$state;t.set(!0),e.set(!1);let i=this.createEvent("waiting",{trigger:this.Qb});this.v.set("waiting",i),this.dispatch(i),this.Qb=void 0,this.td=!1},300)}}class iK extends eV{onSetup(){this.Ib(),L||((0,o.e)(this.ck.bind(this)),(0,o.e)(this.dk.bind(this)),(0,o.e)(this.ek.bind(this)),(0,o.e)(this.Yd.bind(this)),(0,o.e)(this.Da.bind(this)),(0,o.e)(this.fk.bind(this)),(0,o.e)(this.gk.bind(this)),(0,o.e)(this.hk.bind(this)),(0,o.e)(this.ik.bind(this)),(0,o.e)(this.jk.bind(this)),(0,o.e)(this.Ne.bind(this)),(0,o.e)(this.kk.bind(this)),(0,o.e)(this.lk.bind(this)),(0,o.e)(this.ud.bind(this)))}Ib(){let t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(let n of Object.keys(this.$props)){var i,s;e.has(n)||null==(i=this.$state[null!=(s=t[n])?s:n])||i.set(this.$props[n]())}this.$state.muted.set(this.$props.muted()||0===this.$props.volume())}lk(){let{viewType:t,streamType:e,title:i,poster:s,loop:n}=this.$props,a=this.$state;a.providedPoster.set(s()),a.providedStreamType.set(e()),a.providedViewType.set(t()),a.providedTitle.set(i()),a.providedLoop.set(n())}bk(){}ck(){let{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())}ud(){let{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}dk(){let t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}jk(){let t=this.$state.loop();this.dispatch("loop-change",{detail:t})}Yd(){let t=this.$props.controls();this.$state.controls.set(t)}kk(){let{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Da(){var t;let e=null!=(t=this.$props.crossOrigin())?t:this.$props.crossorigin();this.$state.crossOrigin.set(!0===e?"":e)}fk(){let{providedDuration:t}=this.$state;t.set(this.$props.duration())}Ne(){let t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}ek(){let{clipStartTime:t,clipEndTime:e}=this.$props;this.$state.clipStartTime.set(t()),this.$state.clipEndTime.set(e())}gk(){this.dispatch("live-change",{detail:this.$state.live()})}ik(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}hk(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}let iY=class t extends eV{onConnect(){(0,o.e)(this.mk.bind(this)),(0,o.e)(this.nk.bind(this));let e=this.ok.bind(this);for(let i of t.Yg)navigator.mediaSession.setActionHandler(i,e);(0,o.v)(this.Ga.bind(this))}Ga(){for(let e of t.Yg)navigator.mediaSession.setActionHandler(e,null)}mk(){var t;let{title:e,artist:i,artwork:s,poster:n}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:e(),artist:i(),artwork:null!=(t=s())?t:[{src:n()}]})}nk(){let{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}ok(t){let e=new o.D("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":var i;this.dispatch("media-seek-request",{detail:(0,o.j)(t.seekTime)?t.seekTime:this.$state.currentTime()+(null!=(i=t.seekOffset)?i:10),trigger:e})}}constructor(){super()}};iY.Yg=["play","pause","seekforward","seekbackward","seekto"];let iU=(0,o.s)(!1);L||((0,o.l)(document,"pointerdown",()=>{iU.set(!1)}),(0,o.l)(document,"keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||iU.set(!0)}));class iB extends o.V{onConnect(t){(0,o.e)(()=>{if(!iU()){this.Ec.set(!1),i_(t,!1),this.listen("pointerenter",this.Pe.bind(this)),this.listen("pointerleave",this.Qe.bind(this));return}let e=document.activeElement===t;this.Ec.set(e),i_(t,e),this.listen("focus",this.Fc.bind(this)),this.listen("blur",this.rk.bind(this))})}focused(){return this.Ec()}Fc(){this.Ec.set(!0),i_(this.el,!0)}rk(){this.Ec.set(!1),i_(this.el,!1)}Pe(){iQ(this.el,!0)}Qe(){iQ(this.el,!1)}constructor(){super(...arguments),this.Ec=(0,o.s)(!1)}}function i_(t,e){(0,o.Y)(t,"data-focus",e),(0,o.Y)(t,"data-hocus",e)}function iQ(t,e){(0,o.Y)(t,"data-hocus",e),(0,o.Y)(t,"data-hover",e)}var iZ=Object.defineProperty,iX=Object.getOwnPropertyDescriptor,iJ=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?iX(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&iZ(e,i,a),a};let i0=class t extends o.W{get p(){return this.a.$provider()}get wd(){return this.$props}onSetup(){this.sk(),(0,o.e)(this.tk.bind(this)),(0,o.e)(this.uk.bind(this)),(0,o.e)(this.gc.bind(this)),(0,o.e)(this.Gc.bind(this)),(0,o.e)(this.Rb.bind(this)),(0,o.e)(this.Ne.bind(this)),(0,o.e)(this.Re.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),eO(t,"tabindex","0"),eO(t,"role","region"),(0,o.e)(this.vk.bind(this)),L?this.ud():(0,o.e)(this.ud.bind(this)),L?this.Zg():(0,o.e)(this.Zg.bind(this)),(0,o.l)(t,"find-media-player",this.wk.bind(this))}onConnect(t){F&&(0,o.Y)(t,"data-iphone","");let e=window.matchMedia("(pointer: coarse)");this._g(e),e.onchange=this._g.bind(this);let i=new ResizeObserver((0,o.b)(this.qa.bind(this)));i.observe(t),(0,o.e)(this.qa.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),(0,o.v)(()=>{i.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.A()}ud(){let t=this.$el,{title:e,live:i,viewType:s,providedTitle:n}=this.$state,a=i(),r=(0,o.w)(s()),l="Unknown"!==r?"".concat(a?"Live ":"").concat(r):a?"Live":"Media",h=e();(0,o.Y)(this.el,"aria-label","".concat(l," Player")+(h?" - ".concat(h):"")),!L&&(null==t?void 0:t.hasAttribute("title"))&&(this.Se=!0,null==t||t.removeAttribute("title"))}Zg(){let t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),(0,o.Y)(this.el,"data-orientation",t),this.qa()}tk(){this.$state.canPlay()&&this.p?this.canPlayQueue.Ya():this.canPlayQueue.aa()}sk(){if(t[iL])return void this.setAttributes(t[iL]);let e={"data-load":function(){return this.$props.load()},"data-captions":function(){let t=this.$state.textTrack();return!!t&&tP(t)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){let{canLoad:t,canPlay:e,waiting:i}=this.$state;return t()&&(!e()||i())},"data-error":function(){let{error:t}=this.$state;return!!t()},"data-autoplay-error":function(){let{autoPlayError:t}=this.$state;return!!t()}},i={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(let t of iD){var s;e["data-"+(null!=(s=i[t])?s:(0,o.m)(t))]=function(){return this.$state[t]()}}delete e.title,t[iL]=e,this.setAttributes(e)}wk(t){t.detail(this)}qa(){if(L||!this.el)return;let t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),(0,o._)(this.el,"--player-width",t+"px"),(0,o._)(this.el,"--player-height",e+"px")}_g(t){if(L)return;let e=t.matches?"coarse":"fine";(0,o.Y)(this.el,"data-pointer",e),this.$state.pointer.set(e),this.qa()}get provider(){return this.p}get controls(){return this.X.zc}set controls(t){this.wd.controls.set(t)}get title(){return(0,o.p)(this.$state.providedTitle)}set title(t){if(this.Se){this.Se=!1;return}this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get duration(){return this.$state.duration()}set duration(t){this.wd.duration.set(t)}get paused(){return(0,o.p)(this.$state.paused)}set paused(t){this.$g(t)}gc(){this.$g(this.$props.paused())}$g(t){t?this.canPlayQueue.k("paused",()=>this.X.Fe()):this.canPlayQueue.k("paused",()=>this.X.Bc())}get muted(){return(0,o.p)(this.$state.muted)}set muted(t){this.wd.muted.set(t)}uk(){this.xk(this.$props.muted())}xk(t){this.canPlayQueue.k("muted",()=>{this.p&&this.p.setMuted(t)})}get currentTime(){return(0,o.p)(this.$state.currentTime)}set currentTime(t){this.ah(t)}Rb(){this.ah(this.$props.currentTime())}ah(t){this.canPlayQueue.k("currentTime",()=>{let{currentTime:e,clipStartTime:i,seekableStart:s,seekableEnd:n}=this.$state;t!==(0,o.p)(e)&&(0,o.p)(()=>{if(!this.p)return;let e=t+i(),a=Math.floor(e)===Math.floor(n())?n():Math.min(Math.max(s()+.1,e),n()-.1);Number.isFinite(a)&&this.p.setCurrentTime(a)})})}get volume(){return(0,o.p)(this.$state.volume)}set volume(t){this.wd.volume.set(t)}Gc(){this.yk(this.$props.volume())}yk(t){let e=eS(0,t,1);this.canPlayQueue.k("volume",()=>{this.p&&this.p.setVolume(e)})}get playbackRate(){return(0,o.p)(this.$state.playbackRate)}set playbackRate(t){this.bh(t)}Re(){this.bh(this.$props.playbackRate())}bh(t){this.canPlayQueue.k("rate",()=>{var e,i;this.p&&(null==(e=(i=this.p).setPlaybackRate)||e.call(i,t))})}Ne(){this.zk(this.$props.playsInline())}zk(t){this.canPlayQueue.k("playsinline",()=>{var e,i;this.p&&(null==(e=(i=this.p).setPlaysInline)||e.call(i,t))})}vk(){let t=this.$props.storage(),e=(0,o.i)(t)?new eH:t;if(null==e?void 0:e.onChange){var i;let{source:s}=this.$state,n=(0,o.i)(t)?t:null==(i=this.el)?void 0:i.id,a=(0,o.L)(this.Ak.bind(this));(0,o.e)(()=>e.onChange(s(),a(),n||void 0))}this.a.storage=e,this.a.textTracks.setStorage(e),(0,o.v)(()=>{var t;null==e||null==(t=e.onDestroy)||t.call(e),this.a.storage=null,this.a.textTracks.setStorage(null)})}Ak(){let{clipStartTime:t,clipEndTime:e}=this.$props,{source:i}=this.$state,s=i();return s.src?"".concat(s.src,":").concat(t(),":").concat(e()):null}async play(t){return this.X.Bc(t)}async pause(t){return this.X.Fe(t)}async enterFullscreen(t,e){return this.X.Kg(t,e)}async exitFullscreen(t,e){return this.X.Mg(t,e)}enterPictureInPicture(t){return this.X.Ie(t)}exitPictureInPicture(t){return this.X.He(t)}seekToLiveEdge(t){this.X.Jg(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}startLoadingPoster(t){this.a.delegate.c("can-load-poster",void 0,t)}requestAirPlay(t){return this.X.Og(t)}requestGoogleCast(t){return this.X.Pg(t)}setAudioGain(t,e){return this.X.Ig(t,e)}destroy(){super.destroy(),this.a.remote.setPlayer(null),this.dispatch("destroy")}constructor(){super(),this.canPlayQueue=new iR,this.Se=!1,new iK;let t={player:this,qualities:new eZ,audioTracks:new e_,storage:null,$provider:(0,o.s)(null),$providerSetup:(0,o.s)(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new tR(void 0),t.remote.setPlayer(this),t.textTracks=new eY,t.textTracks[tw.Eb]=this.$state.crossOrigin,t.textRenderers=new eG(t),t.ariaKeys={},this.a=t,(0,o.a2)(tF,t),this.orientation=new U,new iB,new e3(t);let e=new iH;this.Ca=new iG(e,t),this.X=new iV(this.Ca,e,t),t.delegate=new iF(this.Ca.W.bind(this.Ca),t),"undefined"!=typeof navigator&&"mediaSession"in navigator&&new iY,new ij("load",this.startLoading.bind(this)),new ij("posterLoad",this.startLoadingPoster.bind(this))}};i0.props={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:{togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},storage:null},i0.state=tE,iJ([o.a3],i0.prototype,"canPlayQueue",2),iJ([o.a3],i0.prototype,"remoteControl",2),iJ([o.a3],i0.prototype,"provider",1),iJ([o.a3],i0.prototype,"controls",1),iJ([o.a3],i0.prototype,"orientation",2),iJ([o.a3],i0.prototype,"title",1),iJ([o.a3],i0.prototype,"qualities",1),iJ([o.a3],i0.prototype,"audioTracks",1),iJ([o.a3],i0.prototype,"textTracks",1),iJ([o.a3],i0.prototype,"textRenderers",1),iJ([o.a3],i0.prototype,"duration",1),iJ([o.a3],i0.prototype,"paused",1),iJ([o.a3],i0.prototype,"muted",1),iJ([o.a3],i0.prototype,"currentTime",1),iJ([o.a3],i0.prototype,"volume",1),iJ([o.a3],i0.prototype,"playbackRate",1),iJ([o.a4],i0.prototype,"play",1),iJ([o.a4],i0.prototype,"pause",1),iJ([o.a4],i0.prototype,"enterFullscreen",1),iJ([o.a4],i0.prototype,"exitFullscreen",1),iJ([o.a4],i0.prototype,"enterPictureInPicture",1),iJ([o.a4],i0.prototype,"exitPictureInPicture",1),iJ([o.a4],i0.prototype,"seekToLiveEdge",1),iJ([o.a4],i0.prototype,"startLoading",1),iJ([o.a4],i0.prototype,"startLoadingPoster",1),iJ([o.a4],i0.prototype,"requestAirPlay",1),iJ([o.a4],i0.prototype,"requestGoogleCast",1),iJ([o.a4],i0.prototype,"setAudioGain",1);let i1=i0,i2=new Map;class i3{get c(){return this.a.delegate.c}connect(){let t=this.Y();this.Te&&(this.ch(this.a.$state.source(),t),this.dh(t),this.Te=!1),(0,o.e)(this.Bk.bind(this)),(0,o.e)(this.Ck.bind(this)),(0,o.e)(this.Dk.bind(this)),(0,o.e)(this.Ek.bind(this)),(0,o.e)(this.Fk.bind(this))}Bk(){this.c("sources-change",[...i5(this.a.$props.src()),...this.xd()])}Ck(){var t;let{$state:e}=this.a,i=e.sources(),s=(0,o.p)(e.source),n=this.eh(s,i);if((null==(t=i[0])?void 0:t.src)&&!n.src&&!n.type){let{crossOrigin:t}=e,s=td(t()),n=new AbortController;return Promise.all(i.map(t=>(0,o.i)(t.src)&&"?"===t.type?fetch(t.src,{method:"HEAD",credentials:s,signal:n.signal}).then(e=>(t.type=e.headers.get("content-type")||"??",i2.set(t.src,t.type),t)).catch(()=>t):t)).then(t=>{n.signal.aborted||(this.eh((0,o.p)(e.source),t),(0,o.t)())}),()=>n.abort()}(0,o.t)()}eh(t,e){let i={src:"",type:""},s=null,n=new o.D("sources-change",{detail:{sources:e}}),a=this.Ue(),{started:r,paused:l,currentTime:h,quality:u,savedState:d}=this.a.$state;for(let t of e){let e=a.find(e=>e.canPlay(t));if(e){i=t,s=e;break}}if(tc(i)){let t=u(),s=e.find(e=>e.src===(null==t?void 0:t.src));(0,o.p)(r)?d.set({paused:(0,o.p)(l),currentTime:(0,o.p)(h)}):d.set(null),s&&(i=s,n=new o.D("quality-change",{detail:{quality:t}}))}return i7(t,i)||this.ch(i,s,n),s!==(0,o.p)(this.Y)&&this.dh(s,n),i}ch(t,e,i){this.c("source-change",t,i),this.c("media-type-change",(null==e?void 0:e.mediaType(t))||"unknown",i)}dh(t,e){this.a.$providerSetup.set(!1),this.c("provider-change",null,e),t&&(0,o.p)(()=>{var e;return null==(e=t.preconnect)?void 0:e.call(t,this.a)}),this.Y.set(t),this.c("provider-loader-change",t,e)}Dk(){let t=this.a.$provider();if(!(!t||(0,o.p)(this.a.$providerSetup))){if(this.a.$state.canLoad()){(0,o.a)(()=>t.setup(),t.scope),this.a.$providerSetup.set(!0);return}(0,o.p)(()=>{var e;return null==(e=t.preconnect)?void 0:e.call(t)})}}Ek(){if(!this.a.$providerSetup())return;let t=this.a.$provider(),e=this.a.$state.source(),i=(0,o.p)(this.a.$state.crossOrigin),s=(0,o.p)(this.a.$props.preferNativeHLS);if(!i7(null==t?void 0:t.currentSrc,e)){if(this.a.$state.canLoad()){let n=new AbortController;if(tn(e))(s||!Y())&&(function t(e,i){return fetch(e,i).then(t=>t.text()).then(s=>{let n=function(t){let e=t.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return e?e[0].split("\n")[1].trim():null}(s);if(n)return t(/^https?:/.test(n)?n:new URL(n,e).href,i);let a=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(s)?"on-demand":"live";return"live"===a&&function(t){for(let e of t.split("\n"))if(e.startsWith("#EXT-X-TARGETDURATION")){let t=parseFloat(e.split(":")[1]);if(!isNaN(t))return t}return -1}(s)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(s)||s.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":a})})(e.src,{credentials:td(i),signal:n.signal}).then(t=>{this.c("stream-type-change",t)}).catch(o.A);else if(ta(e))fetch(e.src,{credentials:td(i),signal:n.signal}).then(t=>t.text()).then(t=>/type="static"/.test(t)?"on-demand":"live").then(t=>{this.c("stream-type-change",t)}).catch(o.A);else this.c("stream-type-change","on-demand");return(0,o.p)(()=>{let i=(0,o.p)(this.a.$state.preload);return null==t?void 0:t.loadSource(e,i).catch(t=>{})}),()=>n.abort()}try{(0,o.i)(e.src)&&th(new URL(e.src).origin)}catch(t){}}}Fk(){let t=this.Y(),{providedPoster:e,source:i,canLoadPoster:s}=this.a.$state;if(!t||!t.loadPoster||!i()||!s()||e())return;let n=new AbortController,a=new o.D("source-change",{detail:i});return t.loadPoster(i(),this.a,n).then(t=>{this.c("poster-change",t||"",a)}).catch(()=>{this.c("poster-change","",a)}),()=>{n.abort()}}constructor(t,e,i,s=[]){this.xd=t,this.a=e,this.Y=i,this.Te=!1;let n=new iO,a=new iC,r=new e8,l=new e7,h=[new iM,new iq];this.Ue=(0,o.L)(()=>{let t=e.$state.remotePlaybackLoader(),i=e.$props.preferNativeHLS()?[r,l,n,a,...h,...s]:[a,r,l,n,...h,...s];return t?[t,...i]:i});let{$state:u}=e;for(let t of(u.sources.set(i5(e.$props.src())),u.sources())){let e=this.Ue().find(e=>e.canPlay(t));if(!e)continue;let i=e.mediaType(t);this.a.$state.source.set(t),this.a.$state.mediaType.set(i),this.a.$state.inferredViewType.set(i),this.Y.set(e),this.Te=!0}}}function i5(t){return((0,o.g)(t)?t:[t]).map(t=>(0,o.i)(t)?{src:t,type:i4(t)}:{...t,type:i4(t.src,t.type)}).sort(t=>"?"===t.type?1:-1)}function i4(t,e){if((0,o.i)(e)&&e.length)return e;if((0,o.i)(t)&&i2.has(t))return i2.get(t);if(!e&&tn({src:t,type:""}))return"application/x-mpegurl";if(!e&&ta({src:t,type:""}))return"application/dash+xml";if(!(0,o.i)(t)||t.startsWith("blob:"))return"video/object";else if(t.includes("youtube")||t.includes("youtu.be"))return"video/youtube";else if(t.includes("vimeo")&&!t.includes("progressive_redirect")&&!t.includes(".m3u8"))return"video/vimeo";return"?"}function i7(t,e){return(null==t?void 0:t.src)===(null==e?void 0:e.src)&&(null==t?void 0:t.type)===(null==e?void 0:e.type)}class i8{Gk(){let t=this.yd();for(let e of this.fh)if(!t.some(t=>t.id===e.id)){let t=e.id&&this.a.textTracks.getById(e.id);t&&this.a.textTracks.remove(t)}for(let e of t){let t=e.id||tT.createId(e);this.a.textTracks.getById(t)||(e.id=t,this.a.textTracks.add(e))}this.fh=t}constructor(t,e){this.yd=t,this.a=e,this.fh=[],(0,o.e)(this.Gk.bind(this))}}var i6=Object.defineProperty,i9=Object.getOwnPropertyDescriptor;class st extends o.W{onSetup(){this.a=tI(),this.gh=new i3(this.xd,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.gh.connect(),new i8(this.yd,this.a);let e=new ResizeObserver((0,o.b)(this.qa.bind(this)));e.observe(t);let i=new MutationObserver(this.Hc.bind(this));i.observe(t,{attributes:!0,childList:!0}),this.qa(),this.Hc(),(0,o.v)(()=>{e.disconnect(),i.disconnect()})}load(t){window.cancelAnimationFrame(this.Ve),this.Ve=requestAnimationFrame(()=>this.Hk(t)),(0,o.v)(()=>{window.cancelAnimationFrame(this.Ve)})}Hk(t){if(!this.scope)return;let e=this.$state.loader(),{$provider:i}=this.a;!(this.Y===e&&(null==e?void 0:e.target)===t&&(0,o.p)(i))&&(this.hh(),this.Y=e,e&&(e.target=t||null),e&&t&&e.load(this.a).then(t=>{this.scope&&(0,o.p)(this.$state.loader)===e&&this.a.delegate.c("provider-change",t)}))}onDestroy(){this.Y=null,this.hh()}hh(){this.a.delegate.c("provider-change",null)}qa(){if(!this.el)return;let{player:t,$state:e}=this.a,i=this.el.offsetWidth,s=this.el.offsetHeight;t&&(e.mediaWidth.set(i),e.mediaHeight.set(s),t.el&&((0,o._)(t.el,"--media-width",i+"px"),(0,o._)(t.el,"--media-height",s+"px")))}Hc(){let t=[],e=[];for(let i of this.el.children)if(!i.hasAttribute("data-vds")){if(i instanceof HTMLSourceElement){let e={id:i.id,src:i.src,type:i.type};for(let t of["id","src","width","height","bitrate","codec"]){let s=i.getAttribute("data-".concat(t));(0,o.i)(s)&&(e[t]=/id|src|codec/.test(t)?s:Number(s))}t.push(e)}else if(i instanceof HTMLTrackElement){let t={src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")};e.push({id:i.id||tT.createId(t),...t})}}this.xd.set(t),this.yd.set(e),(0,o.t)()}constructor(){super(...arguments),this.xd=(0,o.s)([]),this.yd=(0,o.s)([]),this.Y=null,this.Ve=-1}}function se(t,e){let i=String(t),s=i.length;if(s<e){let i="0".repeat(e-s);return"".concat(i).concat(t)}return i}function si(t){let e=Math.trunc(t/3600),i=Math.trunc(t%3600/60);return{hours:e,minutes:i,seconds:Math.trunc(t%60),fraction:Number((t-Math.trunc(t)).toPrecision(3))}}function ss(t){let{padHrs:e=null,padMins:i=null,showHrs:s=!1,showMs:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{hours:a,minutes:r,seconds:l,fraction:h}=si(t),u=e?se(a,2):a,d=i||(0,o.R)(i)&&t>=3600?se(r,2):r,c=se(l,2),p=n&&h>0?".".concat(String(h).replace(/^0?\./,"")):"",f="".concat(d,":").concat(c).concat(p);return a>0||s?"".concat(u,":").concat(f):f}function sn(t){let e=[],{hours:i,minutes:s,seconds:n}=si(t);return i>0&&e.push("".concat(i," hour")),s>0&&e.push("".concat(s," min")),(n>0||0===e.length)&&e.push("".concat(n," sec")),e.join(" ")}st.props={loaders:[]},st.state=new o.T({loader:null}),((t,e,i,s)=>{for(var n,a=s>1?void 0:s?i9(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&i6(e,i,a)})([o.a4],st.prototype,"load",1);class sa extends o.W{onSetup(){this.a=tI()}onAttach(t){t.style.display="contents"}onConnect(t){t.setAttribute("data-media-announcer",""),eO(t,"role","status"),eO(t,"aria-live","polite");let{busy:e}=this.$state;this.setAttributes({"aria-busy":()=>e()?"true":null}),this.We=!0,(0,o.e)(this.gc.bind(this)),(0,o.e)(this.Gc.bind(this)),(0,o.e)(this.Ik.bind(this)),(0,o.e)(this.Jk.bind(this)),(0,o.e)(this.Kk.bind(this)),(0,o.e)(this.Lk.bind(this)),(0,o.e)(this.Mk.bind(this)),(0,o.t)(),this.We=!1}gc(){let{paused:t}=this.a.$state;this.Sb(t()?"Pause":"Play")}Jk(){let{fullscreen:t}=this.a.$state;this.Sb(t()?"Enter Fullscreen":"Exit Fullscreen")}Kk(){let{pictureInPicture:t}=this.a.$state;this.Sb(t()?"Enter PiP":"Exit PiP")}Ik(){let{textTrack:t}=this.a.$state;this.Sb(t()?"Closed-Captions On":"Closed-Captions Off")}Gc(){var t;let{muted:e,volume:i,audioGain:s}=this.a.$state;this.Sb(e()||0===i()?"Mute":"".concat(Math.round(i()*(null!=(t=s())?t:1)*100),"% ").concat(this.Xe("Volume")))}Lk(){let{seeking:t,currentTime:e}=this.a.$state,i=t();this.Ic>0?(window.clearTimeout(this.Ye),this.Ye=window.setTimeout(()=>{let t=(0,o.p)(e),i=Math.abs(t-this.Ic);if(i>=1){let e=t>=this.Ic,s=sn(i);this.Sb("".concat(this.Xe(e?"Seek Forward":"Seek Backward")," ").concat(s))}this.Ic=-1,this.Ye=-1},300)):i&&(this.Ic=(0,o.p)(e))}Xe(t){var e,i;let{translations:s}=this.$props;return null!=(i=null==s||null==(e=s())?void 0:e[t||""])?i:t}Mk(){let{label:t,busy:e}=this.$state,i=this.Xe(t());if(this.We)return;e.set(!0);let s=window.setTimeout(()=>void e.set(!1),150);return this.el&&(0,o.Y)(this.el,"aria-label",i),(0,o.i)(i)&&this.dispatch("change",{detail:i}),()=>window.clearTimeout(s)}Sb(t){let{label:e}=this.$state;e.set(t)}constructor(){super(...arguments),this.We=!1,this.Ic=-1,this.Ye=-1}}sa.props={translations:null},sa.state=new o.T({label:null,busy:!1});class sr extends o.W{onSetup(){this.a=tI(),(0,o.e)(this.Nk.bind(this))}onAttach(t){let{pictureInPicture:e,fullscreen:i}=this.a.$state;(0,o._)(t,"pointer-events","none"),eO(t,"role","group"),this.setAttributes({"data-visible":this.ih.bind(this),"data-fullscreen":i,"data-pip":e}),(0,o.e)(()=>{this.dispatch("change",{detail:this.ih()})}),(0,o.e)(this.Ok.bind(this)),(0,o.e)(()=>{let e=i();for(let i of["top","right","bottom","left"])(0,o._)(t,"padding-".concat(i),e&&"env(safe-area-inset-".concat(i,")"))})}Ok(){if(!this.el)return;let{nativeControls:t}=this.a.$state,e=t();(0,o.Y)(this.el,"aria-hidden",e?"true":null),(0,o._)(this.el,"display",e?"none":null)}Nk(){let{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:i}=this.$props;t.defaultDelay=2e3===e()?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=i()}ih(){let{controlsVisible:t}=this.a.$state;return t()}}sr.props={hideDelay:2e3,hideOnMouseLeave:!1};class sl extends o.W{onAttach(t){t.style.pointerEvents||(0,o._)(t,"pointer-events","auto")}}class sh extends o.V{onDestroy(){var t;null==(t=this.xb)||t.call(this),this.xb=null}Pk(){let t=this.j.N();if(!t)return void this.hide();let e=this.show.bind(this),i=this.hide.bind(this);this.j.zd(t,e,i)}show(t){var e,i,s,n;this.Ze(),window.cancelAnimationFrame(this.Bd),this.Bd=-1,null==(e=this.xb)||e.call(this),this.xb=null,this.Ad=window.setTimeout(()=>{this.Ad=-1;let e=this.j.q();e&&e.style.removeProperty("display"),(0,o.p)(()=>this.j.F(!0,t))},null!=(n=null==(i=(s=this.j).jh)?void 0:i.call(s))?n:0)}hide(t){this.Ze(),(0,o.p)(()=>this.j.F(!1,t)),this.Bd=requestAnimationFrame(()=>{this.Ze(),this.Bd=-1;let t=this.j.q();if(t){let i=()=>{t.style.display="none",this.xb=null};if("none"!==getComputedStyle(t).animationName){var e;null==(e=this.xb)||e.call(this);let s=(0,o.l)(t,"animationend",i,{once:!0});this.xb=s}else i()}})}Ze(){window.clearTimeout(this.Ad),this.Ad=-1}constructor(t){super(),this.j=t,this.Ad=-1,this.Bd=-1,this.xb=null,(0,o.e)(this.Pk.bind(this))}}let so=(0,o.U)(),su=0;class sd extends o.W{onAttach(t){t.style.setProperty("display","contents")}onSetup(){(0,o.a2)(so,{N:this.N,q:this.q,_e:this._e.bind(this),$e:this.$e.bind(this),af:this.af.bind(this),bf:this.bf.bind(this)})}_e(t){this.N.set(t);let e=t.getAttribute("data-media-tooltip");if(e){var i;null==(i=this.el)||i.setAttribute("data-media-".concat(e,"-tooltip"),"")}(0,o.Y)(t,"data-describedby",this.za)}$e(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.N.set(null)}af(t){t.setAttribute("id",this.za),t.style.display="none",eO(t,"role","tooltip"),this.q.set(t)}bf(t){t.removeAttribute("id"),t.removeAttribute("role"),this.q.set(null)}Qk(t){let e=this.N(),i=this.q();for(let s of(e&&(0,o.Y)(e,"aria-describedby",t?this.za:null),[this.el,e,i]))s&&(0,o.Y)(s,"data-visible",t)}constructor(){super(),this.za="media-tooltip-".concat(++su),this.N=(0,o.s)(null),this.q=(0,o.s)(null),new iB;let{showDelay:t}=this.$props;new sh({N:this.N,q:this.q,jh:t,zd(t,e,i){(0,o.l)(t,"touchstart",t=>t.preventDefault(),{passive:!1}),(0,o.e)(()=>{iU()&&(0,o.l)(t,"focus",e),(0,o.l)(t,"blur",i)}),(0,o.l)(t,"mouseenter",e),(0,o.l)(t,"mouseleave",i)},F:this.Qk.bind(this)})}}sd.props={showDelay:700};class sc extends o.W{onConnect(t){(0,o.v)(eF(()=>{if(!this.connectScope)return;this.yb();let t=(0,o.O)(so);(0,o.v)(()=>{let e=this.Cd();e&&t.$e(e)})}))}yb(){let t=this.Cd(),e=(0,o.O)(so);t&&e._e(t)}Cd(){let t=this.el.firstElementChild;return(null==t?void 0:t.localName)==="button"||(null==t?void 0:t.getAttribute("role"))==="button"?t:this.el}constructor(){super(),new iB}}class sp extends o.W{onAttach(t){this.yb(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.yb(t);let e=(0,o.O)(so);(0,o.v)(()=>e.bf(t)),(0,o.v)(eF(()=>{this.connectScope&&(0,o.e)(this.cf.bind(this))}))}yb(t){(0,o.O)(so).af(t)}cf(){let{placement:t,offset:e,alignOffset:i}=this.$props;return eI(this.el,this.Rk(),t(),{offsetVarName:"media-tooltip",xOffset:i(),yOffset:e()})}Rk(){return(0,o.O)(so).N()}constructor(){super(),new iB;let{placement:t}=this.$props;this.setAttributes({"data-placement":t})}}sp.props={placement:"top center",offset:0,alignOffset:0};class sf extends o.V{onSetup(){let{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.o,"aria-pressed":this.Sk.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){eO(t,"tabindex","0"),eO(t,"role","button"),eO(t,"type","button")}onConnect(t){for(let e of(eD(t,this.Tk.bind(this)),["click","touchstart"]))this.listen(e,this.Uk.bind(this))}Sk(){return(0,o.a5)(this.j.o())}Vk(t){(0,o.a6)(this.j.o)&&this.j.o.set(t=>!t)}Tk(t){var e;if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(null!=(e=this.j.s)?e:this.Vk).call(this,t)}Uk(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}constructor(t){super(),this.j=t,new iB,t.Tb&&new e4(t.Tb)}}sf.props={disabled:!1};var sg=Object.defineProperty,sb=Object.getOwnPropertyDescriptor;class sm extends o.W{get pressed(){return this.kh()}constructor(){super(),this.kh=(0,o.s)(!1),new sf({o:this.kh})}}function sv(t){return()=>t()?"true":"false"}sm.props={disabled:!1,defaultPressed:!1},((t,e,i,s)=>{for(var n,a=s>1?void 0:s?sb(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&sg(e,i,a)})([o.a3],sm.prototype,"pressed",1);class sy extends o.W{onSetup(){this.a=tI();let{canAirPlay:t,isAirPlayConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.Jc.bind(this),"aria-hidden":sv(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),eC(t,this.Kc.bind(this))}s(t){this.a.remote.requestAirPlay(t)}o(){let{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return"airplay"===t()&&"disconnected"!==e()}Jc(){let{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return"airplay"===t()&&e()}Kc(){let{remotePlaybackState:t}=this.a.$state;return"AirPlay ".concat(t())}constructor(){super(),new sf({o:this.o.bind(this),s:this.s.bind(this)})}}sy.props=sf.props;class s$ extends o.W{onSetup(){this.a=tI();let{canGoogleCast:t,isGoogleCastConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.Jc.bind(this),"aria-hidden":sv(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),eC(t,this.Kc.bind(this))}s(t){this.a.remote.requestGoogleCast(t)}o(){let{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return"google-cast"===t()&&"disconnected"!==e()}Jc(){let{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return"google-cast"===t()&&e()}Kc(){let{remotePlaybackState:t}=this.a.$state;return"Google Cast ".concat(t())}constructor(){super(),new sf({o:this.o.bind(this),s:this.s.bind(this)})}}s$.props=sf.props;class sw extends o.W{onSetup(){this.a=tI();let{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),eC(t,"Play")}s(t){let e=this.a.remote;this.o()?e.pause(t):e.play(t)}o(){let{paused:t}=this.a.$state;return!t()}constructor(){super(),new sf({o:this.o.bind(this),Tb:"togglePaused",s:this.s.bind(this)})}}sw.props=sf.props;class sk extends o.W{onSetup(){this.a=tI(),this.setAttributes({"data-active":this.o.bind(this),"data-supported":()=>!this.Ub(),"aria-hidden":sv(this.Ub.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),eC(t,"Captions")}s(t){this.a.remote.toggleCaptions(t)}o(){let{textTrack:t}=this.a.$state,e=t();return!!e&&tP(e)}Ub(){let{hasCaptions:t}=this.a.$state;return!t()}constructor(){super(),new sf({o:this.o.bind(this),Tb:"toggleCaptions",s:this.s.bind(this)})}}sk.props=sf.props;class sx extends o.W{onSetup(){this.a=tI();let{fullscreen:t}=this.a.$state,e=this.Lc.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":sv(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),eC(t,"Fullscreen")}s(t){let e=this.a.remote,i=this.$props.target();this.o()?e.exitFullscreen(i,t):e.enterFullscreen(i,t)}o(){let{fullscreen:t}=this.a.$state;return t()}Lc(){let{canFullscreen:t}=this.a.$state;return t()}constructor(){super(),new sf({o:this.o.bind(this),Tb:"toggleFullscreen",s:this.s.bind(this)})}}sx.props={...sf.props,target:"prefer-media"};class sT extends o.W{onSetup(){this.a=tI(),this.setAttributes({"data-muted":this.o.bind(this),"data-state":this.Jc.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),eC(t,"Mute")}s(t){let e=this.a.remote;this.o()?e.unmute(t):e.mute(t)}o(){let{muted:t,volume:e}=this.a.$state;return t()||0===e()}Jc(){let{muted:t,volume:e}=this.a.$state,i=e();return t()||0===i?"muted":i>=.5?"high":i<.5?"low":void 0}constructor(){super(),new sf({o:this.o.bind(this),Tb:"toggleMuted",s:this.s.bind(this)})}}sT.props=sf.props;class sS extends o.W{onSetup(){this.a=tI();let{pictureInPicture:t}=this.a.$state,e=this.Lc.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":sv(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),eC(t,"PiP")}s(t){let e=this.a.remote;this.o()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}o(){let{pictureInPicture:t}=this.a.$state;return t()}Lc(){let{canPictureInPicture:t}=this.a.$state;return t()}constructor(){super(),new sf({o:this.o.bind(this),Tb:"togglePictureInPicture",s:this.s.bind(this)})}}sS.props=sf.props;class sP extends o.W{onSetup(){this.a=tI();let{seeking:t}=this.a.$state,{seconds:e}=this.$props,i=this.Lc.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":i,"aria-hidden":sv(()=>!i())})}onAttach(t){eO(t,"tabindex","0"),eO(t,"role","button"),eO(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),eC(t,this.Kc.bind(this))}onConnect(t){eD(t,this.s.bind(this))}Lc(){let{canSeek:t}=this.a.$state;return t()}Kc(){let{seconds:t}=this.$props;return"Seek ".concat(t()>0?"forward":"backward"," ").concat(t()," seconds")}s(t){let{seconds:e,disabled:i}=this.$props;if(i())return;let{currentTime:s}=this.a.$state,n=s()+e();this.a.remote.seek(n,t)}constructor(){super(),new iB}}sP.props={disabled:!1,seconds:30};class sE extends o.W{onSetup(){this.a=tI();let{disabled:t}=this.$props,{live:e,liveEdge:i}=this.a.$state,s=()=>!e();this.setAttributes({"data-edge":i,"data-hidden":s,"aria-disabled":sv(()=>t()||i()),"aria-hidden":sv(s)})}onAttach(t){eO(t,"tabindex","0"),eO(t,"role","button"),eO(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){eD(t,this.s.bind(this))}s(t){let{disabled:e}=this.$props,{liveEdge:i}=this.a.$state;e()||i()||this.a.remote.seekToLiveEdge(t)}constructor(){super(),new iB}}sE.props={disabled:!1};let sA=new o.T({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return sO(this.min,this.max,this.value)},get fillPercent(){return 100*this.fillRate},get pointerRate(){return sO(this.min,this.max,this.pointerValue)},get pointerPercent(){return 100*this.pointerRate}});function sO(t,e,i){let s=e-t;return s>0?(i-t)/s:0}class sC extends o.V{onConnect(t){this.Sa=new IntersectionObserver(t=>{var e,i;null==(e=(i=this.Ib).callback)||e.call(i,t,this.Sa)},this.Ib),this.Sa.observe(t),(0,o.v)(this.Wk.bind(this))}Wk(){var t;null==(t=this.Sa)||t.disconnect(),this.Sa=void 0}constructor(t){super(),this.Ib=t}}let sq=(0,o.U)(),sM=(0,o.U)(),sL={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class sD extends o.V{onSetup(){(0,o.a7)(sM)&&(this.Sa=(0,o.O)(sM))}onConnect(){(0,o.e)(this.Xk.bind(this)),(0,o.e)(this.Yk.bind(this)),this.j.lh&&(0,o.e)(this.Zk.bind(this))}Zk(){var t;let{pointer:e}=this.a.$state;if("coarse"!==e()||!this.j.lh()){this.p=null;return}this.p=null==(t=this.a.player.el)?void 0:t.querySelector("media-provider,[data-media-provider]"),this.p&&((0,o.l)(this.p,"touchstart",this._k.bind(this),{passive:!0}),(0,o.l)(this.p,"touchmove",this.$k.bind(this),{passive:!1}))}_k(t){this.db=t.touches[0]}$k(t){if((0,o.R)(this.db)||ej(t))return;let e=t.touches[0],i=e.clientX-this.db.clientX,s=e.clientY-this.db.clientY,n=this.$state.dragging();!n&&Math.abs(s)>5||!n&&(t.preventDefault(),Math.abs(i)>20&&(this.db=e,this.Vb=this.$state.value(),this.df(this.Vb,t)))}Xk(){let{hidden:t}=this.$props;this.listen("focus",this.Fc.bind(this)),this.listen("keydown",this.jc.bind(this)),this.listen("keyup",this.ic.bind(this)),t()||this.j.z()||(this.listen("pointerenter",this.Pe.bind(this)),this.listen("pointermove",this.al.bind(this)),this.listen("pointerleave",this.Qe.bind(this)),this.listen("pointerdown",this.bl.bind(this)))}Yk(){!this.j.z()&&this.$state.dragging()&&((0,o.l)(document,"pointerup",this.cl.bind(this),{capture:!0}),(0,o.l)(document,"pointermove",this.dl.bind(this)),(0,o.l)(document,"touchmove",this.fl.bind(this),{passive:!1}))}Fc(){this.eb(this.$state.value())}ef(t,e){var i,s,n,a;let{value:r,min:l,max:h,dragging:o}=this.$state,u=Math.max(l(),Math.min(t,h()));r.set(u);let d=this.createEvent("value-change",{detail:u,trigger:e});if(this.dispatch(d),null==(i=(s=this.j).l)||i.call(s,d),o()){let t=this.createEvent("drag-value-change",{detail:u,trigger:e});this.dispatch(t),null==(n=(a=this.j).T)||n.call(a,t)}}eb(t,e){let{pointerValue:i,dragging:s}=this.$state;i.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),s()&&this.ef(t,e)}Dd(t){let e,i=this.el.getBoundingClientRect(),{min:s,max:n}=this.$state;if("vertical"===this.$props.orientation()){let{bottom:s,height:n}=i;e=(s-t.clientY)/n}else if(this.db&&(0,o.j)(this.Vb)){let{width:i}=this.p.getBoundingClientRect(),a=(t.clientX-this.db.clientX)/i,r=n()-s(),l=r*Math.abs(a);e=(a<0?this.Vb-l:this.Vb+l)/r}else{let{left:s,width:n}=i;e=(t.clientX-s)/n}return Math.max(s(),Math.min(n(),this.j.Ea(function(t,e,i,s){let n=s*Math.round((e-t)*eS(0,i,1)/s);return t+n}(s(),n(),e,this.j.ra()))))}Pe(t){this.$state.pointing.set(!0)}al(t){let{dragging:e}=this.$state;e()||this.eb(this.Dd(t),t)}Qe(t){this.$state.pointing.set(!1)}bl(t){if(0!==t.button)return;let e=this.Dd(t);this.df(e,t),this.eb(e,t)}df(t,e){var i,s,n,a;let{dragging:r}=this.$state;if(r())return;r.set(!0),this.a.remote.pauseControls(e);let l=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(l),null==(i=(s=this.j).ff)||i.call(s,l),null==(a=this.Sa)||null==(n=a.onDragStart)||n.call(a)}mh(t,e){var i,s,n,a;let{dragging:r}=this.$state;if(!r())return;r.set(!1),this.a.remote.resumeControls(e);let l=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(l),null==(i=(s=this.j).Ed)||i.call(s,l),this.db=null,this.Vb=null,null==(a=this.Sa)||null==(n=a.onDragEnd)||n.call(a)}jc(t){if(!Object.keys(sL).includes(t.key))return;let{key:e}=t,i=this.Ln(t);if(!(0,o.R)(i)){this.eb(i,t),this.ef(i,t);return}let s=this.Mn(t);this.Kn||(this.Kn=e===this.gf,!this.$state.dragging()&&this.Kn&&this.df(s,t)),this.eb(s,t),this.gf=e}ic(t){if(!Object.keys(sL).includes(t.key)||!(0,o.R)(this.Ln(t)))return;let e=this.Kn?this.$state.pointerValue():this.Mn(t);this.ef(e,t),this.mh(e,t),this.gf="",this.Kn=!1}Ln(t){let e=t.key,{min:i,max:s}=this.$state;return"Home"===e||"PageUp"===e?i():"End"===e||"PageDown"===e?s():!t.metaKey&&/^[0-9]$/.test(e)?(s()-i())/10*Number(e):null}Mn(t){var e,i,s;let{key:n,shiftKey:a}=t;t.preventDefault(),t.stopPropagation();let{shiftKeyMultiplier:r}=this.$props,{min:l,max:h,value:o,pointerValue:u}=this.$state,d=this.j.ra(),c=this.j.fb(),p=a?c*r():c,f=Number(sL[n]),g=this.Kn?u():null!=(s=null==(e=(i=this.j).Z)?void 0:e.call(i))?s:o();return Math.max(l(),Math.min(h(),Number(((g+p*f)/d*d).toFixed(3))))}cl(t){if(0!==t.button)return;t.preventDefault(),t.stopImmediatePropagation();let e=this.Dd(t);this.eb(e,t),this.mh(e,t)}fl(t){t.preventDefault()}constructor(t,e){super(),this.j=t,this.a=e,this.p=null,this.db=null,this.Vb=null,this.Kn=!1,this.dl=eN(t=>{this.eb(this.Dd(t),t)},20,{leading:!0})}}let sj=(0,o.U)(()=>({}));class sF extends o.V{onSetup(){this.a=tI();let t=new iB;t.attach(this),this.$state.focused=t.focused.bind(t),(0,o.a7)(sj)||(0,o.a2)(sj,{default:"value"}),(0,o.a2)(sq,{cb:this.$props.orientation,Fd:this.j.z,oh:(0,o.s)(null)}),(0,o.e)(this.O.bind(this)),(0,o.e)(this.gl.bind(this)),(0,o.e)(this.Oc.bind(this)),this.il(),new sD(this.j,this.a).attach(this),new sC({callback:this.hf.bind(this)}).attach(this)}onAttach(t){eO(t,"role","slider"),eO(t,"tabindex","0"),eO(t,"autocomplete","off"),L?this.ph():(0,o.e)(this.ph.bind(this))}onConnect(t){(0,o.v)(eM(t,this.Mc.set)),(0,o.e)(this.Fa.bind(this))}hf(t){this.Nc.set(t[0].isIntersecting)}Fa(){let{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Mc()||!this.Nc.bind(this))}O(){let{dragging:t,value:e,min:i,max:s}=this.$state;if(!(0,o.p)(t)){var n,a;e.set((n=i(),a=s(),eS(n,ex(e(),eT(this.j.ra())),a)))}}gl(){this.$state.step.set(this.j.ra())}Oc(){if(!this.j.z())return;let{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}jl(){return(0,o.a5)(this.j.z())}il(){var t,e;let{orientation:i}=this.$props,{dragging:s,active:n,pointing:a}=this.$state;this.setAttributes({"data-dragging":s,"data-pointing":a,"data-active":n,"aria-disabled":this.jl.bind(this),"aria-valuemin":null!=(t=this.j.Um)?t:this.$state.min,"aria-valuemax":null!=(e=this.j.jf)?e:this.$state.max,"aria-valuenow":this.j.P,"aria-valuetext":this.j.Q,"aria-orientation":i})}ph(){let{fillPercent:t,pointerPercent:e}=this.$state;this.kl(ex(t(),3),ex(e(),3))}constructor(t){super(),this.j=t,this.Mc=(0,o.s)(!0),this.Nc=(0,o.s)(!0),this.kl=(0,o.b)((t,e)=>{var i,s;null==(i=this.el)||i.style.setProperty("--slider-fill",t+"%"),null==(s=this.el)||s.style.setProperty("--slider-pointer",e+"%")})}}sF.props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};class sI extends o.W{onSetup(){(0,o.e)(this.O.bind(this)),(0,o.e)(this.Pc.bind(this))}P(){let{value:t}=this.$state;return Math.round(t())}Q(){let{value:t,max:e}=this.$state;return ex(t()/e()*100,2)+"%"}O(){let{value:t}=this.$props;this.$state.value.set(t())}Pc(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}constructor(){super(),new sF({ra:this.$props.step,fb:this.$props.keyStep,Ea:Math.round,z:this.$props.disabled,P:this.P.bind(this),Q:this.Q.bind(this)})}}sI.props={...sF.props,min:0,max:100,value:0},sI.state=sA;let sR=new Map,sV=new Map;class sW{static create(t,e){return new sW(t,e,tI())}ll(){let{canLoad:e}=this.a.$state;if(!e())return;let i=this.$src(),s=new AbortController;if(i){if((0,o.i)(i)&&sR.has(i)){let t=sR.get(i);if(sR.delete(i),sR.set(i,t),sR.size>30){let t=sR.keys().next().value;sR.delete(t)}this.$images.set(sR.get(i))}else if((0,o.i)(i)){var n;let e=this.$crossOrigin(),a=i+"::"+e;if(!sV.has(a)){let n=new Promise(async(n,a)=>{try{let r=await fetch(i,{signal:s.signal,credentials:td(e)});if("application/json"===r.headers.get("content-type")){let t=await r.json();if((0,o.g)(t))if(t[0]&&"text"in t[0])n(this.qh(t));else{for(let e=0;e<t.length;e++){let i=t[e];ik((0,o.h)(i),!1),ik("url"in i&&(0,o.i)(i.url),!1),ik("startTime"in i&&(0,o.j)(i.startTime),!1)}n(t)}else n(this.rh(t));return}t.r(382537)(t.i).then(async t=>{let{parseResponse:e}=t;try{let{cues:t}=await e(r);n(this.qh(t))}catch(t){a(t)}})}catch(t){a(t)}}).then(t=>(s.signal.aborted||sR.set(a,t),t)).catch(t=>{s.signal.aborted||this.R(i,t)}).finally(()=>{(0,o.i)(a)&&sV.delete(a)});sV.set(a,n)}null==(n=sV.get(a))||n.then(t=>{s.signal.aborted||this.$images.set(t||[])})}else if((0,o.g)(i))try{this.$images.set(this.ml(i))}catch(t){this.R(i,t)}else try{this.$images.set(this.rh(i))}catch(t){this.R(i,t)}return()=>{s.abort(),this.$images.set([])}}}ml(t){let e=this.sh();return t.map((t,i)=>(ik(t.url&&(0,o.i)(t.url),!1),ik("startTime"in t&&(0,o.j)(t.startTime),!1),{...t,url:(0,o.i)(t.url)?this.th(t.url,e):t.url}))}rh(t){var e;ik((0,o.i)(t.url),!1),ik((0,o.g)(t.tiles)&&(null==(e=t.tiles)?void 0:e.length),!1);let i=new URL(t.url),s=[],n="tile_width"in t?t.tile_width:t.tileWidth,a="tile_height"in t?t.tile_height:t.tileHeight;for(let e of t.tiles)s.push({url:i,startTime:"start"in e?e.start:e.startTime,width:n,height:a,coords:{x:e.x,y:e.y}});return s}qh(t){for(let e=0;e<t.length;e++){let i=t[e];ik("startTime"in i&&(0,o.j)(i.startTime),!1),ik("text"in i&&(0,o.i)(i.text),!1)}let e=[],i=this.sh();for(let s of t){let[t,n]=s.text.split("#"),a=this.nl(n);e.push({url:this.th(t,i),startTime:s.startTime,endTime:s.endTime,width:null==a?void 0:a.w,height:null==a?void 0:a.h,coords:a&&(0,o.j)(a.x)&&(0,o.j)(a.y)?{x:a.x,y:a.y}:void 0})}return e}sh(){let t=(0,o.p)(this.$src);return(0,o.i)(t)&&/^https?:/.test(t)?t:location.href}th(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}nl(t){if(!t)return{};let[e,i]=t.split("="),s=null==i?void 0:i.split(","),n={};if(!e||!s)return null;for(let t=0;t<e.length;t++){let i=+s[t];isNaN(i)||(n[e[t]]=i)}return n}R(t,e){}constructor(t,e,i){this.$src=t,this.$crossOrigin=e,this.a=i,this.$images=(0,o.s)([]),(0,o.e)(this.ll.bind(this))}}class sN extends o.W{onSetup(){this.a=tI(),this.Y=sW.create(this.$props.src,this.$state.crossOrigin),this.Da(),this.setAttributes({"data-loading":this.Qc.bind(this),"data-error":this.gb.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":sv(this.$state.hidden)})}onConnect(t){(0,o.e)(this.lf.bind(this)),(0,o.e)(this.Fa.bind(this)),(0,o.e)(this.Da.bind(this)),(0,o.e)(this.Na.bind(this)),(0,o.e)(this.ol.bind(this)),(0,o.e)(this.uh.bind(this))}lf(){let t=this.$state.img();t&&((0,o.l)(t,"load",this.ub.bind(this)),(0,o.l)(t,"error",this.R.bind(this)))}Da(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=this.a.$state,s=null!==t()?t():i();e.set(!0===s?"anonymous":s)}Na(){let{src:t,loading:e,error:i}=this.$state;return t()&&(e.set(!0),i.set(null)),()=>{this.pl(),e.set(!1),i.set(null)}}ub(){let{loading:t,error:e}=this.$state;this.uh(),t.set(!1),e.set(null)}R(t){let{loading:e,error:i}=this.$state;e.set(!1),i.set(t)}Qc(){let{loading:t,hidden:e}=this.$state;return!e()&&t()}gb(){let{error:t}=this.$state;return!(0,o.R)(t())}Fa(){let{hidden:t}=this.$state,{duration:e}=this.a.$state,i=this.Y.$images();t.set(this.gb()||!Number.isFinite(e())||0===i.length)}vh(){return this.$props.time()}ol(){let t=this.Y.$images();if(!t.length)return;let e=this.vh(),{src:i,activeThumbnail:s}=this.$state,n=-1,a=null;for(let i=t.length-1;i>=0;i--){let s=t[i];if(e>=s.startTime&&(!s.endTime||e<s.endTime)){n=i;break}}t[n]&&(a=t[n]),s.set(a),i.set((null==a?void 0:a.url.href)||"")}uh(){var t,e;if(!this.scope||this.$state.hidden())return;let i=this.el,s=this.$state.img(),n=this.$state.activeThumbnail();if(!s||!n||!i)return;let a=null!=(t=n.width)?t:s.naturalWidth,r=null!=(e=null==n?void 0:n.height)?e:s.naturalHeight,{maxWidth:l,maxHeight:h,minWidth:o,minHeight:u,width:d,height:c}=getComputedStyle(this.el);"100%"===o&&(o=parseFloat(d)+""),"100%"===u&&(u=parseFloat(c)+"");let p=Math.max(parseInt(o)/a,parseInt(u)/r),f=Math.min(Math.max(parseInt(o),parseInt(l))/a,Math.max(parseInt(u),parseInt(h))/r),g=!isNaN(f)&&f<1?f:p>1?p:1;this.Wb(i,"--thumbnail-width","".concat(a*g,"px")),this.Wb(i,"--thumbnail-height","".concat(r*g,"px")),this.Wb(s,"width","".concat(s.naturalWidth*g,"px")),this.Wb(s,"height","".concat(s.naturalHeight*g,"px")),this.Wb(s,"transform",n.coords?"translate(-".concat(n.coords.x*g,"px, -").concat(n.coords.y*g,"px)"):""),this.Wb(s,"max-width","none")}Wb(t,e,i){t.style.setProperty(e,i),this.kf.push(()=>t.style.removeProperty(e))}pl(){for(let t of this.kf)t();this.kf=[]}constructor(){super(...arguments),this.kf=[]}}sN.props={src:null,time:0,crossOrigin:null},sN.state=new o.T({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});class sH extends sN{onAttach(t){this.ja=(0,o.a8)(sI.state)}vh(){let{duration:t,clipStartTime:e}=this.a.$state;return e()+this.ja.pointerRate()*t()}}var sz=Object.defineProperty,sG=Object.getOwnPropertyDescriptor;class sK extends o.W{get video(){return this.$state.video()}onSetup(){this.a=tI(),this.ja=(0,o.a8)(sI.state),this.Da(),this.setAttributes({"data-loading":this.Qc.bind(this),"data-hidden":this.$state.hidden,"data-error":this.gb.bind(this),"aria-hidden":sv(this.$state.hidden)})}onAttach(t){(0,o.e)(this.ql.bind(this)),(0,o.e)(this.Nb.bind(this)),(0,o.e)(this.Da.bind(this)),(0,o.e)(this.Fa.bind(this)),(0,o.e)(this.rl.bind(this)),(0,o.e)(this.sl.bind(this))}ql(){let t=this.$state.video();t&&(t.readyState>=2&&this.fd(),(0,o.l)(t,"canplay",this.fd.bind(this)),(0,o.l)(t,"error",this.R.bind(this)))}Nb(){let{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Da(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=this.a.$state,s=null!==t()?t():i();e.set(!0===s?"anonymous":s)}Qc(){let{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}gb(){let{error:t}=this.$state;return!(0,o.R)(t)}Fa(){let{src:t,hidden:e}=this.$state,{canLoad:i,duration:s}=this.a.$state;e.set(i()&&(!t()||this.gb()||!Number.isFinite(s())))}rl(){let{src:t,canPlay:e,error:i}=this.$state;t(),e.set(!1),i.set(null)}fd(t){let{canPlay:e,error:i}=this.$state;e.set(!0),i.set(null),this.dispatch("can-play",{trigger:t})}R(t){let{canPlay:e,error:i}=this.$state;e.set(!1),i.set(t),this.dispatch("error",{trigger:t})}sl(){let{video:t,canPlay:e}=this.$state,{duration:i}=this.a.$state,{pointerRate:s}=this.ja,n=t();e()&&n&&Number.isFinite(i())&&Number.isFinite(s())&&(n.currentTime=s()*i())}}sK.props={src:null,crossOrigin:null},sK.state=new o.T({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1}),((t,e,i,s)=>{for(var n,a=s>1?void 0:s?sG(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&sz(e,i,a)})([o.a3],sK.prototype,"video",1);var sY=Object.defineProperty,sU=Object.getOwnPropertyDescriptor;class sB extends o.W{onSetup(){this.ja=(0,o.a8)(sI.state),this.Rc=(0,o.O)(sj),this.tl=(0,o.L)(this.getValueText.bind(this))}getValueText(){var t,e,i,s,n,a;let{type:r,format:l,decimalPlaces:h,padHours:o,padMinutes:u,showHours:d,showMs:c}=this.$props,{value:p,pointerValue:f,min:g,max:b}=this.ja,m=null!=(t=l())?t:this.Rc.default,v="current"===r()?p():f();if("percent"===m){let t=v/(b()-g())*100;return(null!=(e=this.Rc.percent)?e:ex)(t,h())+"%"}return"time"===m?(null!=(i=this.Rc.time)?i:ss)(v,{padHrs:o(),padMins:u(),showHrs:d(),showMs:c()}):(null!=(a=null==(s=(n=this.Rc).value)?void 0:s.call(n,v))?a:v.toFixed(2))+""}}sB.props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2},((t,e,i,s)=>{for(var n,a=s>1?void 0:s?sU(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&sY(e,i,a)})([o.a4],sB.prototype,"getValueText",1);class s_ extends o.W{onSetup(){this.ja=(0,o.O)(sq);let{active:t}=(0,o.a8)(sI.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){let{oh:e}=this.ja;e.set(t),(0,o.v)(()=>e.set(null)),(0,o.e)(this.wh.bind(this));let i=new ResizeObserver(this.wh.bind(this));i.observe(t),(0,o.v)(()=>i.disconnect())}constructor(){super(...arguments),this.wh=(0,o.b)(()=>{let{Fd:t,cb:e}=this.ja;if(t())return;let i=this.el,{offset:s,noClamp:n}=this.$props;i&&sQ(i,{clamp:!n(),offset:s(),orientation:e()})})}}function sQ(t,e){let{clamp:i,offset:s,orientation:n}=e,a=getComputedStyle(t),r=parseFloat(a.width),l=parseFloat(a.height),h={top:null,right:null,bottom:null,left:null};if(h["horizontal"===n?"bottom":"left"]="calc(100% + var(--media-slider-preview-offset, ".concat(s,"px))"),"horizontal"===n){let t=r/2;if(i){let e="max(0px, calc(var(--slider-pointer) - ".concat(t,"px))");h.left="min(".concat(e,", ").concat("calc(100% - ".concat(r,"px)"),")")}else h.left="calc(var(--slider-pointer) - ".concat(t,"px)")}else{let t=l/2;if(i){let e="max(".concat(t,"px, calc(var(--slider-pointer) - ").concat(t,"px))");h.bottom="min(".concat(e,", ").concat("calc(100% - ".concat(l,"px)"),")")}else h.bottom="calc(var(--slider-pointer) - ".concat(t,"px)")}Object.assign(t.style,h)}s_.props={offset:0,noClamp:!1};class sZ extends o.W{onSetup(){this.a=tI();let{audioGain:t}=this.a.$state;(0,o.a2)(sj,{default:"percent",value(e){var i;return(e*(null!=(i=t())?i:1)).toFixed(2)},percent(e){var i;return Math.round(e*(null!=(i=t())?i:1))}}),new sF({ra:this.$props.step,fb:this.$props.keyStep,Ea:Math.round,z:this.z.bind(this),jf:this.jf.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),T:this.T.bind(this),l:this.l.bind(this)}).attach(this),(0,o.e)(this.Gc.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),eO(t,"aria-label","Volume");let{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":sv(()=>!e())})}P(){var t;let{value:e}=this.$state,{audioGain:i}=this.a.$state;return Math.round(e()*(null!=(t=i())?t:1))}Q(){var t;let{value:e,max:i}=this.$state,{audioGain:s}=this.a.$state;return ex(e()/i()*(null!=(t=s())?t:1)*100,2)+"%"}jf(){var t;let{audioGain:e}=this.a.$state;return this.$state.max()*(null!=(t=e())?t:1)}z(){let{disabled:t}=this.$props,{canSetVolume:e}=this.a.$state;return t()||!e()}Gc(){let{muted:t,volume:e}=this.a.$state,i=t()?0:100*e();this.$state.value.set(i),this.dispatch("value-change",{detail:i})}Oa(t){if(!t.trigger)return;let e=ex(t.detail/100,3);this.a.remote.changeVolume(e,t)}l(t){this.xh(t)}T(t){this.xh(t)}constructor(){super(...arguments),this.xh=eN(this.Oa.bind(this),25)}}sZ.props={...sF.props,keyStep:5,shiftKeyMultiplier:2},sZ.state=sA;class sX extends o.W{onSetup(){this.a=tI(),(0,o.a2)(sj,{default:"percent",percent:(t,e)=>ex(this.$state.value(),e)+"%"}),new sF({ra:this.$props.step,fb:this.$props.keyStep,Ea:Math.round,z:this.z.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),T:this.T.bind(this),l:this.l.bind(this)}).attach(this),(0,o.e)(this.Pc.bind(this)),(0,o.e)(this.ul.bind(this))}onAttach(t){t.setAttribute("data-media-audio-gain-slider",""),eO(t,"aria-label","Audio Boost");let{canSetAudioGain:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":sv(()=>!e())})}P(){let{value:t}=this.$state;return Math.round(t())}Q(){let{value:t}=this.$state;return t()+"%"}Pc(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}ul(){var t;let{audioGain:e}=this.a.$state,i=((null!=(t=e())?t:1)-1)*100;this.$state.value.set(i),this.dispatch("value-change",{detail:i})}z(){let{disabled:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return t()||!e()}yh(t){if(!t.trigger)return;let e=ex(1+t.detail/100,2);this.a.remote.changeAudioGain(e,t)}l(t){this.yh(t)}T(t){this.yh(t)}}sX.props={...sF.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300},sX.state=sA;class sJ extends o.W{onSetup(){this.a=tI(),new sF({ra:this.$props.step,fb:this.$props.keyStep,Ea:this.Ea,z:this.z.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),T:this.T.bind(this),l:this.l.bind(this)}).attach(this),(0,o.e)(this.Pc.bind(this)),(0,o.e)(this.Re.bind(this))}onAttach(t){t.setAttribute("data-media-speed-slider",""),eO(t,"aria-label","Speed");let{canSetPlaybackRate:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":sv(()=>!e())})}P(){let{value:t}=this.$state;return t()}Q(){let{value:t}=this.$state;return t()+"x"}Pc(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}Re(){let{playbackRate:t}=this.a.$state,e=t();this.$state.value.set(e),this.dispatch("value-change",{detail:e})}Ea(t){return ex(t,2)}z(){let{disabled:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return t()||!e()}vl(t){if(!t.trigger)return;let e=t.detail;this.a.remote.changePlaybackRate(e,t)}l(t){this.zh(t)}T(t){this.zh(t)}constructor(){super(...arguments),this.zh=eN(this.vl.bind(this),25)}}sJ.props={...sF.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2},sJ.state=sA;class s0 extends o.W{onSetup(){this.a=tI(),new sF({ra:this.$props.step,fb:this.$props.keyStep,Ea:Math.round,z:this.z.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),T:this.T.bind(this),l:this.l.bind(this)}).attach(this),(0,o.e)(this.wl.bind(this)),(0,o.e)(this.xl.bind(this))}onAttach(t){t.setAttribute("data-media-quality-slider",""),eO(t,"aria-label","Video Quality");let{qualities:e,canSetQuality:i}=this.a.$state,s=(0,o.L)(()=>i()&&e().length>0);this.setAttributes({"data-supported":s,"aria-hidden":sv(()=>!s())})}P(){let{value:t}=this.$state;return t()}Q(){let{quality:t}=this.a.$state;if(!t())return"";let{height:e,bitrate:i}=t(),s=i&&i>0?"".concat((i/1e6).toFixed(2)," Mbps"):null;return e?"".concat(e,"p").concat(s?" (".concat(s,")"):""):"Auto"}wl(){let t=this.Sc();this.$state.max.set(Math.max(0,t.length-1))}xl(){let{quality:t}=this.a.$state,e=Math.max(0,this.Sc().indexOf(t()));this.$state.value.set(e),this.dispatch("value-change",{detail:e})}z(){let{disabled:t}=this.$props,{canSetQuality:e,qualities:i}=this.a.$state;return t()||i().length<=1||!e()}_a(t){if(!t.trigger)return;let{qualities:e}=this.a,i=(0,o.p)(this.Sc)[t.detail];this.a.remote.changeQuality(e.indexOf(i),t)}l(t){this.Ah(t)}T(t){this.Ah(t)}constructor(){super(...arguments),this.Sc=(0,o.L)(()=>{let{qualities:t}=this.a.$state;return eX(t())}),this.Ah=eN(this._a.bind(this),25)}}s0.props={...sF.props,step:1,keyStep:1,shiftKeyMultiplier:1},s0.state=sA;class s1 extends o.W{onSetup(){this.a=tI(),(0,o.a2)(sj,{default:"time",value:this.yl.bind(this),time:this.zl.bind(this)}),this.setAttributes({"data-chapters":this.Al.bind(this)}),this.setStyles({"--slider-progress":this.Bl.bind(this)}),(0,o.e)(this.Rb.bind(this)),(0,o.e)(this.Cl.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),eO(t,"aria-label","Seek")}onConnect(t){(0,o.e)(this.Dl.bind(this)),tx(this.a.textTracks,"chapters",this.Bh.set)}Bl(){let{bufferedEnd:t,duration:e}=this.a.$state;return ex(100*Math.min(t()/Math.max(e(),1),1),3)+"%"}Al(){var t;let{duration:e}=this.a.$state;return(null==(t=this.Bh())?void 0:t.cues.length)&&Number.isFinite(e())&&e()>0}Cl(){this.mf=eN(this.Ka.bind(this),this.$props.seekingRequestThrottle())}Rb(){if(this.$state.hidden())return;let{value:t,dragging:e}=this.$state,i=this.Z();(0,o.p)(e)||(t.set(i),this.dispatch("value-change",{detail:i}))}Dl(){let t=this.a.player.el,{oh:e}=(0,o.O)(sq);t&&e()&&(0,o.Y)(t,"data-preview",this.$state.active())}Ka(t,e){this.a.remote.seeking(t,e)}El(t,e,i){this.mf.cancel();let{live:s}=this.a.$state;if(s()&&e>=99)return void this.a.remote.seekToLiveEdge(i);this.a.remote.seek(t,i)}ff(t){let{pauseWhileDragging:e}=this.$props;if(e()){let{paused:e}=this.a.$state;this.nf=!e(),this.a.remote.pause(t)}}T(t){this.mf(this.Xb(t.detail),t)}Ed(t){let{seeking:e}=this.a.$state;(0,o.p)(e)||this.Ka(this.Xb(t.detail),t);let i=t.detail;this.El(this.Xb(i),i,t);let{pauseWhileDragging:s}=this.$props;s()&&this.nf&&(this.a.remote.play(t),this.nf=!1)}l(t){let{dragging:e}=this.$state;!e()&&t.trigger&&this.Ed(t)}Z(){let{currentTime:t}=this.a.$state;return this.Fl(t())}ra(){let t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}fb(){let t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Ea(t){return ex(t,3)}z(){let{disabled:t}=this.$props,{canSeek:e}=this.a.$state;return t()||!e()}P(){let{value:t}=this.$state;return Math.round(t())}Q(){let t=this.Xb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?"".concat(sn(t)," out of ").concat(sn(e())):"live"}Xb(t){let{duration:e}=this.a.$state;return ex(t/100*e(),5)}Fl(t){let{liveEdge:e,duration:i}=this.a.$state,s=Math.max(0,Math.min(1,e()?1:Math.min(t,i())/i()));return Number.isNaN(s)?0:Number.isFinite(s)?100*s:100}yl(t){let e=this.Xb(t),{live:i,duration:s}=this.a.$state;return Number.isFinite(e)?(i()?e-s():e).toFixed(0):"LIVE"}zl(t,e){let i=this.Xb(t),{live:s,duration:n}=this.a.$state,a=s()?i-n():i;return Number.isFinite(i)?"".concat(a<0?"-":"").concat(ss(Math.abs(a),e)):"LIVE"}constructor(){super(),this.Bh=(0,o.s)(null),this.nf=!1;let{noSwipeGesture:t}=this.$props;new sF({lh:()=>!t(),Z:this.Z.bind(this),ra:this.ra.bind(this),fb:this.fb.bind(this),Ea:this.Ea,z:this.z.bind(this),P:this.P.bind(this),Q:this.Q.bind(this),ff:this.ff.bind(this),T:this.T.bind(this),Ed:this.Ed.bind(this),l:this.l.bind(this)})}}s1.props={...sF.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100},s1.state=sA;var s2=Object.defineProperty,s3=Object.getOwnPropertyDescriptor,s5=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?s3(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&s2(e,i,a),a};class s4 extends o.W{get cues(){return this.la()}get activeCue(){return this.la()[this.Yb()]||null}get activePointerCue(){return this.la()[this.Id()]||null}onSetup(){this.a=tI(),this.Gd=(0,o.a8)(s1.state)}onAttach(t){tx(this.a.textTracks,"chapters",this.Ch.bind(this)),(0,o.e)(this.Gl.bind(this))}onConnect(){(0,o.v)(()=>this.A.bind(this))}onDestroy(){this.Ch(null)}setRefs(t){var e;if(this.ka=t,null==(e=this.of)||e.dispose(),1===this.ka.length){let t=this.ka[0];t.style.width="100%",t.style.setProperty("--chapter-fill","var(--slider-fill)"),t.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.ka.length>0&&(0,o.a)(()=>this.Hl(),this.of=(0,o.d)())}Ch(t){(0,o.p)(this.Hd)!==t&&(this.A(),this.Hd.set(t))}A(){var t;this.ka=[],this.la.set([]),this.Yb.set(-1),this.Id.set(-1),this.Tc=0,null==(t=this.of)||t.dispose()}Hl(){this.ka.length&&(0,o.e)(this.Il.bind(this))}Il(){let{hidden:t}=this.Gd;t()||((0,o.e)(this.Jl.bind(this)),(0,o.e)(this.Kl.bind(this)),(0,o.e)(this.Ll.bind(this)),(0,o.e)(this.Ml.bind(this)))}Jl(){let t=this.la();if(!t.length)return;let e,{clipStartTime:i,clipEndTime:s}=this.a.$state,n=i(),a=(s()||t[t.length-1].endTime)-n,r=100;for(let i=0;i<t.length;i++)if(e=t[i],this.ka[i]){let s=i===t.length-1?r:ex((e.endTime-Math.max(n,e.startTime))/a*100,3);this.ka[i].style.width=s+"%",r-=s}}Kl(){let{liveEdge:t,clipStartTime:e,duration:i}=this.a.$state,{fillPercent:s,value:n}=this.Gd,a=this.la(),r=t(),l=(0,o.p)(this.Yb),h=a[l],u=r?this.la.length-1:this.Dh(h&&h.startTime/i()*100<=(0,o.p)(n)?l:0,s());r||!h?this.pf(0,a.length,100):u>l?this.pf(l,u,100):u<l&&this.pf(u+1,l+1,0);let d=r?100:this.qf(a[u],s(),e(),this.rf(a));this.Eh(this.ka[u],d),this.Yb.set(u)}Ll(){let{pointing:t,pointerPercent:e}=this.Gd;if(!t())return void this.Id.set(-1);let i=this.Dh(0,e());this.Id.set(i)}pf(t,e,i){for(let s=t;s<e;s++)this.Eh(this.ka[s],i)}Eh(t,e){t&&(t.style.setProperty("--chapter-fill",e+"%"),(0,o.Y)(t,"data-active",e>0&&e<100),(0,o.Y)(t,"data-ended",100===e))}Dh(t,e){let i=0,s=this.la();if(0===e)return 0;if(100===e)return s.length-1;let{clipStartTime:n}=this.a.$state,a=n(),r=this.rf(s);for(let n=t;n<s.length;n++)if((i=this.qf(s[n],e,a,r))>=0&&i<100)return n;return 0}Ml(){this.Nl(this.Ol())}Pl(){let{bufferedEnd:t,duration:e}=this.a.$state;return 100*ex(Math.min(t()/Math.max(e(),1),1),3)}rf(t){var e;let{clipEndTime:i}=this.a.$state,s=i();return s>0?s:(null==(e=t[t.length-1])?void 0:e.endTime)||0}qf(t,e,i,s){if(0===this.la().length)return 0;let n=s-i,a=Math.max(0,t.startTime-i),r=Math.min(s,t.endTime)-i,l=a/n,h=100*l,o=100*Math.min(1,l+(r-a)/n);return Math.max(0,ex(e>=o?100:(e-h)/(o-h)*100,3))}Ql(t){let e=[],{clipStartTime:i,clipEndTime:s,duration:n}=this.a.$state,a=i(),r=s()||1/0,l=(t=t.filter(t=>t.startTime<=r&&t.endTime>=a))[0];l&&l.startTime>a&&e.push(new window.VTTCue(a,l.startTime,""));for(let i=0;i<t.length-1;i++){let s=t[i],n=t[i+1];if(e.push(s),n){let t=n.startTime-s.endTime;t>0&&e.push(new window.VTTCue(s.endTime,s.endTime+t,""))}}let h=t[t.length-1];if(h){e.push(h);let t=n();t>=0&&t-h.endTime>1&&e.push(new window.VTTCue(h.endTime,n(),""))}return e}Gl(){let{source:t}=this.a.$state;t(),this.qc()}qc(){if(!this.scope)return;let{disabled:t}=this.$props;if(t()){this.la.set([]),this.Yb.set(0),this.Tc=0;return}let e=this.Hd();if(e){let t=this.Jd.bind(this);t(),(0,o.v)((0,o.l)(e,"add-cue",t)),(0,o.v)((0,o.l)(e,"remove-cue",t)),(0,o.e)(this.Rl.bind(this))}return this.zb=this.Sl(),this.zb&&(0,o.e)(this.Tl.bind(this)),()=>{this.zb&&(this.zb.textContent="",this.zb=null)}}Rl(){this.a.$state.duration(),this.Jd()}Tl(){let t=this.activePointerCue||this.activeCue;this.zb&&(this.zb.textContent=(null==t?void 0:t.text)||"")}Ul(){let t=this.el;for(;t&&"slider"!==t.getAttribute("role");)t=t.parentElement;return t}Sl(){let t=this.Ul();return t?t.querySelector('[data-part="chapter-title"]'):null}constructor(){super(...arguments),this.zb=null,this.ka=[],this.Hd=(0,o.s)(null),this.la=(0,o.s)([]),this.Yb=(0,o.s)(-1),this.Id=(0,o.s)(-1),this.Tc=0,this.Nl=(0,o.b)(t=>{let e,i=this.la(),{clipStartTime:s}=this.a.$state,n=s(),a=this.rf(i);for(let s=this.Tc;s<this.ka.length;s++){var r;if(e=this.qf(i[s],t,n,a),null==(r=this.ka[s])||r.style.setProperty("--chapter-progress",e+"%"),e<100){this.Tc=s;break}}}),this.Ol=(0,o.L)(this.Pl.bind(this)),this.Jd=eK(()=>{let t=(0,o.p)(this.Hd);this.scope&&t&&t.cues.length&&(this.la.set(this.Ql(t.cues)),this.Yb.set(0),this.Tc=0)},150,!0)}}s4.props={disabled:!1},s5([o.a3],s4.prototype,"cues",1),s5([o.a3],s4.prototype,"activeCue",1),s5([o.a3],s4.prototype,"activePointerCue",1),s5([o.a4],s4.prototype,"setRefs",1);let s7=(0,o.U)(),s8=t=>"object"==typeof t&&null!=t&&1===t.nodeType,s6=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,s9=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){let i=getComputedStyle(t,null);return s6(i.overflowY,e)||s6(i.overflowX,e)||(t=>{let e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},nt=(t,e,i,s,n,a,r,l)=>a<t&&r>e||a>t&&r<e?0:a<=t&&l<=i||r>=e&&l>=i?a-t-s:r>e&&l<i||a<t&&l>i?r-e+n:0,ne=t=>{let e=t.parentElement;return null==e?t.getRootNode().host||null:e},ni=["a[href]","[tabindex]","input","select","button"].map(t=>"".concat(t,":not([aria-hidden='true'])")).join(","),ns=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class nn{get B(){return this.sa}Vl(t){(0,o.l)(t,"focus",this.Fc.bind(this)),this.Ta=t,(0,o.v)(()=>{this.Ta=null})}zd(){this.Ta&&(this.Ia(),(0,o.l)(this.Ta,"keyup",this.ic.bind(this)),(0,o.l)(this.Ta,"keydown",this.jc.bind(this)),(0,o.v)(()=>{this.Uc=-1,this.sa=[]}))}Ia(){this.Uc=0,this.sa=this.Wl()}Fh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Gh(),e=this.sa[t];e&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i={scrollMode:"if-needed",block:"center",inline:"center",...e};for(let{el:e,top:s,left:n}of((t,e)=>{var i,s,n,a;if("undefined"==typeof document)return[];let{scrollMode:r,block:l,inline:h,boundary:o,skipOverflowHiddenElements:u}=e,d="function"==typeof o?o:t=>t!==o;if(!s8(t))throw TypeError("Invalid target");let c=document.scrollingElement||document.documentElement,p=[],f=t;for(;s8(f)&&d(f);){if((f=ne(f))===c){p.push(f);break}null!=f&&f===document.body&&s9(f)&&!s9(document.documentElement)||null!=f&&s9(f,u)&&p.push(f)}let g=null!=(s=null==(i=window.visualViewport)?void 0:i.width)?s:innerWidth,b=null!=(a=null==(n=window.visualViewport)?void 0:n.height)?a:innerHeight,{scrollX:m,scrollY:v}=window,{height:y,width:$,top:w,right:k,bottom:x,left:T}=t.getBoundingClientRect(),{top:S,right:P,bottom:E,left:A}=(t=>{let e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t),O="start"===l||"nearest"===l?w-S:"end"===l?x+E:w+y/2-S+E,C="center"===h?T+$/2-A+P:"end"===h?k+P:T-A,q=[];for(let t=0;t<p.length;t++){let e=p[t],{height:i,width:s,top:n,right:a,bottom:o,left:u}=e.getBoundingClientRect();if("if-needed"===r&&w>=0&&T>=0&&x<=b&&k<=g&&w>=n&&x<=o&&T>=u&&k<=a)break;let d=getComputedStyle(e),f=parseInt(d.borderLeftWidth,10),S=parseInt(d.borderTopWidth,10),P=parseInt(d.borderRightWidth,10),E=parseInt(d.borderBottomWidth,10),A=0,M=0,L="offsetWidth"in e?e.offsetWidth-e.clientWidth-f-P:0,D="offsetHeight"in e?e.offsetHeight-e.clientHeight-S-E:0,j="offsetWidth"in e?0===e.offsetWidth?0:s/e.offsetWidth:0,F="offsetHeight"in e?0===e.offsetHeight?0:i/e.offsetHeight:0;if(c===e)A="start"===l?O:"end"===l?O-b:"nearest"===l?nt(v,v+b,b,S,E,v+O,v+O+y,y):O-b/2,M="start"===h?C:"center"===h?C-g/2:"end"===h?C-g:nt(m,m+g,g,f,P,m+C,m+C+$,$),A=Math.max(0,A+v),M=Math.max(0,M+m);else{A="start"===l?O-n-S:"end"===l?O-o+E+D:"nearest"===l?nt(n,o,i,S,E+D,O,O+y,y):O-(n+i/2)+D/2,M="start"===h?C-u-f:"center"===h?C-(u+s/2)+L/2:"end"===h?C-a+P+L:nt(u,a,s,f,P+L,C,C+$,$);let{scrollLeft:t,scrollTop:r}=e;A=0===F?0:Math.max(0,Math.min(r+A/F,e.scrollHeight-i/F+D)),M=0===j?0:Math.max(0,Math.min(t+M/j,e.scrollWidth-s/j+L)),O+=r-A,C+=t-M}q.push({el:e,top:A,left:M})}return q})(t,i))e.scroll({top:s,left:n,behavior:i.behavior})}(e,{behavior:"smooth",boundary:t=>!t.hasAttribute("data-root")})})})}Hh(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=this.Gh();this.Zb(e>=0?e:0,t)}Zb(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(this.Uc=t,this.sa[t])this.sa[t].focus({preventScroll:!0}),e&&this.Fh(t);else{var i;null==(i=this.Ta)||i.focus({preventScroll:!0})}}Gh(){return this.sa.findIndex(t=>document.activeElement===t||"menuitemradio"===t.getAttribute("role")&&"true"===t.getAttribute("aria-checked"))}Fc(){this.Uc>=0||(this.Ia(),this.Hh())}Ih(t){let e=t.target;if((0,o.a9)(t)&&e instanceof Element){let t=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!t}return ns.has(t.key)}ic(t){this.Ih(t)&&(t.stopPropagation(),t.preventDefault())}jc(t){if(this.Ih(t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.Xl(t);break;case"Tab":this.Zb(this.sf(t.shiftKey?-1:1));break;case"ArrowUp":this.Zb(this.sf(-1));break;case"ArrowDown":this.Zb(this.sf(1));break;case"Home":case"PageUp":this.Zb(0);break;case"End":case"PageDown":this.Zb(this.sa.length-1)}}sf(t){var e;let i=this.Uc;do i=(i+t+this.sa.length)%this.sa.length;while((null==(e=this.sa[i])?void 0:e.offsetParent)===null)return i}Wl(){if(!this.Ta)return[];let t=this.Ta.querySelectorAll(ni),e=[],i=t=>"menu"===t.getAttribute("role");for(let s of t)eR(s)&&null!==s.offsetParent&&eL(this.Ta,s,i)&&e.push(s);return e}constructor(t){this.j=t,this.Uc=-1,this.Ta=null,this.sa=[]}}var na=Object.defineProperty,nr=Object.getOwnPropertyDescriptor,nl=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?nr(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&na(e,i,a),a};let nh=0;class no extends o.W{get triggerElement(){return this.N()}get contentElement(){return this.q()}get isSubmenu(){return!!this.Vc}onSetup(){this.a=tI();let t=++nh;this.tf="media-menu-".concat(t),this.uf="media-menu-button-".concat(t),this._b=new nn({Xl:this.close.bind(this)}),(0,o.a7)(s7)&&(this.Vc=(0,o.O)(s7)),this._l(),this.setAttributes({"data-open":this.U,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.z.bind(this)}),(0,o.a2)(s7,{$l:this.N,q:this.q,U:this.U,$b:(0,o.s)(""),Vm:!!this.Vc,hb:this.hb.bind(this),vf:this.vf.bind(this),wf:this.wf.bind(this),xf:this.xf.bind(this),yf:this.yf.bind(this),zf:this.zf.bind(this),am:t=>{this.Nd.add(t),(0,o.v)(()=>{this.Nd.delete(t)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){if((0,o.e)(this.bm.bind(this)),this.isSubmenu){var e;null==(e=this.Vc)||e.zf(this)}}onDestroy(){this.N.set(null),this.q.set(null),this.Kd=null,this.Nd.clear()}_l(){let t=-1,e=(0,o.a7)(sM)?(0,o.O)(sM):null;(0,o.a2)(sM,{onDragStart:()=>{var i;null==e||null==(i=e.onDragStart)||i.call(e),window.clearTimeout(t),t=-1,this.Md=!0},onDragEnd:()=>{var i;null==e||null==(i=e.onDragEnd)||i.call(e),t=window.setTimeout(()=>{this.Md=!1,t=-1},300)}})}bm(){let t=this.cm();this.isSubmenu||this.qa(),this.Kh(t),t&&((0,o.e)(()=>{let{height:t}=this.a.$state,e=this.q();e&&(0,o._)(e,"--player-height",t()+"px")}),this._b.zd(),this.listen("pointerup",this.dm.bind(this)),(0,o.l)(window,"pointerup",this.em.bind(this)))}vf(t){let e=t.el,i=this.isSubmenu,s=sv(this.z.bind(this));eO(e,"tabindex",i?"-1":"0"),eO(e,"role",i?"menuitem":"button"),(0,o.Y)(e,"id",this.uf),(0,o.Y)(e,"aria-haspopup","menu"),(0,o.Y)(e,"aria-expanded","false"),(0,o.Y)(e,"data-root",!this.isSubmenu),(0,o.Y)(e,"data-submenu",this.isSubmenu);let n=()=>{(0,o.Y)(e,"data-open",this.U()),(0,o.Y)(e,"aria-disabled",s())};L?n():(0,o.e)(n),this.N.set(e),(0,o.v)(()=>{this.N.set(null)})}wf(t){let e=t.el;e.style.setProperty("display","none"),(0,o.Y)(e,"id",this.tf),eO(e,"role","menu"),eO(e,"tabindex","-1"),(0,o.Y)(e,"data-root",!this.isSubmenu),(0,o.Y)(e,"data-submenu",this.isSubmenu),this.q.set(e),(0,o.v)(()=>this.q.set(null));let i=()=>(0,o.Y)(e,"data-open",this.U());L?i():(0,o.e)(i),this._b.Vl(e),this.Kh(!1);let s=this.fm.bind(this);if(this.isSubmenu){var n;null==(n=this.Vc)||n.am(s)}else t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",this.qa),t.listen("vds-menu-resize",this.qa)}xf(t){this.Kd=t}Kh(t){let e=(0,o.p)(this.q);e&&(0,o.Y)(e,"aria-hidden",(0,o.a5)(!t))}yf(t){this.Jh.set(t)}Zl(t,e){var i,s,n,a,r,l;if(this.Af=(0,o.y)(e),null==e||e.stopPropagation(),this.U()===t)return;if(this.z()){t&&this.Ld.hide(e);return}null==(i=this.el)||i.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));let h=this.N(),u=this.q();if(h&&((0,o.Y)(h,"aria-controls",t&&this.tf),(0,o.Y)(h,"aria-expanded",(0,o.a5)(t))),u&&(0,o.Y)(u,"aria-labelledby",t&&this.uf),this.U.set(t),this.gm(e),(0,o.t)(),this.Af)for(let e of(t?null==u||u.focus():null==h||h.focus(),[this.el,u]))e&&e.setAttribute("data-keyboard","");else for(let t of[this.el,u])t&&t.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)this.isSubmenu||this.a.activeMenu===this||(null==(a=this.a.activeMenu)||a.close(e),this.a.activeMenu=this),null==(n=this.Kd)||null==(s=n.Bf)||s.call(n,e);else{if(this.isSubmenu)for(let t of this.Wc)t.close(e);else this.a.activeMenu=null;null==(l=this.Kd)||null==(r=l.Wm)||r.call(l,e)}t&&requestAnimationFrame(this.Lh.bind(this))}Lh(){this.Cf||this.Df||(this._b.Ia(),requestAnimationFrame(()=>{this.Af?this._b.Hh():this._b.Fh()}))}cm(){return!this.z()&&this.U()}z(){return this.Fd()||this.Jh()}hb(t){this.Fd.set(t)}dm(t){let e=this.q();this.Md||e&&eE(e,t)||t.stopPropagation()}em(t){let e=this.q();this.Md||e&&eE(e,t)||this.close(t)}Yl(){var t;let e=null==(t=this.el)?void 0:t.querySelector('[data-part="close-target"]');return this.el&&e&&eL(this.el,e,t=>"menu"===t.getAttribute("role"))?e:null}gm(t){this.isSubmenu||(this.U()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}zf(t){this.Wc.add(t),(0,o.l)(t,"open",this.hm),(0,o.l)(t,"close",this.im),(0,o.v)(this.jm)}km(t){this.Wc.delete(t)}lm(t){this.Df=!0;let e=this.q();if(this.isSubmenu){var i;null==(i=this.triggerElement)||i.setAttribute("aria-hidden","true")}for(let e of this.Wc)if(e!==t.target)for(let t of[e.el,e.triggerElement])null==t||t.setAttribute("aria-hidden","true");if(e){let i=t.target.el;for(let t of e.children)t.contains(i)?t.setAttribute("data-open",""):t!==i&&t.setAttribute("data-hidden","")}}mm(t){this.Df=!1;let e=this.q();if(this.isSubmenu){var i;null==(i=this.triggerElement)||i.setAttribute("aria-hidden","false")}for(let t of this.Wc)for(let e of[t.el,t.triggerElement])null==e||e.setAttribute("aria-hidden","false");if(e)for(let t of e.children)t.removeAttribute("data-open"),t.removeAttribute("data-hidden")}fm(t){let e=this.q();for(let i of(e&&"height"===t.propertyName&&(this.Cf="transitionstart"===t.type,(0,o.Y)(e,"data-transition",this.Cf?"height":null),this.U()&&this.Lh()),this.Nd))i(t)}open(t){(0,o.p)(this.U)||(this.Ld.show(t),(0,o.t)())}close(t){(0,o.p)(this.U)&&(this.Ld.hide(t),(0,o.t)())}constructor(){super(),this.U=(0,o.s)(!1),this.Fd=(0,o.s)(!1),this.N=(0,o.s)(null),this.q=(0,o.s)(null),this.Wc=new Set,this.Kd=null,this.Md=!1,this.Jh=(0,o.s)(!1),this.Nd=new Set,this.Af=!1,this.jm=this.km.bind(this),this.Df=!1,this.hm=this.lm.bind(this),this.im=this.mm.bind(this),this.qa=(0,o.b)(()=>{let t=(0,o.p)(this.q);if(!t||L)return;let e=0,i=getComputedStyle(t),s=[...t.children];for(let t of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(i[t])||0;for(let t of s)if(eR(t)&&"contents"===t.style.display)s.push(...t.children);else if(3===t.nodeType)e+=parseFloat(getComputedStyle(t).fontSize);else if(eR(t)){if(!eq(t))continue;let i=getComputedStyle(t);e+=t.offsetHeight+(parseFloat(i.marginTop)||0)+(parseFloat(i.marginBottom)||0)}(0,o._)(t,"--menu-height",e+"px")}),this.Cf=!1;let{showDelay:t}=this.$props;this.Ld=new sh({N:this.N,q:this.q,jh:t,zd:(t,e,i)=>{eD(t,t=>{this.U()?i(t):e(t)});let s=this.Yl();s&&eD(s,t=>{t.stopPropagation(),i(t)})},F:this.Zl.bind(this)})}}no.props={showDelay:0},nl([o.a3],no.prototype,"triggerElement",1),nl([o.a3],no.prototype,"contentElement",1),nl([o.a3],no.prototype,"isSubmenu",1),nl([o.a4],no.prototype,"open",1),nl([o.a4],no.prototype,"close",1);var nu=Object.defineProperty,nd=Object.getOwnPropertyDescriptor;class nc extends o.W{get expanded(){var t,e;return null!=(e=null==(t=this.n)?void 0:t.U())&&e}onSetup(){this.n=(0,o.O)(s7)}onAttach(t){this.n.vf(this),(0,o.e)(this.Oc.bind(this)),eO(t,"type","button")}onConnect(t){(0,o.e)(this.nm.bind(this)),this.Hc();let e=new MutationObserver(this.Hc.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),(0,o.v)(()=>e.disconnect()),eD(t,t=>{this.dispatch("select",{trigger:t})})}Oc(){this.n.yf(this.$props.disabled())}nm(){let t=this.Mh();t&&(0,o.e)(()=>{let e=this.n.$b();e&&(t.textContent=e)})}Hc(){var t;let e=null==(t=this.el)?void 0:t.querySelector('[data-part="hint"]');this.Mh.set(null!=e?e:null)}constructor(){super(),this.Mh=(0,o.s)(null),new iB}}nc.props={disabled:!1},((t,e,i,s)=>{for(var n,a=s>1?void 0:s?nd(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&nu(e,i,a)})([o.a3],nc.prototype,"expanded",1);class np extends nc{}class nf extends o.W{onSetup(){this.a=tI(),(0,o.a2)(ng,{yb:this.om.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;null==(t=this.H)||t.remove(),this.H=null}om(t){this.Nh(!1),this.H=t,eF(()=>{eF(()=>{this.connectScope&&(0,o.e)(this.Oc.bind(this))})})}Oc(){let{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,i=e();this.Nh("fullscreen"===i?!t():!i)}Nh(t){if(!this.H)return;let e=this.pm(this.$props.container());if(!e)return;let i=this.H.parentElement===e;if((0,o.Y)(this.H,"data-portal",t),t)i||(this.H.remove(),e.append(this.H));else if(i&&this.H.parentElement===e){var s;this.H.remove(),null==(s=this.el)||s.append(this.H)}}pm(t){return eR(t)?t:t?document.querySelector(t):document.body}constructor(){super(...arguments),this.H=null}}nf.props={container:null,disabled:!1};let ng=(0,o.U)();class nb extends o.W{onAttach(t){if(this.n=(0,o.O)(s7),this.n.wf(this),(0,o.a7)(ng)){let e=(0,o.O)(ng);e&&((0,o.a2)(ng,null),e.yb(t),(0,o.v)(()=>e.yb(null)))}}onConnect(t){(0,o.e)(this.cf.bind(this))}cf(){if(!this.el)return;let t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});let{offset:e,alignOffset:i}=this.$props;return eI(this.el,this.Cd(),t,{offsetVarName:"media-menu",xOffset:i(),yOffset:e()})}this.el.removeAttribute("style"),this.el.style.display="none"}Cd(){return this.n.$l()}constructor(){super(),new iB;let{placement:t}=this.$props;this.setAttributes({"data-placement":t})}}nb.props={placement:null,offset:0,alignOffset:0};let nm=(0,o.U)();class nv extends o.V{get qm(){return Array.from(this.ac).map(t=>t.Ua())}get value(){return this.Ua()}set value(t){this.F(t)}onSetup(){(0,o.a2)(nm,{add:this.rm.bind(this),remove:this.sm.bind(this)})}onAttach(t){(0,o.a7)(s7)||eO(t,"role","radiogroup"),this.setAttributes({value:this.Ua})}onDestroy(){this.ac.clear()}rm(t){this.ac.has(t)||(this.ac.add(t),t.Od=this.tm,t.Xc(t.Ua()===this.Ua()))}sm(t){t.Od=null,this.ac.delete(t)}F(t,e){var i;let s=(0,o.p)(this.Ua);if(!t||t===s)return;let n=this.Oh(s),a=this.Oh(t);null==n||n.Xc(!1,e),null==a||a.Xc(!0,e),this.Ua.set(t),null==(i=this.l)||i.call(this,t,e)}Oh(t){for(let e of this.ac)if(t===(0,o.p)(e.Ua))return e;return null}constructor(){super(...arguments),this.ac=new Set,this.Ua=(0,o.s)(""),this.e=null,this.tm=this.F.bind(this)}}var ny=Object.defineProperty,n$=Object.getOwnPropertyDescriptor,nw=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?n$(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&ny(e,i,a),a};class nk extends o.W{get values(){return this.e.qm}get value(){return this.e.value}set value(t){this.e.value=t}onSetup(){L?this.O():(0,o.e)(this.O.bind(this))}O(){this.e.value=this.$props.value()}l(t,e){let i=this.createEvent("change",{detail:t,trigger:e});this.dispatch(i)}constructor(){super(),this.e=new nv,this.e.l=this.l.bind(this)}}nk.props={value:""},nw([o.a3],nk.prototype,"values",1),nw([o.a3],nk.prototype,"value",1);var nx=Object.defineProperty,nT=Object.getOwnPropertyDescriptor;class nS extends o.W{get checked(){return this.Ab()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.Ab,"aria-checked":sv(this.Ab)})}onAttach(t){let e=(0,o.a7)(s7);eO(t,"tabindex",e?"-1":"0"),eO(t,"role",e?"menuitemradio":"radio"),(0,o.e)(this.O.bind(this))}onConnect(t){this.um(),eD(t,this.s.bind(this)),(0,o.v)(this.Ga.bind(this))}Ga(){(0,o.a)(()=>{(0,o.O)(nm).remove(this.e)},this.connectScope)}um(){(0,o.O)(nm).add(this.e)}O(){let{value:t}=this.$props,e=t();if((0,o.p)(this.Ab)){var i,s;null==(i=(s=this.e).Od)||i.call(s,e)}}s(t){var e,i;(0,o.p)(this.Ab)||(this.F(!0,t),this.vm(t),null==(e=(i=this.e).Od)||e.call(i,(0,o.p)(this.$props.value),t))}Xc(t,e){(0,o.p)(this.Ab)!==t&&this.F(t,e)}F(t,e){this.Ab.set(t),this.dispatch("change",{detail:t,trigger:e})}vm(t){this.dispatch("select",{trigger:t})}constructor(){super(),this.Ab=(0,o.s)(!1),this.e={Ua:this.$props.value,Xc:this.Xc.bind(this),Od:null},new iB}}nS.props={value:""},((t,e,i,s)=>{for(var n,a=s>1?void 0:s?nT(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&nx(e,i,a)})([o.a3],nS.prototype,"checked",1);var nP=Object.defineProperty,nE=Object.getOwnPropertyDescriptor,nA=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?nE(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&nP(e,i,a),a};class nO extends o.W{get value(){return this.e.value}get disabled(){var t;return!(null==(t=this.C())?void 0:t.length)}onSetup(){this.a=tI(),(0,o.a7)(s7)&&(this.n=(0,o.O)(s7));let{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){var e;null==(e=this.n)||e.xf({Bf:this.Bf.bind(this)})}getOptions(){let{clipStartTime:t,clipEndTime:e}=this.a.$state,i=t(),s=e()||1/0;return this.C().map((t,e)=>({cue:t,value:e.toString(),label:t.text,startTime:ss(Math.max(0,t.startTime-i)),duration:sn(Math.min(s,t.endTime)-Math.max(i,t.startTime))}))}Bf(){(0,o.p)(()=>this.Rb())}onConnect(t){(0,o.e)(this.Rb.bind(this)),(0,o.e)(this.ta.bind(this)),(0,o.e)(this.wm.bind(this)),tx(this.a.textTracks,"chapters",this.K.set)}wm(){let t=this.K();if(!t)return;let e=this.Jd.bind(this,t);return e(),(0,o.l)(t,"add-cue",e),(0,o.l)(t,"remove-cue",e),()=>{this.C.set([])}}Jd(t){let{clipStartTime:e,clipEndTime:i}=this.a.$state,s=e(),n=i()||1/0;this.C.set([...t.cues].filter(t=>t.startTime<=n&&t.endTime>=s))}Rb(){var t;if(!(null==(t=this.n)?void 0:t.U()))return;if(!this.K()){this.e.value="-1";return}let{realCurrentTime:e,clipStartTime:i,clipEndTime:s}=this.a.$state,n=i(),a=s()||1/0,r=e(),l=this.C().findIndex(t=>tk(t,r));this.e.value=l.toString(),l>=0&&eF(()=>{if(!this.connectScope)return;let t=this.C()[l],e=this.el.querySelector("[aria-checked='true']"),i=Math.max(n,t.startTime),s=Math.min(a,t.endTime)-i,h=Math.max(0,r-i)/s*100;e&&(0,o._)(e,"--progress",ex(h,3)+"%")})}ta(){var t;null==(t=this.n)||t.hb(this.disabled)}l(t,e){if(this.disabled||!e)return;let i=+t,s=this.C(),{clipStartTime:n}=this.a.$state;(0,o.j)(i)&&(null==s?void 0:s[i])&&(this.e.value=i.toString(),this.a.remote.seek(s[i].startTime-n(),e),this.dispatch("change",{detail:s[i],trigger:e}))}constructor(){super(),this.K=(0,o.s)(null),this.C=(0,o.s)([]),this.e=new nv,this.e.l=this.l.bind(this)}}nO.props={thumbnails:null},nA([o.a3],nO.prototype,"value",1),nA([o.a3],nO.prototype,"disabled",1),nA([o.a4],nO.prototype,"getOptions",1);var nC=Object.defineProperty,nq=Object.getOwnPropertyDescriptor,nM=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?nq(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&nC(e,i,a),a};class nL extends o.W{get value(){return this.e.value}get disabled(){let{audioTracks:t}=this.a.$state;return t().length<=1}onSetup(){this.a=tI(),(0,o.a7)(s7)&&(this.n=(0,o.O)(s7))}onConnect(t){(0,o.e)(this.O.bind(this)),(0,o.e)(this.ta.bind(this)),(0,o.e)(this.Va.bind(this))}getOptions(){let{audioTracks:t}=this.a.$state;return t().map(t=>({track:t,label:t.label,value:t.label.toLowerCase()}))}O(){this.e.value=this.Z()}Va(){var t,e;let{emptyLabel:i}=this.$props,{audioTrack:s}=this.a.$state,n=s();null==(t=this.n)||t.$b.set(null!=(e=null==n?void 0:n.label)?e:i())}ta(){var t;null==(t=this.n)||t.hb(this.disabled)}Z(){let{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}l(t,e){if(this.disabled)return;let i=this.a.audioTracks.toArray().findIndex(e=>e.label.toLowerCase()===t);if(i>=0){let t=this.a.audioTracks[i];this.a.remote.changeAudioTrack(i,e),this.dispatch("change",{detail:t,trigger:e})}}constructor(){super(),this.e=new nv,this.e.l=this.l.bind(this)}}nL.props={emptyLabel:"Default"},nM([o.a3],nL.prototype,"value",1),nM([o.a3],nL.prototype,"disabled",1),nM([o.a4],nL.prototype,"getOptions",1);var nD=Object.defineProperty,nj=Object.getOwnPropertyDescriptor,nF=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?nj(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&nD(e,i,a),a};let nI=[1,1.25,1.5,1.75,2,2.5,3,4];class nR extends o.W{get value(){return this.e.value}get disabled(){let{gains:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return!e()||0===t().length}onSetup(){this.a=tI(),(0,o.a7)(s7)&&(this.n=(0,o.O)(s7))}onConnect(t){(0,o.e)(this.O.bind(this)),(0,o.e)(this.Va.bind(this)),(0,o.e)(this.ta.bind(this))}getOptions(){let{gains:t,normalLabel:e}=this.$props;return t().map(t=>({label:1===t||null===t?e:String(100*t)+"%",value:t.toString()}))}O(){this.e.value=this.Z()}Va(){var t;let{normalLabel:e}=this.$props,{audioGain:i}=this.a.$state,s=i();null==(t=this.n)||t.$b.set(1===s||null==s?e():String(100*s)+"%")}ta(){var t;null==(t=this.n)||t.hb(this.disabled)}Z(){var t,e;let{audioGain:i}=this.a.$state;return null!=(e=null==(t=i())?void 0:t.toString())?e:"1"}l(t,e){if(this.disabled)return;let i=+t;this.a.remote.changeAudioGain(i,e),this.dispatch("change",{detail:i,trigger:e})}constructor(){super(),this.e=new nv,this.e.l=this.l.bind(this)}}nR.props={normalLabel:"Disabled",gains:nI},nF([o.a3],nR.prototype,"value",1),nF([o.a3],nR.prototype,"disabled",1),nF([o.a4],nR.prototype,"getOptions",1);var nV=Object.defineProperty,nW=Object.getOwnPropertyDescriptor,nN=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?nW(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&nV(e,i,a),a};class nH extends o.W{get value(){return this.e.value}get disabled(){let{hasCaptions:t}=this.a.$state;return!t()}onSetup(){this.a=tI(),(0,o.a7)(s7)&&(this.n=(0,o.O)(s7))}onConnect(t){var e;null==(e=super.onConnect)||e.call(this,t),(0,o.e)(this.O.bind(this)),(0,o.e)(this.ta.bind(this)),(0,o.e)(this.Va.bind(this))}getOptions(){let{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(tP).map(t=>({track:t,label:t.label,value:this.Ef(t)}))]}O(){this.e.value=this.Z()}Va(){var t;let{offLabel:e}=this.$props,{textTrack:i}=this.a.$state,s=i();null==(t=this.n)||t.$b.set(s&&tP(s)&&"showing"===s.mode?s.label:e())}ta(){var t;null==(t=this.n)||t.hb(this.disabled)}Z(){let{textTrack:t}=this.a.$state,e=t();return e&&tP(e)&&"showing"===e.mode?this.Ef(e):"off"}l(t,e){if(this.disabled)return;if("off"===t){let t=this.a.textTracks.selected;if(t){let i=this.a.textTracks.indexOf(t);this.a.remote.changeTextTrackMode(i,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}let i=this.a.textTracks.toArray().findIndex(e=>this.Ef(e)===t);if(i>=0){let t=this.a.textTracks[i];this.a.remote.changeTextTrackMode(i,"showing",e),this.dispatch("change",{detail:t,trigger:e})}}Ef(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}constructor(){super(),this.e=new nv,this.e.l=this.l.bind(this)}}nH.props={offLabel:"Off"},nN([o.a3],nH.prototype,"value",1),nN([o.a3],nH.prototype,"disabled",1),nN([o.a4],nH.prototype,"getOptions",1);var nz=Object.defineProperty,nG=Object.getOwnPropertyDescriptor,nK=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?nG(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&nz(e,i,a),a};let nY=[.25,.5,.75,1,1.25,1.5,1.75,2];class nU extends o.W{get value(){return this.e.value}get disabled(){let{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||0===t().length}onSetup(){this.a=tI(),(0,o.a7)(s7)&&(this.n=(0,o.O)(s7))}onConnect(t){(0,o.e)(this.O.bind(this)),(0,o.e)(this.Va.bind(this)),(0,o.e)(this.ta.bind(this))}getOptions(){let{rates:t,normalLabel:e}=this.$props;return t().map(t=>({label:1===t?e:t+"×",value:t.toString()}))}O(){this.e.value=this.Z()}Va(){var t;let{normalLabel:e}=this.$props,{playbackRate:i}=this.a.$state,s=i();null==(t=this.n)||t.$b.set(1===s?e():s+"×")}ta(){var t;null==(t=this.n)||t.hb(this.disabled)}Z(){let{playbackRate:t}=this.a.$state;return t().toString()}l(t,e){if(this.disabled)return;let i=+t;this.a.remote.changePlaybackRate(i,e),this.dispatch("change",{detail:i,trigger:e})}constructor(){super(),this.e=new nv,this.e.l=this.l.bind(this)}}nU.props={normalLabel:"Normal",rates:nY},nK([o.a3],nU.prototype,"value",1),nK([o.a3],nU.prototype,"disabled",1),nK([o.a4],nU.prototype,"getOptions",1);var nB=Object.defineProperty,n_=Object.getOwnPropertyDescriptor,nQ=(t,e,i,s)=>{for(var n,a=s>1?void 0:s?n_(e,i):e,r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s?n(e,i,a):n(a))||a);return s&&a&&nB(e,i,a),a};class nZ extends o.W{get value(){return this.e.value}get disabled(){let{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length<=1}onSetup(){this.a=tI(),(0,o.a7)(s7)&&(this.n=(0,o.O)(s7))}onConnect(t){(0,o.e)(this.O.bind(this)),(0,o.e)(this.ta.bind(this)),(0,o.e)(this.Va.bind(this))}getOptions(){let{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Sc().map(t=>{let i=t.bitrate&&t.bitrate>=0?"".concat(ex(t.bitrate/1e6,2)," Mbps"):null;return{quality:t,label:t.height+"p",value:this.Ff(t),bitrate:()=>e()?null:i}})]}O(){this.e.value=this.Z()}Va(){var t;let{autoLabel:e}=this.$props,{autoQuality:i,quality:s}=this.a.$state,n=s()?s().height+"p":"";null==(t=this.n)||t.$b.set(i()?e()+(n?" (".concat(n,")"):""):n)}ta(){var t;null==(t=this.n)||t.hb(this.disabled)}l(t,e){if(this.disabled)return;if("auto"===t){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}let{qualities:i}=this.a.$state,s=(0,o.p)(i).findIndex(e=>this.Ff(e)===t);if(s>=0){let t=(0,o.p)(i)[s];this.a.remote.changeQuality(s,e),this.dispatch("change",{detail:t,trigger:e})}}Z(){let{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";let i=t();return i?this.Ff(i):"auto"}Ff(t){return t.height+"_"+t.bitrate}constructor(){super(),this.Sc=(0,o.L)(()=>{let{sort:t}=this.$props,{qualities:e}=this.a.$state;return eX(e(),"descending"===t())}),this.e=new nv,this.e.l=this.l.bind(this)}}nZ.props={autoLabel:"Auto",hideBitrate:!1,sort:"descending"},nQ([o.a3],nZ.prototype,"value",1),nQ([o.a3],nZ.prototype,"disabled",1),nQ([o.a4],nZ.prototype,"getOptions",1);class nX extends o.W{onSetup(){this.a=tI();let{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;this.p=null==(e=this.a.player.el)?void 0:e.querySelector("[data-media-provider]"),(0,o.e)(this.xm.bind(this))}xm(){let t=this.$props.event(),e=this.$props.disabled();this.p&&t&&!e&&(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),("pointerup"===t||"pointerdown"===t)&&"coarse"===this.a.$state.pointer()&&(t="pointerup"===t?"touchend":"touchstart"),(0,o.l)(this.p,t,this.ym.bind(this),{passive:!1}))}ym(t){if(this.$props.disabled()||(0,o.K)(t)&&(0!==t.button||this.a.activeMenu)||(0,o.Z)(t)&&this.a.activeMenu||ej(t)||!this.zm(t))return;t.MEDIA_GESTURE=!0,t.preventDefault();let e=(0,o.p)(this.$props.event);if(null==e?void 0:e.startsWith("dbl")){if(1===this.Bb){queueMicrotask(()=>this.Qh(t)),clearTimeout(this.Ph),this.Bb=0;return}}else 0===this.Bb&&setTimeout(()=>{1===this.Bb&&this.Qh(t)},250);0===this.Bb&&(this.Ph=window.setTimeout(()=>{this.Bb=0},275)),this.Bb++}Qh(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.Am()&&this.Bm((0,o.p)(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}zm(t){if(!this.el)return!1;if((0,o.K)(t)||(0,o.aa)(t)||(0,o.Z)(t)){var e,i,s;let n=(0,o.Z)(t)?null!=(e=t.changedTouches[0])?e:t.touches[0]:void 0,a=null!=(i=null==n?void 0:n.clientX)?i:t.clientX,r=null!=(s=null==n?void 0:n.clientY)?s:t.clientY,l=this.el.getBoundingClientRect(),h=r>=l.top&&r<=l.bottom&&a>=l.left&&a<=l.right;return t.type.includes("leave")?!h:h}return!0}Am(){return Array.from(this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]")).sort((t,e)=>getComputedStyle(e).zIndex-getComputedStyle(t).zIndex)[0]===this.el}Bm(t,e){if(!t)return;let i=new o.D("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(i),i.defaultPrevented)return;let[s,n]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek((0,o.p)(this.a.$state.currentTime)+(+n||0),e):this.a.remote[(0,o.ab)(s)](e),this.dispatch("trigger",{detail:t,trigger:e})}constructor(){super(...arguments),this.p=null,this.Bb=0,this.Ph=-1}}nX.props={disabled:!1,event:void 0,action:void 0};class nJ{attach(){}canRender(){return!0}detach(){this.Za.empty(),this.da.reset(),this.K=null}changeTrack(t){t&&this.K!==t&&(this.Za.empty(),t.readyState<2?(this.da.reset(),this.Za.add((0,o.l)(t,"load",()=>this.Rh(t),{once:!0}))):this.Rh(t),this.Za.add((0,o.l)(t,"add-cue",t=>{this.da.addCue(t.detail)}),(0,o.l)(t,"remove-cue",t=>{this.da.removeCue(t.detail)})),this.K=t)}Rh(t){this.da.changeTrack({cues:[...t.cues],regions:[...t.regions]})}constructor(t){this.da=t,this.priority=10,this.K=null,this.Za=(0,o.c)()}}class n0 extends o.W{onSetup(){this.a=tI(),this.setAttributes({"aria-hidden":sv(this.Ub.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(e){let i=this.a.player;if(i&&(0,o.l)(i,"vds-font-change",this.Cm.bind(this)),this.da)return void(0,o.e)(this.Sh.bind(this));t.r(382537)(t.i).then(t=>{this.connectScope&&(0,o.a)(()=>{this.M=t;let{CaptionsRenderer:i}=this.M;this.da=new i(e),this.Cb=new nJ(this.da),(0,o.e)(this.Sh.bind(this))},this.connectScope)})}onDestroy(){var t;this.Cb&&(this.Cb.detach(),this.a.textRenderers.remove(this.Cb)),null==(t=this.da)||t.destroy()}Ub(){let{textTrack:t,remotePlaybackState:e,iOSControls:i}=this.a.$state,s=t();return i()||"connected"===e()||!s||!tP(s)}Sh(){let{viewType:t}=this.a.$state;return"audio"===t()?this.Dm():this.Em()}Dm(){return(0,o.e)(this.qc.bind(this)),()=>{this.el.textContent=""}}qc(){if(this.Ub())return;let{textTrack:t}=this.a.$state;this.Th(),(0,o.l)(t(),"cue-change",this.Th.bind(this)),(0,o.e)(this.Fm.bind(this))}Th(){this.el.textContent="",this.bc>=0&&this.Gf();let{realCurrentTime:t,textTrack:e}=this.a.$state,{renderVTTCueString:i}=this.M,s=(0,o.p)(t);for(let t of(0,o.p)(e).activeCues){let e=this.Uh(),n=this.Vh();n.innerHTML=i(t,s),e.append(n),this.el.append(n)}}Fm(){let{realCurrentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.M;e(this.el,t())}Em(){return(0,o.e)(this.Gm.bind(this)),(0,o.e)(this.Hm.bind(this)),this.a.textRenderers.add(this.Cb),()=>{this.el.textContent="",this.Cb.detach(),this.a.textRenderers.remove(this.Cb)}}Gm(){this.da.dir=this.$props.textDir()}Hm(){var t;if(this.Ub())return;let{realCurrentTime:e,textTrack:i}=this.a.$state;this.da.currentTime=e(),this.bc>=0&&(null==(t=i())?void 0:t.activeCues[0])&&this.Gf()}Cm(){var t,e;if(this.bc>=0)return void this.Wh();let{textTrack:i}=this.a.$state;(null==(t=i())?void 0:t.activeCues[0])?null==(e=this.da)||e.update(!0):this.Im()}Im(){var t,e;let i=this.Uh();(0,o.Y)(i,"data-example","");let s=this.Vh();(0,o.Y)(s,"data-example",""),s.textContent=this.$props.exampleText(),null==i||i.append(s),null==(t=this.el)||t.append(i),null==(e=this.el)||e.setAttribute("data-example",""),this.Wh()}Wh(){window.clearTimeout(this.bc),this.bc=window.setTimeout(this.Gf.bind(this),2500)}Gf(){var t,e;null==(t=this.el)||t.removeAttribute("data-example"),(null==(e=this.el)?void 0:e.querySelector("[data-example]"))&&(this.el.textContent=""),this.bc=-1}Uh(){let t=document.createElement("div");return(0,o.Y)(t,"data-part","cue-display"),t}Vh(){let t=document.createElement("div");return(0,o.Y)(t,"data-part","cue"),t}constructor(){super(...arguments),this.bc=-1}}n0.props={textDir:"ltr",exampleText:"Captions look like this."};class n1 extends o.W{onSetup(){this.a=tI(),this.Nb(),this.Xh(),this.Da(),this.Fa()}onAttach(t){t.style.setProperty("pointer-events","none"),(0,o.e)(this.lf.bind(this)),(0,o.e)(this.Nb.bind(this)),(0,o.e)(this.Xh.bind(this)),(0,o.e)(this.Da.bind(this)),(0,o.e)(this.Fa.bind(this));let{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.Qc.bind(this),"data-error":this.gb.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,o.e)(this.Jm.bind(this)),(0,o.e)(this.Na.bind(this))}gb(){let{error:t}=this.$state;return!(0,o.R)(t())}Jm(){let{canLoadPoster:t,poster:e}=this.a.$state;!t()&&e()&&th(e(),"preconnect")}Fa(){let{src:t}=this.$props,{poster:e,nativeControls:i}=this.a.$state;this.el&&(0,o.Y)(this.el,"display",i()?"none":null),this.$state.hidden.set(this.gb()||!(t()||e())||i())}Qc(){let{loading:t,hidden:e}=this.$state;return!e()&&t()}lf(){let t=this.$state.img();t&&((0,o.l)(t,"load",this.hd.bind(this)),(0,o.l)(t,"error",this.R.bind(this)))}Nb(){let{poster:t}=this.a.$props,{canLoadPoster:e,providedPoster:i,inferredPoster:s}=this.a.$state,n=this.$props.src()||"",a=n||t()||s();this.Yh===i()&&i.set(n),this.$state.src.set(e()&&a.length?a:null),this.Yh=n}Xh(){let{src:t}=this.$props,{alt:e}=this.$state,{poster:i}=this.a.$state;e.set(t()||i()?this.$props.alt():null)}Da(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i,poster:s}=this.a.$state,n=null!==t()?t():i();e.set(/ytimg\.com|vimeo/.test(s()||"")?null:!0===n?"anonymous":n)}Na(){let{loading:t,error:e}=this.$state,{canLoadPoster:i,poster:s}=this.a.$state;t.set(i()&&!!s()),e.set(null)}hd(){let{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}R(t){let{loading:e,error:i}=this.$state;e.set(!1),i.set(t)}constructor(){super(...arguments),this.Yh=""}}n1.props={src:null,alt:null,crossOrigin:null},n1.state=new o.T({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});class n2 extends o.W{onSetup(){this.a=tI(),this.Zh();let{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this._h.bind(this)}),new sC({callback:this.hf.bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||(0,o.e)(this.Km.bind(this)),(0,o.e)(this.Zh.bind(this))}onConnect(t){(0,o.v)(eM(t,this.Mc.set)),(0,o.e)(this.Fa.bind(this)),(0,o.e)(this.Lm.bind(this))}hf(t){this.Nc.set(t[0].isIntersecting)}Fa(){let{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Mc()||!this.Nc())}Lm(){if(!this.$props.toggle())return void this.Yc.set(null);this.el&&eD(this.el,this.Mm.bind(this))}Zh(){let{hidden:t,timeText:e}=this.$state,{duration:i}=this.a.$state;if(t())return;let{type:s,padHours:n,padMinutes:a,showHours:r}=this.$props,l=this.Nm(s()),h=i(),o=this._h();if(!Number.isFinite(l+h))return void e.set("LIVE");let u=ss(o?Math.max(0,h-l):l,{padHrs:n(),padMins:a(),showHrs:r()});e.set((o?"-":"")+u)}Km(){if(!this.el)return;let{toggle:t}=this.$props;(0,o.Y)(this.el,"role",t()?"timer":null),(0,o.Y)(this.el,"tabindex",t()?0:null)}Nm(t){let{bufferedEnd:e,duration:i,currentTime:s}=this.a.$state;switch(t){case"buffered":return e();case"duration":return i();default:return s()}}_h(){return this.$props.remainder()&&!1!==this.Yc()}Mm(t){if(t.preventDefault(),null===this.Yc())return void this.Yc.set(!this.$props.remainder());this.Yc.set(t=>!t)}constructor(){super(...arguments),this.Yc=(0,o.s)(null),this.Mc=(0,o.s)(!0),this.Nc=(0,o.s)(!0)}}n2.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1},n2.state=new o.T({timeText:"",hidden:!1});let n3=(0,o.U)();class n5 extends o.W{onSetup(){this.a=tI(),(0,o.a2)(n3,{...this.$props,previewTime:(0,o.s)(0)})}}n5.props={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],customIcons:!1,displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]};class n4 extends i1{}class n7 extends st{}class n8 extends sa{}class n6 extends sr{}class n9 extends sl{}class at extends sm{}class ae extends sk{}class ai extends sx{}class as extends sE{}class an extends sT{}class aa extends sS{}class ar extends sw{}class al extends sy{}class ah extends s${}class ao extends sP{}class au extends sd{}class ad extends sc{}class ac extends sp{}class ap extends sI{}class af extends s1{}class ag extends sZ{}class ab extends sX{}class am extends sJ{}class av extends s0{}class ay extends sH{}class a$ extends sB{}class aw extends sK{}class ak extends s_{}class ax extends s4{}class aT extends no{}class aS extends nc{}class aP extends nb{}class aE extends np{}class aA extends nk{}class aO extends nS{}class aC extends n0{}class aq extends nX{}class aM extends n1{}class aL extends sN{}class aD extends n2{}let aj=h.forwardRef((t,e)=>{let{children:i,...s}=t,n=h.Children.toArray(i),a=n.find(aR);if(a){let t=a.props.children,i=n.map(e=>e!==a?e:h.Children.count(t)>1?h.Children.only(null):h.isValidElement(t)?t.props.children:null);return h.createElement(aF,{...s,ref:e},h.isValidElement(t)?h.cloneElement(t,void 0,i):null)}return h.createElement(aF,{...s,ref:e},i)});aj.displayName="Slot";let aF=h.forwardRef((t,e)=>{let{children:i,...s}=t;return h.isValidElement(i)?h.cloneElement(i,{...function(t,e){let i={...e};for(let s in e){let n=t[s],a=e[s];/^on[A-Z]/.test(s)?n&&a?i[s]=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];a(...e),n(...e)}:n&&(i[s]=n):"style"===s?i[s]={...n,...a}:"className"===s&&(i[s]=[n,a].filter(Boolean).join(" "))}return{...t,...i}}(s,i.props),ref:e?(0,o.x)(e,i.ref):i.ref}):h.Children.count(i)>1?h.Children.only(null):null});aF.displayName="SlotClone";let aI=t=>{let{children:e}=t;return h.createElement(h.Fragment,null,e)};function aR(t){return h.isValidElement(t)&&t.type===aI}let aV=["button","div","span","img","video","audio"].reduce((t,e)=>{let i=h.forwardRef((t,i)=>{let{asChild:s,...n}=t,a=s?aj:e;return h.createElement(a,{...n,ref:i})});return i.displayName="Primitive.".concat(e),{...t,[e]:i}},{});function aW(t){return(null==t?void 0:t.$$PROVIDER_TYPE)==="REMOTION"}let aN=ap.state.record,aH=Object.keys(aN).reduce((t,e)=>({...t,[e]:()=>aN[e]}),{});function az(t,e){var i;let s=(0,o.C)(sA);return(0,o.u)(((null==e||null==(i=e.current)?void 0:i.$state)||s||aH)[t])}let aG=n4.state.record,aK=Object.keys(aG).reduce((t,e)=>({...t,[e]:()=>aG[e]}),{});function aY(t,e){var i;let s=(0,o.C)(tE);return(0,o.u)(((null==e||null==(i=e.current)?void 0:i.$state)||s||aK)[t])}}}]);

//# sourceMappingURL=a734c2494c7b3fdd.js.map