(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{312443:e=>{"use strict";e.s({chatSources:()=>t});let t=["workspace","internet","modelKnowledge"]},37246:e=>{"use strict";e.s({attachmentSchema:()=>d});var t=e.i(38017),a=e.i(555168);let r=a.z.enum(t.CHATBOT_TYPE_VALUES),i=a.z.object({type:a.z.literal("image"),url:a.z.string(),name:a.z.string(),extension:a.z.string()}),n=a.z.object({type:a.z.literal("text"),text:a.z.string(),chatbotId:a.z.string(),chatbotType:r,highlights:a.z.array(a.z.object({pageNumber:a.z.number(),top:a.z.number(),left:a.z.number(),height:a.z.number(),width:a.z.number()})).optional()}),s=a.z.object({type:a.z.literal("mention"),chatbotId:a.z.string(),chatbotName:a.z.string(),chatbotType:r.optional()}),o=a.z.object({type:a.z.literal("source"),chatbotName:a.z.string(),chatbotType:r}),l=a.z.object({type:a.z.literal("quiz-context"),activeQuestionIndex:a.z.number(),currentQuestion:a.z.object({id:a.z.string(),type:a.z.string(),question:a.z.string().optional(),statement:a.z.string().optional(),text:a.z.string().optional(),answer:a.z.string().optional(),explanation:a.z.string().optional(),correctAnswer:a.z.union([a.z.number(),a.z.boolean(),a.z.string()]).optional(),options:a.z.array(a.z.string()).optional()}),totalQuestions:a.z.number()}),d=a.z.object({type:a.z.literal("input-attachment"),id:a.z.string(),data:a.z.discriminatedUnion("type",[i,n,s,o,l])})},68211:e=>{"use strict";e.s({chatbotTypeSchema:()=>a});var t=e.i(555168);let a=t.z.enum(["DOCUMENT","GROUP","VIDEO","TEXT","NOTION","NOTE","AUDIO","WEBSITE","WORKSPACE","IMAGE","YOUTUBE","RECORDING","NOTHING","QUIZ"]),r=t.z.object({type:t.z.literal("image"),url:t.z.string(),name:t.z.string(),extension:t.z.string()}),i=t.z.object({type:t.z.literal("text"),text:t.z.string(),chatbotId:t.z.string(),chatbotType:a,highlights:t.z.array(t.z.object({pageNumber:t.z.number(),top:t.z.number(),left:t.z.number(),height:t.z.number(),width:t.z.number()})).optional()}),n=t.z.object({type:t.z.literal("mention"),chatbotId:t.z.string(),chatbotName:t.z.string(),chatbotType:a}),s=t.z.object({type:t.z.literal("source"),chatbotName:t.z.string(),chatbotType:a});t.z.object({type:t.z.literal("input-attachment"),id:t.z.string(),data:t.z.discriminatedUnion("type",[r,i,n,s])})},96852:e=>{"use strict";e.s({partsSchema:()=>C});var t=e.i(555168),a=e.i(68211);let r=t.z.object({type:t.z.literal("text"),text:t.z.string()}),i=t.z.object({type:t.z.literal("thinking"),text:t.z.string(),duration:t.z.number()}),n=t.z.object({type:t.z.literal("planning"),text:t.z.string(),steps:t.z.array(t.z.string())}),s=t.z.object({type:t.z.literal("error"),text:t.z.string()}),o=t.z.object({type:t.z.literal("read-resource-external"),paperTitle:t.z.string(),paperUrl:t.z.string(),pageCount:t.z.number().optional()}),l=t.z.object({type:t.z.literal("read-resource-website"),url:t.z.string()}),d=t.z.object({type:t.z.literal("citation"),text:t.z.string(),paperTitle:t.z.string(),doi:t.z.string()}),c=t.z.object({type:t.z.literal("search-library"),data:t.z.array(t.z.object({id:t.z.string(),name:t.z.string(),type:a.chatbotTypeSchema}))}),u=t.z.object({type:t.z.literal("search-internet"),data:t.z.array(t.z.object({id:t.z.string(),name:t.z.string(),url:t.z.string()}))}),m=t.z.enum(["pending","success","error"]),p=t.z.object({type:t.z.literal("search-papers"),data:t.z.array(t.z.object({id:t.z.string(),name:t.z.string(),url:t.z.string(),readStatus:m}))}),z=t.z.object({type:t.z.literal("search-youtube"),data:t.z.array(t.z.object({id:t.z.string(),name:t.z.string(),url:t.z.string()}))}),b=t.z.object({type:t.z.literal("search-google-drive"),results:t.z.array(t.z.object({id:t.z.string(),name:t.z.string(),url:t.z.string(),mimeType:t.z.string().optional()}))}),h=t.z.object({type:t.z.literal("search-onedrive"),results:t.z.array(t.z.object({id:t.z.string(),name:t.z.string(),url:t.z.string(),mimeType:t.z.string().optional()}))}),g=t.z.object({type:t.z.literal("search-sharepoint"),results:t.z.array(t.z.object({id:t.z.string(),name:t.z.string(),url:t.z.string(),mimeType:t.z.string().optional()}))}),y=t.z.object({type:t.z.literal("search-mendeley"),results:t.z.array(t.z.object({id:t.z.string(),name:t.z.string(),url:t.z.string()}))}),f=t.z.object({type:t.z.literal("read-resource-internal"),id:t.z.string(),userId:t.z.string(),title:t.z.string(),chatbotType:a.chatbotTypeSchema}),x=t.z.object({type:t.z.literal("read-resource"),payload:t.z.discriminatedUnion("type",[o,f,l])}),j=t.z.object({id:t.z.string(),type:t.z.literal("flashcards"),flashcards:t.z.array(t.z.object({question:t.z.string(),answer:t.z.string(),explanation:t.z.string(),hint:t.z.string()}))}),v=t.z.object({type:t.z.literal("generate-flashcards"),data:t.z.object({sourceName:t.z.string(),cardCount:t.z.number().optional(),flashcardData:t.z.object({flashcardType:t.z.enum(["basic","multiple-choice","true-false","fill-in-blank","mixed"]),flashcards:t.z.array(t.z.any())}).optional(),flashcards:t.z.array(t.z.object({id:t.z.string(),question:t.z.string(),answer:t.z.string(),explanation:t.z.string(),hint:t.z.string()})).optional()})}),w=t.z.object({type:t.z.literal("edit-note"),text:t.z.string()}),I=t.z.object({type:t.z.literal("edit-quiz"),data:t.z.object({status:t.z.enum(["processing","ai-processing","error"]).optional(),message:t.z.string().optional(),updatedQuiz:t.z.object({title:t.z.string(),description:t.z.string().optional(),cards:t.z.array(t.z.any()),metadata:t.z.object({totalCards:t.z.number(),cardTypes:t.z.array(t.z.string()),createdFrom:t.z.string(),sourceMessageId:t.z.string().optional()})}).optional(),transformationType:t.z.string().optional(),targetCardType:t.z.string().optional(),originalCardCount:t.z.number().optional(),newCardCount:t.z.number().optional(),processed:t.z.boolean().optional(),processedAt:t.z.string().optional()})}),T=t.z.object({type:t.z.literal("form-decomposition"),numberOfQuestions:t.z.number().optional(),completedId:t.z.string().optional(),duration:t.z.number().optional()}),k=t.z.object({type:t.z.literal("citation-generation"),data:t.z.object({citations:t.z.array(t.z.object({id:t.z.string(),title:t.z.string(),citation:t.z.string()})).optional(),totalDocuments:t.z.number().optional(),processedCount:t.z.number().optional()}).optional(),duration:t.z.number().optional()}),S=t.z.object({type:t.z.literal("generate-image"),imageUrl:t.z.string().nullish(),notGenerated:t.z.boolean().optional()}),C=t.z.intersection(t.z.object({id:t.z.string(),status:t.z.enum(["pending","success","error"]).optional(),checkpointId:t.z.string().optional()}),t.z.discriminatedUnion("type",[r,i,s,j,v,w,I,x,n,c,u,p,z,b,h,g,y,T,d,k,S]))},324544:e=>{"use strict";e.s({sourceSchema:()=>j});var t=e.i(555168);let a=t.z.object({type:t.z.literal("text")}),r=t.z.object({type:t.z.literal("website"),url:t.z.string()}),i=t.z.object({type:t.z.literal("document"),pageNumber:t.z.number(),originalElements:t.z.string().optional().nullable()}),n=t.z.object({type:t.z.literal("video"),start:t.z.number(),end:t.z.number(),seek:t.z.number().optional()}),s=t.z.object({type:t.z.literal("audio"),start:t.z.number(),end:t.z.number(),seek:t.z.number().optional(),speaker:t.z.number().optional()}),o=t.z.object({type:t.z.literal("note")}),l=t.z.object({type:t.z.literal("quiz")}),d=t.z.object({type:t.z.literal("internal-database"),queryType:t.z.enum(["chatbot_listing"]),query:t.z.string(),sqlQuery:t.z.string().optional()}),c=t.z.object({type:t.z.literal("external-database"),queryType:t.z.enum(["aggregation"]),query:t.z.string(),sqlQuery:t.z.string().optional()}),u=t.z.object({type:t.z.literal("external-paper"),url:t.z.string(),paperTitle:t.z.string()}),m=t.z.object({type:t.z.literal("external-website"),url:t.z.string()}),p=t.z.object({type:t.z.literal("external-youtube"),url:t.z.string(),videoTitle:t.z.string()}),z=t.z.object({type:t.z.literal("external-google-drive"),fileId:t.z.string(),fileName:t.z.string(),mimeType:t.z.string(),url:t.z.string(),createdAt:t.z.string().optional(),updatedAt:t.z.string().optional()}),b=t.z.object({type:t.z.literal("external-onedrive"),fileId:t.z.string(),fileName:t.z.string(),mimeType:t.z.string(),url:t.z.string(),createdAt:t.z.string().optional(),updatedAt:t.z.string().optional()}),h=t.z.object({type:t.z.literal("external-sharepoint"),fileId:t.z.string(),fileName:t.z.string(),mimeType:t.z.string(),url:t.z.string(),siteId:t.z.string(),createdAt:t.z.string().optional(),updatedAt:t.z.string().optional()}),g=t.z.object({type:t.z.literal("external-mendeley"),fileId:t.z.string(),fileName:t.z.string(),url:t.z.string(),abstract:t.z.string().optional(),authors:t.z.array(t.z.string()).optional()}),y=t.z.object({type:t.z.literal("external-database"),data:c,order:t.z.number(),text:t.z.string()}),f=t.z.object({type:t.z.literal("external-source"),data:t.z.discriminatedUnion("type",[u,m,p,z,b,h,g]),order:t.z.number(),text:t.z.string()}),x=t.z.object({id:t.z.string().optional(),type:t.z.literal("source"),data:t.z.discriminatedUnion("type",[a,r,i,n,s,o,l,d]),chatbotId:t.z.string(),order:t.z.number(),text:t.z.string(),relevanceScore:t.z.number().optional()}),j=t.z.discriminatedUnion("type",[x,f,y])},209110:e=>{"use strict";e.s({MESSAGE_PAGINATION_LIMIT:()=>l,messageSchema:()=>o});var t=e.i(555168),a=e.i(312443),r=e.i(37246),i=e.i(96852),n=e.i(324544);let s=t.z.object({modelName:t.z.string().optional(),maxLength:t.z.number().optional(),chatSources:t.z.record(t.z.enum(a.chatSources),t.z.boolean()).optional(),userId:t.z.string().optional(),userDisplayName:t.z.string().optional(),includeNotesInSearch:t.z.boolean().optional()}),o=t.z.object({id:t.z.string(),role:t.z.enum(["user","assistant"]),attachments:t.z.array(r.attachmentSchema),parts:t.z.array(i.partsSchema),sources:t.z.array(n.sourceSchema),metadata:s,createdAt:t.z.date()}),l=10},799624:e=>{"use strict";e.s({default:()=>t});let t=(0,e.i(238959).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},188246:e=>{"use strict";e.s({BookOpen:()=>t.default});var t=e.i(799624)},964084:e=>{"use strict";e.s({Root:()=>x,Thumb:()=>j});var t=e.i(373150),a=e.i(777787),r=e.i(28537),i=e.i(215836),n=e.i(698644),s=e.i(344916),o=e.i(730287),l=e.i(421349),d=e.i(290479),c="Switch",[u,m]=(0,i.createContextScope)(c),[p,z]=u(c),b=t.forwardRef((e,i)=>{let{__scopeSwitch:s,name:o,checked:u,defaultChecked:m,required:z,disabled:b,value:h="on",onCheckedChange:g,form:x,...j}=e,[v,w]=t.useState(null),I=(0,r.useComposedRefs)(i,e=>w(e)),T=t.useRef(!1),k=!v||x||!!v.closest("form"),[S,C]=(0,n.useControllableState)({prop:u,defaultProp:null!=m&&m,onChange:g,caller:c});return(0,d.jsxs)(p,{scope:s,checked:S,disabled:b,children:[(0,d.jsx)(l.Primitive.button,{type:"button",role:"switch","aria-checked":S,"aria-required":z,"data-state":f(S),"data-disabled":b?"":void 0,disabled:b,value:h,...j,ref:I,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{C(e=>!e),k&&(T.current=e.isPropagationStopped(),T.current||e.stopPropagation())})}),k&&(0,d.jsx)(y,{control:v,bubbles:!T.current,name:o,value:h,checked:S,required:z,disabled:b,form:x,style:{transform:"translateX(-100%)"}})]})});b.displayName=c;var h="SwitchThumb",g=t.forwardRef((e,t)=>{let{__scopeSwitch:a,...r}=e,i=z(h,a);return(0,d.jsx)(l.Primitive.span,{"data-state":f(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});g.displayName=h;var y=t.forwardRef((e,a)=>{let{__scopeSwitch:i,control:n,checked:l,bubbles:c=!0,...u}=e,m=t.useRef(null),p=(0,r.useComposedRefs)(m,a),z=(0,s.usePrevious)(l),b=(0,o.useSize)(n);return t.useEffect(()=>{let e=m.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(z!==l&&t){let a=new Event("click",{bubbles:c});t.call(e,l),e.dispatchEvent(a)}},[z,l,c]),(0,d.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...u,tabIndex:-1,ref:p,style:{...u.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function f(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var x=b,j=g},463002:e=>{"use strict";e.s({Switch:()=>n});var t=e.i(290479),a=e.i(964084),r=e.i(373150),i=e.i(289702);let n=r.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(a.Root,{className:(0,i.cn)("peer inline-flex h-[16px] w-[26] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-shadowLow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-blue data-[state=unchecked]:bg-input dark:data-[state=unchecked]:bg-text-tertiary",n),...s,ref:r,children:(0,t.jsx)(a.Thumb,{className:(0,i.cn)("pointer-events-none block h-[12px] w-[12px] rounded-full bg-background-primary shadow-shadowHigh ring-0 transition-transform data-[state=checked]:translate-x-[10px] data-[state=unchecked]:translate-x-0")})})});n.displayName=a.Root.displayName},627053:e=>{"use strict";e.s({languages:()=>t});let t=[{name:"Albanian",code:"sq"},{name:"Afrikaans",code:"af"},{name:"Arabic",code:"ar"},{name:"Armenian",code:"hy"},{name:"Awadhi",code:"awa"},{name:"Azerbaijani",code:"az"},{name:"Bashkir",code:"ba"},{name:"Basque",code:"eu"},{name:"Belarusian",code:"be"},{name:"Bengali",code:"bn"},{name:"Bhojpuri",code:"bho"},{name:"Bosnian",code:"bs"},{name:"Brazilian Portuguese",code:"pt-BR"},{name:"Bulgarian",code:"bg"},{name:"Cantonese (Yue)",code:"yue"},{name:"Catalan",code:"ca"},{name:"Chhattisgarhi",code:"hne"},{name:"Chinese",code:"zh"},{name:"Croatian",code:"hr"},{name:"Czech",code:"cs"},{name:"Danish",code:"da"},{name:"Dogri",code:"doi"},{name:"Dutch",code:"nl"},{name:"English (US)",code:"en"},{name:"English (UK)",code:"en-GB"},{name:"Estonian",code:"et"},{name:"Faroese",code:"fo"},{name:"Finnish",code:"fi"},{name:"French",code:"fr"},{name:"Galician",code:"gl"},{name:"Georgian",code:"ka"},{name:"German",code:"de"},{name:"Greek",code:"el"},{name:"Gujarati",code:"gu"},{name:"Haryanvi",code:"bgc"},{name:"Hebrew",code:"he"},{name:"Hindi",code:"hi"},{name:"Hungarian",code:"hu"},{name:"Indonesian",code:"id"},{name:"Irish",code:"ga"},{name:"Italian",code:"it"},{name:"Japanese",code:"ja"},{name:"Javanese",code:"jv"},{name:"Kannada",code:"kn"},{name:"Kashmiri",code:"ks"},{name:"Kazakh",code:"kk"},{name:"Konkani",code:"kok"},{name:"Korean",code:"ko"},{name:"Kyrgyz",code:"ky"},{name:"Latvian",code:"lv"},{name:"Lithuanian",code:"lt"},{name:"Macedonian",code:"mk"},{name:"Maithili",code:"mai"},{name:"Malay",code:"ms"},{name:"Maltese",code:"mt"},{name:"Marathi",code:"mr"},{name:"Marwari",code:"mwr"},{name:"Min Nan",code:"nan"},{name:"Moldovan",code:"ro-MD"},{name:"Mongolian",code:"mn"},{name:"Montenegrin",code:"sr-ME"},{name:"Nepali",code:"ne"},{name:"Norwegian",code:"no"},{name:"Oriya",code:"or"},{name:"Pashto",code:"ps"},{name:"Persian (Farsi)",code:"fa"},{name:"Polish",code:"pl"},{name:"Portuguese",code:"pt"},{name:"Punjabi",code:"pa"},{name:"Rajasthani",code:"raj"},{name:"Romanian",code:"ro"},{name:"Russian",code:"ru"},{name:"Sanskrit",code:"sa"},{name:"Santali",code:"sat"},{name:"Serbian",code:"sr"},{name:"Sindhi",code:"sd"},{name:"Sinhala",code:"si"},{name:"Slovak",code:"sk"},{name:"Slovene",code:"sl"},{name:"Spanish",code:"es"},{name:"Swedish",code:"sv"},{name:"Thai",code:"th"},{name:"Turkish",code:"tr"},{name:"Ukrainian",code:"uk"},{name:"Urdu",code:"ur"},{name:"Uzbek",code:"uz"},{name:"Vietnamese",code:"vi"},{name:"Welsh",code:"cy"},{name:"Wu",code:"wuu"}]},568799:e=>{"use strict";e.s({default:()=>t});let t=(0,e.i(238959).default)("files",[["path",{d:"M15 2a2 2 0 0 1 1.414.586l4 4A2 2 0 0 1 21 8v7a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z",key:"1vo8kb"}],["path",{d:"M15 2v4a2 2 0 0 0 2 2h4",key:"sud9ri"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]])},684709:e=>{"use strict";e.s({Files:()=>t.default});var t=e.i(568799)},800591:e=>{"use strict";e.s({Breadcrumb:()=>n,BreadcrumbItem:()=>o,BreadcrumbLink:()=>l,BreadcrumbList:()=>s,BreadcrumbSeparator:()=>d});var t=e.i(290479),a=e.i(289702),r=e.i(774009),i=(e.i(109398),e.i(373150));let n=i.forwardRef((e,a)=>{let{...r}=e;return(0,t.jsx)("nav",{ref:a,"aria-label":"breadcrumb",...r})});n.displayName="Breadcrumb";let s=i.forwardRef((e,r)=>{let{className:i,...n}=e;return(0,t.jsx)("ol",{ref:r,className:(0,a.cn)("flex flex-wrap items-center gap-3 break-words text-sm text-text-primary sm:gap-3",i),...n})});s.displayName="BreadcrumbList";let o=i.forwardRef((e,r)=>{let{className:i,...n}=e;return(0,t.jsx)("li",{ref:r,className:(0,a.cn)("inline-flex min-w-0 items-center gap-3 ",i),...n})});o.displayName="BreadcrumbItem";let l=i.forwardRef((e,i)=>{let{asChild:n,className:s,...o}=e,l=n?r.Slot:"a";return(0,t.jsx)(l,{ref:i,className:(0,a.cn)("transition-colors hover:text-text-primary hover:bg-control-primary px-3 py-[3.5px] rounded-4",s),...o})});l.displayName="BreadcrumbLink",i.forwardRef((e,r)=>{let{className:i,...n}=e;return(0,t.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,a.cn)("font-medium text-text-primary",i),...n})}).displayName="BreadcrumbPage";let d=e=>{let{children:r,className:i,...n}=e;return(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,a.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5 text-placeholder font-semibold",i),...n,children:null!=r?r:(0,t.jsx)("span",{children:"/"})})};d.displayName="BreadcrumbSeparator"},846827:e=>{"use strict";e.s({default:()=>s});var t=e.i(290479),a=e.i(373150),r=e.i(555168),i=e.i(289702),n=e.i(959757);let s=e=>{let{onNameChange:s,defaultName:o,setIsEditMode:l,isEditMode:d,className:c}=e,u=(0,n.useForm)({schema:r.z.object({name:r.z.string()}),defaultValues:{name:o}}),m=(0,a.useRef)(null);return(0,a.useEffect)(()=>{u.register("name",{onChange:e=>{s(e.target.value)}})},[u,s]),(0,a.useEffect)(()=>{let e=()=>{let e=m.current;if(e){let t=document.createElement("span");t.style.visibility="hidden",t.style.position="absolute",t.style.fontSize=window.getComputedStyle(e).fontSize,t.style.fontFamily=window.getComputedStyle(e).fontFamily,t.style.fontWeight=window.getComputedStyle(e).fontWeight,t.style.padding=window.getComputedStyle(e).padding,t.innerText=e.value||e.placeholder||"",document.body.appendChild(t);let a=Math.max(80,t.offsetWidth+20);e.style.width="".concat(a,"px"),document.body.removeChild(t)}};e();let t=m.current;if(t)return t.addEventListener("input",e),()=>t.removeEventListener("input",e)},[u.watch("name")]),(0,t.jsx)(n.Form,{...u,children:(0,t.jsx)("form",{className:(0,i.cn)("w-full",d&&"w-[240px] hover:w-[240px]"),onSubmit:u.handleSubmit(e=>{s(""===e.name.trim()?"Untitled":e.name),l(!1)}),children:(0,t.jsx)("input",{autoFocus:!0,ref:m,name:"name",defaultValue:o,onChange:e=>{u.setValue("name",e.target.value),s(e.target.value)},onFocus:()=>l(!0),onBlur:e=>{let t=""===e.target.value.trim()?"Untitled":e.target.value;t!==e.target.value&&s(t),l(!1)},placeholder:"Untitled",className:(0,i.cn)("text-sm focus:outline-none focus:decoration-border max-w-xl bg-transparent placeholder:text-text-secondary hover:bg-control-primary py-[3.5px] rounded-4",c),style:{width:"auto",minWidth:"80px"}})})})}},979578:e=>{"use strict";e.s({default:()=>o});var t=e.i(290479),a=e.i(351580),r=e.i(147271),i=e.i(373150),n=e.i(846827);let s=e=>e.length>28?"".concat(e.slice(0,28),"..."):e,o=e=>{let{breadcrumbItem:o}=e,{name:l,id:d,isIndexed:c,type:u}=o,[m,p]=(0,i.useState)(!1),z="library"===d,{displayedText:b,isTyping:h}=(0,a.default)({text:z?"Library":""===l?"Untitled":l,isEditMode:m,disabled:m,isIndexed:c}),{updateName:g}=(0,r.useUpdateName)(d);return h?(0,t.jsx)("p",{onClick:()=>!z&&p(!0),className:"text-sm px-3 lg:max-w-2xl md:max-w-md truncate w-full",children:"".concat(s(b),"|")}):m?(0,t.jsx)(n.default,{className:"px-3",defaultName:l,isEditMode:m,setIsEditMode:p,onNameChange:e=>{g({name:e,id:d,type:"CHAT"===u?"CHAT":"CHATBOT"})}}):(0,t.jsx)("p",{onClick:()=>!z&&p(!0),className:"text-sm px-3 lg:max-w-2xl md:max-w-md truncate w-full py-[3.5px] rounded-4 ".concat(z?"":"hover:bg-control-primary"),children:s(b)})}},923306:e=>{"use strict";e.s({default:()=>z});var t=e.i(290479),a=e.i(15749),r=e.i(86386),i=e.i(397711),n=e.i(373150),s=e.i(704255),o=e.i(757180),l=e.i(800591),d=e.i(448068),c=e.i(972899),u=e.i(979578),m=e.i(252390);let p=e=>e.length>28?"".concat(e.slice(0,28),"..."):e,z=()=>{let{track:e}=(0,m.default)(),{sidebarOptions:z}=(0,o.default)(),b=(0,i.useParams)(),h=null==b?void 0:b.id,g=(0,n.useMemo)(()=>{if("library"===h)return[{id:"library",name:"Library",type:"WORKSPACE",isIndexed:!0}];if(!(null==z?void 0:z.tree))return[];let e=function(t,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let i of t){let t=[...r,{id:i.id,name:i.name,isIndexed:i.chatbot.isIndexed,type:i.type}];if(i.id===a)return t;if(i.children&&i.children.length>0){let r=e(i.children,a,t);if(r)return r}}return null};return e(z.tree,h)||[]},[h,z]),y=g.length;return 0===y?(0,t.jsx)(l.Breadcrumb,{children:(0,t.jsx)(l.BreadcrumbList,{})}):(0,t.jsx)(l.Breadcrumb,{className:"w-full",children:(0,t.jsxs)(l.BreadcrumbList,{className:"flex flex-nowrap min-w-0",children:[1===y&&(0,t.jsx)(l.BreadcrumbItem,{children:(0,t.jsx)(u.default,{breadcrumbItem:g[0]},g[0].id)}),y>1&&y<=4&&g.map((a,i)=>(0,t.jsxs)(n.Fragment,{children:[(0,t.jsx)(l.BreadcrumbItem,{children:i===y-1?(0,t.jsx)(u.default,{breadcrumbItem:a},a.id):(0,t.jsx)(l.BreadcrumbLink,{asChild:!0,className:"max-w-xs",children:(0,t.jsx)(r.default,{className:"truncate",href:"/b/".concat(a.id),onClick:()=>e("library_breadcrumb_clicked",{id:a.id}),children:p(a.name||"Untitled")})})}),i<y-1&&(0,t.jsx)(l.BreadcrumbSeparator,{})]},a.id)),y>4&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.BreadcrumbItem,{children:(0,t.jsx)(l.BreadcrumbLink,{asChild:!0,className:"max-w-xs truncate",children:(0,t.jsx)(r.default,{href:"/b/".concat(g[0].id),onClick:()=>e("library_breadcrumb_clicked",{id:g[0].id}),children:p(g[0].name||"Untitled")})})}),(0,t.jsx)(l.BreadcrumbSeparator,{}),(0,t.jsx)(l.BreadcrumbItem,{children:(0,t.jsxs)(d.DropdownMenu,{children:[(0,t.jsx)(d.DropdownMenuTrigger,{asChild:!0,className:"flex items-center gap-2",children:(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(c.Icon,{as:a.Ellipsis})})}),(0,t.jsx)(d.DropdownMenuContent,{align:"start",children:g.slice(1,y-1).map(a=>(0,t.jsx)(d.DropdownMenuItem,{asChild:!0,children:(0,t.jsx)(r.default,{href:"/b/".concat(a.id),onClick:()=>e("library_breadcrumb_clicked",{id:a.id}),children:p(a.name||"Untitled")})},a.id))})]})}),(0,t.jsx)(l.BreadcrumbSeparator,{}),(0,t.jsx)(l.BreadcrumbItem,{children:(0,t.jsx)(u.default,{breadcrumbItem:g[y-1]},g[y-1].id)})]})]})})}},826972:e=>{"use strict";e.s({default:()=>t});let t=(0,e.i(238959).default)("panel-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},833894:e=>{"use strict";e.s({PanelRight:()=>t.default});var t=e.i(826972)},992834:e=>{"use strict";e.s({default:()=>x});var t=e.i(290479),a=e.i(923306),r=e.i(885905),i=e.i(658503),n=e.i(913659),s=e.i(227261),o=e.i(814733),l=e.i(739087),d=e.i(986046),c=e.i(139796),u=e.i(833894),m=e.i(519927),p=e.i(373150),z=e.i(704255),b=e.i(450807),h=e.i(185296),g=e.i(932402),y=e.i(972899),f=e.i(91410);let x=()=>{let{showUpgrade:e}=(0,b.useUpgrade)(),{userPlanDetails:x,user:j,isLoggedIn:v}=(0,r.useAuth)(),{setIsMetadataPersisted:w,setIsChatPersisted:I}=(0,n.usePersistedSidebar)(),{showLeftSidebar:T,setShowLeftSidebar:k}=(0,i.useLeftSidebar)(),S=(0,s.useChatbotStore)(e=>e.active),C=(0,s.useChatbotStore)(e=>e.setAll),N=(0,s.useChatbotStore)(e=>e.mode),{data:B,isLoading:E}=o.api.tours.byUser.useQuery(void 0,{enabled:v}),{startTour:A,activeTour:R,tourQueue:M}=(0,h.useTour)(),{onClick:P}=(0,g.useTourTarget)("right-sidebar"),{onClick:U}=(0,g.useTourTarget)("chatbot-button"),L="chatbot"===N.type||(0,s.isLibraryView)(N);return(0,p.useEffect)(()=>{let e;return!("chatbot"===N.type&&"GROUP"===N.chatbotType&&!E&&Array.isArray(B))||M.some(e=>e===l.TourType.LIBRARY_FIRST_VISIT)||R===l.TourType.LIBRARY_FIRST_VISIT||(null==B?void 0:B.some(e=>e.type===l.TourType.LIBRARY_FIRST_VISIT&&e.completed))||(e=setTimeout(()=>{A(l.TourType.LIBRARY_FIRST_VISIT)},1e3)),()=>clearTimeout(e)},[N,E,B,A,R,M]),(0,t.jsxs)("div",{className:"z-10 min-h-[45px] gap-4 px-4 py-4 w-full flex flex-row justify-between items-center border-b border-border-muted bg-background-primary",children:[(0,t.jsxs)("div",{className:"flex items-center gap-0 w-full min-w-0",children:[!T&&(0,t.jsx)(z.Button,{size:"icon",variant:"ghost",onClick:()=>{k(!0)},children:(0,t.jsx)(y.Icon,{as:c.PanelLeft})}),(0,s.isLibraryView)(N)?(0,t.jsx)("div",{className:"text-sm px-3 lg:max-w-2xl md:max-w-md truncate w-full py-[3.5px]",children:"Library"}):(0,t.jsx)(a.default,{})]}),(0,t.jsx)("div",{className:"flex flex-row items-center gap-6 ml-auto flex-1",children:j&&(null==x?void 0:x.planName)==="Free"&&(0,t.jsx)(z.Button,{size:"special",onClick:()=>{e("generic")},children:"Upgrade"})}),(0,t.jsxs)(f.ToggleGroup,{value:S,onValueChange:e=>{C(e)},type:"multiple",children:[L&&(0,t.jsxs)(f.ToggleGroupItem,{className:"text-accent-foreground relative",value:"chat",size:"sm",onClick:()=>{I(S.includes("chat")?"closed":"open"),U()},children:[(0,t.jsx)("div",{id:"chatbot-button",className:"absolute -bottom-2 left-6"}),(0,t.jsx)(y.Icon,{as:d.MessagesSquare,className:"!w-7 !h-7"}),"Chat"]}),(0,t.jsxs)(f.ToggleGroupItem,{className:"text-accent-foreground max-sm:hidden",value:"notes",size:"sm",children:[(0,t.jsx)(y.Icon,{as:m.PencilLine,className:"!w-7 !h-7"}),"Notes"]}),"full-chat-library"!==N.type&&(0,t.jsx)(f.ToggleGroupItem,{className:"text-accent-foreground",size:"sm",id:"right-sidebar",value:"metadata",onClick:()=>{w(S.includes("metadata")?"closed":"open"),P()},children:(0,t.jsx)(y.Icon,{as:u.PanelRight,className:"!w-7 !h-7"})})]})]})}},140324:e=>{"use strict";e.s({hasWorkspaceItemAccess:()=>t});let t=function(e,t,a){var r,i;let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.find(t=>t.id===e);if(!s)return!1;let{isStaff:o=!1,userTeamIds:l=[]}=n;if(o||s.userId===t||s.teamId&&l.includes(s.teamId)||(null==(r=s.shares)?void 0:r.some(e=>e.userId===t&&"ACCEPTED"===e.status)))return!0;let d=a.find(t=>t.id===e);return null!=d&&null!=(i=d.shares)&&!!i.some(e=>e.userId===t&&"ACCEPTED"===e.status)||((e,t)=>{let a=[],r=new Set,i=t.find(t=>t.id===e);for(;(null==i?void 0:i.groupId)&&!r.has(i.groupId);){r.add(i.groupId);let e=t.find(e=>e.id===(null==i?void 0:i.groupId));if(e&&"GROUP"===e.type)a.push(e),i=e;else break}return a})(e,a).some(e=>{var a;return null==(a=e.shares)?void 0:a.some(e=>e.userId===t&&"ACCEPTED"===e.status)})}},620545:e=>{"use strict";e.s({useCheckPermissions:()=>l});var t=e.i(885905),a=e.i(852951),r=e.i(375199),i=e.i(140324),n=e.i(289702),s=e.i(397711),o=e.i(373150);let l=e=>{var l,d,c;let{id:u,chatbot:m}=e,{user:p,userLoading:z}=(0,t.useAuth)(),b=(0,s.useRouter)(),{data:h}=(0,a.useWorkspace)(),g=null==p||null==(l=p.teamsMemberOf)?void 0:l.some(e=>e.teamId===(null==m?void 0:m.teamId)),y=(0,r.isStaffEmail)(null==p?void 0:p.email),f=(null==m?void 0:m.userId)===(null==p?void 0:p.id),x=(0,n.isHelpMenuChat)(u)||f||y||g||(null==m||null==(d=m.shares)?void 0:d.some(e=>e.userId===(null==p?void 0:p.id))),j=null!=h&&!!h.entities&&null!=p&&!!p.id&&(0,i.hasWorkspaceItemAccess)(u,p.id,h.entities,{isStaff:y,userTeamIds:(null==(c=p.teamsMemberOf)?void 0:c.map(e=>e.teamId))||[]}),v=x||j;return(0,o.useEffect)(()=>{!z&&m&&(p||b.push("/login"),!v&&p&&b.push("/new"))},[u,z,v]),{hasPermission:v}}},636759:e=>{"use strict";e.s({ChatbotSyncMode:()=>r});var t=e.i(227261),a=e.i(373150);let r=e=>{let{mode:r}=e,i=(0,t.useChatbotStore)(e=>e.setMode);return(0,a.useEffect)(()=>{i(r)},[r]),null}},826531:e=>{"use strict";e.s({default:()=>z});var t=e.i(290479),a=e.i(663018),r=e.i(992834),i=e.i(724291),n=e.i(885905),s=e.i(852951),o=e.i(252390),l=e.i(227261),d=e.i(397711),c=e.i(373150),u=e.i(525094),m=e.i(620545),p=e.i(636759);let z=e=>{let{id:z}=e,{track:b}=(0,o.default)(),h=(0,d.useRouter)(),g=(0,d.useSearchParams)(),{data:y,isLoading:f}=(0,s.useWorkspace)(),x=(null==g?void 0:g.get("optimistic"))==="true",j=null==g?void 0:g.get("mode"),v=null==g?void 0:g.get("chatbotType"),w="library"===z,I=w?null:null==y?void 0:y.entities.find(e=>e.id===z),{hasPermission:T}=(0,m.useCheckPermissions)({id:w?"library":z,chatbot:I||void 0}),{user:k}=(0,n.useAuth)(),S=(0,c.useMemo)(()=>{var e;if(x&&j){if("full-chat-library"===j)return{type:"full-chat-library"};if("chatbot"===j&&v)return{type:"chatbot",chatbotId:z,chatbotType:v,chatbotName:"New Chat",userId:""}}return w&&(null==k?void 0:k.id)?{type:"full-chat-library",isInLibraryWindow:!0}:(null==I?void 0:I.type)==="CHAT"?{type:"full-chat-library"}:{type:"chatbot",chatbotId:z,chatbotType:null==I?void 0:I.type,chatbotName:null!=(e=null==I?void 0:I.name)?e:"Untitled",userId:null==I?void 0:I.userId}},[I,z,w,x,j,v,null==k?void 0:k.id]);if((0,c.useEffect)(()=>{"chatbot"===S.type&&(null==I?void 0:I.ingestionStatus)==="FAILED"&&(u.toast.error("Failed to import file. Please try again."),h.push("/new"))},[null==I?void 0:I.ingestionStatus,null==I?void 0:I.id,h,S.type]),(0,c.useEffect)(()=>{f||x||(0,l.isLibraryView)(S)||I||!z||h.push("/new")},[f,x,S,I,z,h]),x);else{if(f&&!I&&!w)return(0,t.jsx)("div",{className:"h-full w-full flex justify-center items-center",children:(0,t.jsx)(a.LoadingSpinner,{variant:"screen",color:void 0})});if(!T&&!w)return null}return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l.default.Provider,{initialValue:{track:b,active:(0,l.getDefaults)(S),mode:S},children:[(0,t.jsx)(p.ChatbotSyncMode,{mode:S}),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)(r.default,{}),(0,t.jsx)(i.default,{})]})]})})}}}]);

//# sourceMappingURL=49f74b9dc90e8b99.js.map