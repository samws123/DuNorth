(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{383074:e=>{"use strict";var t;e.s({LiveTranscriptionEvents:()=>t}),function(e){e.Open="open",e.Close="close",e.Error="error",e.Transcript="Results",e.Metadata="Metadata",e.UtteranceEnd="UtteranceEnd",e.SpeechStarted="SpeechStarted",e.Unhandled="Unhandled"}(t||(t={}))},869524:e=>{"use strict";var{m:t,e:r}=e,n=function(e){var t,r,n;return!!(t=e)&&"object"==typeof t&&(r=e,"[object RegExp]"!==(n=Object.prototype.toString.call(r))&&"[object Date]"!==n&&r.$$typeof!==s)},s="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u(Array.isArray(e)?[]:{},e,t):e}function o(e,t,r){return e.concat(t).map(function(e){return i(e,r)})}function a(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function l(e,t){try{return t in e}catch(e){return!1}}function u(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||o,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=i;var s,c,h=Array.isArray(t);return h!==Array.isArray(e)?i(t,r):h?r.arrayMerge(e,t,r):(c={},(s=r).isMergeableObject(e)&&a(e).forEach(function(t){c[t]=i(e[t],s)}),a(t).forEach(function(r){l(e,r)&&!(Object.hasOwnProperty.call(e,r)&&Object.propertyIsEnumerable.call(e,r))||(l(e,r)&&s.isMergeableObject(t[r])?c[r]=(function(e,t){if(!t.customMerge)return u;var r=t.customMerge(e);return"function"==typeof r?r:u})(r,s)(e[r],t[r],s):c[r]=i(t[r],s))}),c)}u.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return u(e,r,t)},{})},t.exports=u},432175:e=>{"use strict";e.s({appendSearchParams:()=>s,applyDefaults:()=>n,convertLegacyOptions:()=>d,convertProtocolToWs:()=>h,isFileSource:()=>l,isTextSource:()=>a,isUrlSource:()=>o,resolveHeadersConstructor:()=>i});var t=e.i(218111),r=e.i(869524);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.default)(t,e)}function s(e,t){Object.keys(t).forEach(r=>{Array.isArray(t[r])?t[r].forEach(t=>{e.append(r,String(t))}):e.append(r,String(t[r]))})}let i=()=>"undefined"==typeof Headers?t.Headers:Headers,o=e=>!!e.url,a=e=>!!e.text,l=e=>!!(c(e)||u(e)),u=e=>!!e,c=e=>!!e;URL;let h=e=>e.toLowerCase().replace(/^http/,"ws"),d=e=>{var t,n,s,i,o,a;let l={};return e._experimentalCustomFetch&&(l.global={fetch:{client:e._experimentalCustomFetch}}),(null==(t=(e=(0,r.default)(e,l)).restProxy)?void 0:t.url)&&(l.global={fetch:{options:{proxy:{url:null==(n=e.restProxy)?void 0:n.url}}}}),(null==(s=(e=(0,r.default)(e,l)).global)?void 0:s.url)&&(l.global={fetch:{options:{url:e.global.url}},websocket:{options:{url:e.global.url}}}),(null==(i=(e=(0,r.default)(e,l)).global)?void 0:i.headers)&&(l.global={fetch:{options:{headers:null==(o=e.global)?void 0:o.headers}},websocket:{options:{_nodeOnlyHeaders:null==(a=e.global)?void 0:a.headers}}}),e=(0,r.default)(e,l)}},642676:e=>{"use strict";e.s({BROWSER_AGENT:()=>s,BUN_VERSION:()=>n,NODE_VERSION:()=>r,isBrowser:()=>i,isBun:()=>a,isNode:()=>o});var t=e.i(227541);let r=void 0!==t.default&&t.default.versions&&t.default.versions.node?t.default.versions.node:"unknown",n=void 0!==t.default&&t.default.versions&&t.default.versions.bun?t.default.versions.bun:"unknown",s="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown",i=()=>"unknown"!==s,o=()=>"unknown"!==r,a=()=>"unknown"!==n},519344:e=>{"use strict";e.s({version:()=>t});let t="3.13.0"},678275:e=>{"use strict";e.s({CONNECTION_STATE:()=>r,DEFAULT_AGENT_URL:()=>l,DEFAULT_OPTIONS:()=>u,DEFAULT_URL:()=>a,SOCKET_STATES:()=>t});var t,r,n=e.i(432175),s=e.i(642676),i=e.i(519344);let o={"Content-Type":"application/json","X-Client-Info":"@deepgram/sdk; ".concat((0,s.isBrowser)()?"browser":"server","; v").concat(i.version),"User-Agent":"@deepgram/sdk/".concat(i.version," ").concat((0,s.isNode)()?"node/".concat(s.NODE_VERSION):(0,s.isBun)()?"bun/".concat(s.BUN_VERSION):(0,s.isBrowser)()?"javascript ".concat(s.BROWSER_AGENT):"unknown")},a="https://api.deepgram.com",l="wss://agent.deepgram.com",u={global:{fetch:{options:{url:a,headers:o}},websocket:{options:{url:(0,n.convertProtocolToWs)(a),_nodeOnlyHeaders:o}}},agent:{fetch:{options:{url:a,headers:o}},websocket:{options:{url:l,_nodeOnlyHeaders:o}}}};!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(t||(t={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(r||(r={}))},757236:e=>{"use strict";e.s({DeepgramApiError:()=>n,DeepgramError:()=>t,DeepgramUnknownError:()=>s,DeepgramVersionError:()=>i,isDeepgramError:()=>r});class t extends Error{constructor(e){super(e),this.__dgError=!0,this.name="DeepgramError"}}function r(e){return"object"==typeof e&&null!==e&&"__dgError"in e}class n extends t{toJSON(){return{name:this.name,message:this.message,status:this.status}}constructor(e,t){super(e),this.name="DeepgramApiError",this.status=t}}class s extends t{constructor(e,t){super(e),this.name="DeepgramUnknownError",this.originalError=t}}class i extends t{constructor(){super("You are attempting to use an old format for a newer SDK version. Read more here: https://dpgr.am/js-v3"),this.name="DeepgramVersionError"}}},345113:e=>{"use strict";e.s({AbstractClient:()=>a,noop:()=>o});var t=e.i(227541),r=e.i(216485),n=e.i(678275),s=e.i(757236),i=e.i(432175);let o=()=>{};class a extends r.EventEmitter{v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"v1";return this.version=e,this}get namespaceOptions(){return Object.assign(Object.assign({},(0,i.applyDefaults)(this.options[this.namespace],this.options.global)),{key:this.key})}getRequestUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{version:this.version},r=arguments.length>2?arguments[2]:void 0;t.version=this.version;let n=new URL(e=e.replace(/:(\w+)/g,function(e,r){return t[r]}),this.baseUrl);return r&&(0,i.appendSearchParams)(n.searchParams,r),n}log(e,t,r){this.logger(e,t,r)}constructor(e){let r;if(super(),this.factory=void 0,this.namespace="global",this.version="v1",this.baseUrl=n.DEFAULT_URL,this.logger=o,"function"==typeof e.key?(this.factory=e.key,r=this.factory()):r=e.key,r||(r=t.default.env.DEEPGRAM_API_KEY),!r)throw new s.DeepgramError("A deepgram API key is required.");this.key=r,e=(0,i.convertLegacyOptions)(e),this.options=(0,i.applyDefaults)(e,n.DEFAULT_OPTIONS)}}},598411:e=>{"use strict";var t;e.s({AgentEvents:()=>t}),function(e){e.Open="Open",e.Close="Close",e.Error="Error",e.Audio="Audio",e.Welcome="Welcome",e.SettingsApplied="SettingsApplied",e.ConversationText="ConversationText",e.UserStartedSpeaking="UserStartedSpeaking",e.AgentThinking="AgentThinking",e.FunctionCallRequest="FunctionCallRequest",e.AgentStartedSpeaking="AgentStartedSpeaking",e.AgentAudioDone="AgentAudioDone",e.InjectionRefused="InjectionRefused",e.PromptUpdated="PromptUpdated",e.SpeakUpdated="SpeakUpdated",e.Unhandled="Unhandled"}(t||(t={}))},344877:e=>{"use strict";e.s({AbstractLiveClient:()=>i});var t=e.i(345113),r=e.i(678275),n=e.i(642676);let s="undefined"!=typeof WebSocket;class i extends t.AbstractClient{connect(t,r){var i=this;if(this.conn)return;this.reconnect=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;i.connect(e,r)};let a=this.getRequestUrl(r,{},t);if(this.transport){this.conn=new this.transport(a,void 0,{headers:this.headers});return}if((0,n.isBun)())return void e.r(48348)(e.i).then(e=>{let{default:t}=e;this.conn=new t(a,{headers:this.headers}),console.log("Using WS package"),this.setupConnection()});if(s){this.conn=new WebSocket(a,["token",this.namespaceOptions.key]),this.setupConnection();return}this.conn=new o(a,void 0,{close:()=>{this.conn=null}}),e.r(48348)(e.i).then(e=>{let{default:t}=e;this.conn=new t(a,void 0,{headers:this.headers}),this.setupConnection()})}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null)}connectionState(){switch(this.conn&&this.conn.readyState){case r.SOCKET_STATES.connecting:return r.CONNECTION_STATE.Connecting;case r.SOCKET_STATES.open:return r.CONNECTION_STATE.Open;case r.SOCKET_STATES.closing:return r.CONNECTION_STATE.Closing;default:return r.CONNECTION_STATE.Closed}}getReadyState(){var e,t;return null!=(t=null==(e=this.conn)?void 0:e.readyState)?t:r.SOCKET_STATES.closed}isConnected(){return this.connectionState()===r.CONNECTION_STATE.Open}send(e){let t=()=>{var t,r,n,s;return t=this,r=void 0,n=void 0,s=function*(){var t;if(e instanceof Blob){if(0===e.size)return void this.log("warn","skipping `send` for zero-byte blob",e);e=yield e.arrayBuffer()}if("string"!=typeof e&&!(null==e?void 0:e.byteLength))return void this.log("warn","skipping `send` for zero-byte payload",e);null==(t=this.conn)||t.send(e)},new(n||(n=Promise))(function(e,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(o,a)}l((s=s.apply(t,r||[])).next())})};this.isConnected()?t():this.sendBuffer.push(t)}get proxy(){var e;return"proxy"===this.key&&!!(null==(e=this.namespaceOptions.websocket.options.proxy)?void 0:e.url)}constructor(e){super(e),this.conn=null,this.sendBuffer=[],this.reconnect=t.noop;let{key:r,websocket:{options:n,client:s}}=this.namespaceOptions;this.proxy?this.baseUrl=n.proxy.url:this.baseUrl=n.url,s?this.transport=s:this.transport=null,n._nodeOnlyHeaders?this.headers=n._nodeOnlyHeaders:this.headers={},"Authorization"in this.headers||(this.headers.Authorization="Token ".concat(r))}}class o{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=r.SOCKET_STATES.connecting,this.send=()=>{},this.url=null,this.url=e.toString(),this.close=n.close}}},341954:e=>{"use strict";e.s({AgentLiveClient:()=>o});var t=e.i(781635),r=e.i(678275),n=e.i(598411),s=e.i(757236),i=e.i(344877);class o extends i.AbstractLiveClient{setupConnection(){this.conn&&(this.conn.onopen=()=>{this.emit(n.AgentEvents.Open,this)},this.conn.onclose=e=>{this.emit(n.AgentEvents.Close,e)},this.conn.onerror=e=>{this.emit(n.AgentEvents.Error,e)},this.conn.onmessage=e=>{this.handleMessage(e)})}handleMessage(e){if("string"==typeof e.data)try{let t=JSON.parse(e.data);this.handleTextMessage(t)}catch(t){this.emit(n.AgentEvents.Error,{event:e,data:e.data,message:"Unable to parse `data` as JSON.",error:t})}else e.data instanceof Blob?e.data.arrayBuffer().then(e=>{this.handleBinaryMessage(t.Buffer.from(e))}):e.data instanceof ArrayBuffer?this.handleBinaryMessage(t.Buffer.from(e.data)):t.Buffer.isBuffer(e.data)?this.handleBinaryMessage(e.data):(console.log("Received unknown data type",e.data),this.emit(n.AgentEvents.Error,{event:e,message:"Received unknown data type."}))}handleBinaryMessage(e){this.emit(n.AgentEvents.Audio,e)}handleTextMessage(e){e.type in n.AgentEvents?this.emit(e.type,e):this.emit(n.AgentEvents.Unhandled,e)}configure(e){var t,r,n;if(!(null==(t=e.agent.listen)?void 0:t.provider.model.startsWith("nova-3"))&&(null==(n=null==(r=e.agent.listen)?void 0:r.provider.keyterms)?void 0:n.length))throw new s.DeepgramError("Keyterms are only supported with the Nova 3 models.");let i=JSON.stringify(Object.assign({type:"Settings"},e));this.send(i)}updatePrompt(e){this.send(JSON.stringify({type:"UpdatePrompt",prompt:e}))}updateSpeak(e){this.send(JSON.stringify({type:"UpdateSpeak",speak:e}))}injectAgentMessage(e){this.send(JSON.stringify({type:"InjectAgentMessage",content:e}))}functionCallResponse(e){this.send(JSON.stringify(Object.assign({type:"FunctionCallResponse"},e)))}keepAlive(){this.send(JSON.stringify({type:"KeepAlive"}))}constructor(e,t="/:version/agent/converse"){var n,s,i,o;super(e),this.namespace="agent",this.baseUrl=null!=(o=null==(i=null==(s=null==(n=e.agent)?void 0:n.websocket)?void 0:s.options)?void 0:i.url)?o:r.DEFAULT_AGENT_URL,this.connect({},t)}}},734269:e=>{"use strict";e.s({fetchWithAuth:()=>s,resolveResponse:()=>i});var t=e.i(432175),r=e.i(218111),n=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let s=(e,s)=>{let i=(e=>{let t;return t=e||("undefined"==typeof fetch?r.default:fetch),function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t(...r)}})(s),o=(0,t.resolveHeadersConstructor)();return(t,r)=>n(void 0,void 0,void 0,function*(){let n=new o(null==r?void 0:r.headers);return n.has("Authorization")||n.set("Authorization","Token ".concat(e)),i(t,Object.assign(Object.assign({},r),{headers:n}))})},i=()=>n(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield e.r(560454)(e.i)).Response:Response})},254703:e=>{"use strict";e.s({AbstractRestClient:()=>a});var t=e.i(757236),r=e.i(734269),n=e.i(345113),s=e.i(642676),i=e.i(869524),o=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class a extends n.AbstractClient{_getErrorMessage(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)}_handleError(e,n){return o(this,void 0,void 0,function*(){e instanceof(yield(0,r.resolveResponse)())?e.json().then(r=>{n(new t.DeepgramApiError(this._getErrorMessage(r),e.status||500))}).catch(e=>{n(new t.DeepgramUnknownError(this._getErrorMessage(e),e))}):n(new t.DeepgramUnknownError(this._getErrorMessage(e),e))})}_getRequestOptions(e,t,r){let n={method:e};return n="GET"===e||"DELETE"===e?Object.assign(Object.assign({},n),t):Object.assign(Object.assign({duplex:"half",body:t},n),r),(0,i.default)(this.namespaceOptions.fetch.options,n,{clone:!1})}_handleRequest(e,t,r,n){return o(this,void 0,void 0,function*(){return new Promise((s,i)=>{(0,this.fetch)(t,this._getRequestOptions(e,r,n)).then(e=>{if(!e.ok)throw e;s(e)}).catch(e=>this._handleError(e,i))})})}get(e,t){return o(this,void 0,void 0,function*(){return this._handleRequest("GET",e,t)})}post(e,t,r){return o(this,void 0,void 0,function*(){return this._handleRequest("POST",e,t,r)})}put(e,t,r){return o(this,void 0,void 0,function*(){return this._handleRequest("PUT",e,t,r)})}patch(e,t,r){return o(this,void 0,void 0,function*(){return this._handleRequest("PATCH",e,t,r)})}delete(e,t){return o(this,void 0,void 0,function*(){return this._handleRequest("DELETE",e,t)})}get proxy(){var e;return"proxy"===this.key&&!!(null==(e=this.namespaceOptions.fetch.options.proxy)?void 0:e.url)}constructor(e){if(super(e),(0,s.isBrowser)()&&!this.proxy)throw new t.DeepgramError("Due to CORS we are unable to support REST-based API calls to our API from the browser. Please consider using a proxy: https://dpgr.am/js-proxy for more information.");this.fetch=(0,r.fetchWithAuth)(this.key,this.namespaceOptions.fetch.client),this.proxy?this.baseUrl=this.namespaceOptions.fetch.options.proxy.url:this.baseUrl=this.namespaceOptions.fetch.options.url}}},408963:e=>{"use strict";e.s({AuthRestClient:()=>n});var t=e.i(757236),r=e.i(254703);class n extends r.AbstractRestClient{grantToken(){var e,r,n,s;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":version/auth/grant";return e=this,r=void 0,n=void 0,s=function*(){try{let e=this.getRequestUrl(i);return{result:yield this.post(e,"").then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}},new(n||(n=Promise))(function(t,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var r;e.done?t(e.value):((r=e.value)instanceof n?r:new n(function(e){e(r)})).then(o,a)}l((s=s.apply(e,r||[])).next())})}constructor(){super(...arguments),this.namespace="auth"}}},868:e=>{"use strict";e.s({ListenLiveClient:()=>s});var t=e.i(344877),r=e.i(383074),n=e.i(757236);class s extends t.AbstractLiveClient{setupConnection(){this.conn&&(this.conn.onopen=()=>{this.emit(r.LiveTranscriptionEvents.Open,this)},this.conn.onclose=e=>{this.emit(r.LiveTranscriptionEvents.Close,e)},this.conn.onerror=e=>{this.emit(r.LiveTranscriptionEvents.Error,e)},this.conn.onmessage=e=>{try{let t=JSON.parse(e.data.toString());t.type===r.LiveTranscriptionEvents.Metadata?this.emit(r.LiveTranscriptionEvents.Metadata,t):t.type===r.LiveTranscriptionEvents.Transcript?this.emit(r.LiveTranscriptionEvents.Transcript,t):t.type===r.LiveTranscriptionEvents.UtteranceEnd?this.emit(r.LiveTranscriptionEvents.UtteranceEnd,t):t.type===r.LiveTranscriptionEvents.SpeechStarted?this.emit(r.LiveTranscriptionEvents.SpeechStarted,t):this.emit(r.LiveTranscriptionEvents.Unhandled,t)}catch(t){this.emit(r.LiveTranscriptionEvents.Error,{event:e,message:"Unable to parse `data` as JSON.",error:t})}})}configure(e){this.send(JSON.stringify({type:"Configure",processors:e}))}keepAlive(){this.send(JSON.stringify({type:"KeepAlive"}))}finalize(){this.send(JSON.stringify({type:"Finalize"}))}finish(){this.requestClose()}requestClose(){this.send(JSON.stringify({type:"CloseStream"}))}constructor(e,t={},r=":version/listen"){var s,i;if(super(e),this.namespace="listen",(null==(s=t.keyterm)?void 0:s.length)&&!(null==(i=t.model)?void 0:i.startsWith("nova-3")))throw new n.DeepgramError("Keyterms are only supported with the Nova 3 models.");this.connect(t,r)}}},935372:e=>{"use strict";e.s({ListenRestClient:()=>i});var t=e.i(432175),r=e.i(757236),n=e.i(254703),s=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class i extends n.AbstractRestClient{transcribeUrl(e,n){var i,o;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/listen";return s(this,void 0,void 0,function*(){try{let s;if((0,t.isUrlSource)(e))s=JSON.stringify(e);else throw new r.DeepgramError("Unknown transcription source type");if(void 0!==n&&"callback"in n)throw new r.DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");if((null==(i=null==n?void 0:n.keyterm)?void 0:i.length)&&!(null==(o=n.model)?void 0:o.startsWith("nova-3")))throw new r.DeepgramError("Keyterms are only supported with the Nova 3 models.");let l=this.getRequestUrl(a,{},Object.assign({},n));return{result:yield this.post(l,s).then(e=>e.json()),error:null}}catch(e){if((0,r.isDeepgramError)(e))return{result:null,error:e};throw e}})}transcribeFile(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/listen";return s(this,void 0,void 0,function*(){try{let s;if((0,t.isFileSource)(e))s=e;else throw new r.DeepgramError("Unknown transcription source type");if(void 0!==n&&"callback"in n)throw new r.DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `transcribeUrlCallback` or `transcribeFileCallback` instead.");let o=this.getRequestUrl(i,{},Object.assign({},n));return{result:yield this.post(o,s,{headers:{"Content-Type":"deepgram/audio+video"}}).then(e=>e.json()),error:null}}catch(e){if((0,r.isDeepgramError)(e))return{result:null,error:e};throw e}})}transcribeUrlCallback(e,n,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":version/listen";return s(this,void 0,void 0,function*(){try{let s;if((0,t.isUrlSource)(e))s=JSON.stringify(e);else throw new r.DeepgramError("Unknown transcription source type");let a=this.getRequestUrl(o,{},Object.assign(Object.assign({},i),{callback:n.toString()}));return{result:yield this.post(a,s).then(e=>e.json()),error:null}}catch(e){if((0,r.isDeepgramError)(e))return{result:null,error:e};throw e}})}transcribeFileCallback(e,n,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":version/listen";return s(this,void 0,void 0,function*(){try{let s;if((0,t.isFileSource)(e))s=e;else throw new r.DeepgramError("Unknown transcription source type");let a=this.getRequestUrl(o,{},Object.assign(Object.assign({},i),{callback:n.toString()}));return{result:yield this.post(a,s,{headers:{"Content-Type":"deepgram/audio+video"}}).then(e=>e.json()),error:null}}catch(e){if((0,r.isDeepgramError)(e))return{result:null,error:e};throw e}})}constructor(){super(...arguments),this.namespace="listen"}}},87478:e=>{"use strict";e.s({ListenClient:()=>s});var t=e.i(345113),r=e.i(868),n=e.i(935372);class s extends t.AbstractClient{get prerecorded(){return new n.ListenRestClient(this.options)}live(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/listen";return new r.ListenLiveClient(this.options,e,t)}constructor(){super(...arguments),this.namespace="listen"}}},996232:e=>{"use strict";e.s({ManageClient:()=>s});var t=e.i(757236),r=e.i(254703),n=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class s extends r.AbstractRestClient{getTokenDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":version/auth/token";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(e);return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjects(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":version/projects";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(e);return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProject(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/projects/:projectId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{projectId:e});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}updateProject(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e},r),n=JSON.stringify(r);return{result:yield this.patch(t,n).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}deleteProject(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/projects/:projectId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{projectId:e});return yield this.delete(t),{error:null}}catch(e){if((0,t.isDeepgramError)(e))return{error:e};throw e}})}getProjectKeys(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/projects/:projectId/keys";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{projectId:e});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjectKey(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/keys/:keyId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,keyId:r});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}createProjectKey(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/keys";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e},r),n=JSON.stringify(r);return{result:yield this.post(t,n).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}deleteProjectKey(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/keys/:keyId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,keyId:r});return yield this.delete(t),{error:null}}catch(e){if((0,t.isDeepgramError)(e))return{error:e};throw e}})}getProjectMembers(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/projects/:projectId/members";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{projectId:e});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}removeProjectMember(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/members/:memberId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,memberId:r});return yield this.delete(t),{error:null}}catch(e){if((0,t.isDeepgramError)(e))return{error:e};throw e}})}getProjectMemberScopes(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/members/:memberId/scopes";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,memberId:r});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}updateProjectMemberScope(e,r,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":version/projects/:projectId/members/:memberId/scopes";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(i,{projectId:e,memberId:r},s),n=JSON.stringify(s);return{result:yield this.put(t,n).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjectInvites(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/projects/:projectId/invites";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{projectId:e});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}sendProjectInvite(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/invites";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e},r),n=JSON.stringify(r);return{result:yield this.post(t,n).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}deleteProjectInvite(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/invites/:email";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,email:r});return yield this.delete(t).then(e=>e.json()),{error:null}}catch(e){if((0,t.isDeepgramError)(e))return{error:e};throw e}})}leaveProject(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/projects/:projectId/leave";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{projectId:e});return{result:yield this.delete(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjectUsageRequests(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/requests";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e},r);return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjectUsageRequest(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/requests/:requestId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,requestId:r});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjectUsageSummary(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/usage";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e},r);return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjectUsageFields(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/usage/fields";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e},r);return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjectBalances(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/projects/:projectId/balances";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{projectId:e});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getProjectBalance(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/balances/:balanceId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,balanceId:r});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getAllModels(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/models";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e},r);return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getModel(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/models/:modelId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,modelId:r});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}constructor(){super(...arguments),this.namespace="manage"}}},633182:e=>{"use strict";e.s({ReadClient:()=>i});var t=e.i(432175),r=e.i(757236),n=e.i(254703),s=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class i extends n.AbstractRestClient{analyzeUrl(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/read";return s(this,void 0,void 0,function*(){try{let s;if((0,t.isUrlSource)(e))s=JSON.stringify(e);else throw new r.DeepgramError("Unknown source type");if(void 0!==n&&"callback"in n)throw new r.DeepgramError("Callback cannot be provided as an option to a synchronous transcription. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");let o=this.getRequestUrl(i,{},Object.assign({},n));return{result:yield this.post(o,s).then(e=>e.json()),error:null}}catch(e){if((0,r.isDeepgramError)(e))return{result:null,error:e};throw e}})}analyzeText(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/read";return s(this,void 0,void 0,function*(){try{let s;if((0,t.isTextSource)(e))s=JSON.stringify(e);else throw new r.DeepgramError("Unknown source type");if(void 0!==n&&"callback"in n)throw new r.DeepgramError("Callback cannot be provided as an option to a synchronous requests. Use `analyzeUrlCallback` or `analyzeTextCallback` instead.");let o=this.getRequestUrl(i,{},Object.assign({},n));return{result:yield this.post(o,s).then(e=>e.json()),error:null}}catch(e){if((0,r.isDeepgramError)(e))return{result:null,error:e};throw e}})}analyzeUrlCallback(e,n,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":version/read";return s(this,void 0,void 0,function*(){try{let s;if((0,t.isUrlSource)(e))s=JSON.stringify(e);else throw new r.DeepgramError("Unknown source type");let a=this.getRequestUrl(o,{},Object.assign(Object.assign({},i),{callback:n.toString()}));return{result:yield this.post(a,s).then(e=>e.json()),error:null}}catch(e){if((0,r.isDeepgramError)(e))return{result:null,error:e};throw e}})}analyzeTextCallback(e,n,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":version/read";return s(this,void 0,void 0,function*(){try{let s;if((0,t.isTextSource)(e))s=JSON.stringify(e);else throw new r.DeepgramError("Unknown source type");let a=this.getRequestUrl(o,{},Object.assign(Object.assign({},i),{callback:n.toString()}));return{result:yield this.post(a,s,{headers:{"Content-Type":"deepgram/audio+video"}}).then(e=>e.json()),error:null}}catch(e){if((0,r.isDeepgramError)(e))return{result:null,error:e};throw e}})}constructor(){super(...arguments),this.namespace="read"}}},293449:e=>{"use strict";e.s({SelfHostedRestClient:()=>s});var t=e.i(757236),r=e.i(254703),n=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class s extends r.AbstractRestClient{listCredentials(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/projects/:projectId/onprem/distribution/credentials";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{projectId:e});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getCredentials(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/onprem/distribution/credentials/:credentialsId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,credentialsId:r});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}createCredentials(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/onprem/distribution/credentials";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e}),n=JSON.stringify(r);return{result:yield this.post(t,n).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}deleteCredentials(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/projects/:projectId/onprem/distribution/credentials/:credentialsId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(s,{projectId:e,credentialsId:r});return{result:yield this.delete(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}constructor(){super(...arguments),this.namespace="selfhosted"}}},461237:e=>{"use strict";var t;e.s({LiveTTSEvents:()=>t}),function(e){e.Open="Open",e.Close="Close",e.Error="Error",e.Metadata="Metadata",e.Flushed="Flushed",e.Warning="Warning",e.Audio="Audio",e.Unhandled="Unhandled"}(t||(t={}))},102268:e=>{"use strict";e.s({SpeakLiveClient:()=>s});var t=e.i(781635),r=e.i(344877),n=e.i(461237);class s extends r.AbstractLiveClient{setupConnection(){this.conn&&(this.conn.onopen=()=>{this.emit(n.LiveTTSEvents.Open,this)},this.conn.onclose=e=>{this.emit(n.LiveTTSEvents.Close,e)},this.conn.onerror=e=>{this.emit(n.LiveTTSEvents.Error,e)},this.conn.onmessage=e=>{this.handleMessage(e)})}handleTextMessage(e){e.type===n.LiveTTSEvents.Metadata?this.emit(n.LiveTTSEvents.Metadata,e):e.type===n.LiveTTSEvents.Flushed?this.emit(n.LiveTTSEvents.Flushed,e):e.type===n.LiveTTSEvents.Warning?this.emit(n.LiveTTSEvents.Warning,e):this.emit(n.LiveTTSEvents.Unhandled,e)}handleBinaryMessage(e){this.emit(n.LiveTTSEvents.Audio,e)}sendText(e){this.send(JSON.stringify({type:"Speak",text:e}))}flush(){this.send(JSON.stringify({type:"Flush"}))}clear(){this.send(JSON.stringify({type:"Clear"}))}requestClose(){this.send(JSON.stringify({type:"Close"}))}handleMessage(e){if("string"==typeof e.data)try{let t=JSON.parse(e.data);this.handleTextMessage(t)}catch(t){this.emit(n.LiveTTSEvents.Error,{event:e,message:"Unable to parse `data` as JSON.",error:t})}else e.data instanceof Blob?e.data.arrayBuffer().then(e=>{this.handleBinaryMessage(t.Buffer.from(e))}):e.data instanceof ArrayBuffer?this.handleBinaryMessage(t.Buffer.from(e.data)):t.Buffer.isBuffer(e.data)?this.handleBinaryMessage(e.data):(console.log("Received unknown data type",e.data),this.emit(n.LiveTTSEvents.Error,{event:e,message:"Received unknown data type."}))}constructor(e,t={},r=":version/speak"){super(e),this.namespace="speak",this.connect(t,r)}}},267615:e=>{"use strict";e.s({SpeakRestClient:()=>i});var t=e.i(757236),r=e.i(432175),n=e.i(254703),s=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class i extends n.AbstractRestClient{request(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/speak";return s(this,void 0,void 0,function*(){let s;if((0,r.isTextSource)(e))s=JSON.stringify(e);else throw new t.DeepgramError("Unknown transcription source type");let o=this.getRequestUrl(i,{},Object.assign({model:"aura-asteria-en"},n));return this.result=yield this.post(o,s,{headers:{Accept:"audio/*","Content-Type":"application/json"}}),this})}getStream(){return s(this,void 0,void 0,function*(){if(!this.result)throw new t.DeepgramUnknownError("Tried to get stream before making request","");return this.result.body})}getHeaders(){return s(this,void 0,void 0,function*(){if(!this.result)throw new t.DeepgramUnknownError("Tried to get headers before making request","");return this.result.headers})}constructor(){super(...arguments),this.namespace="speak"}}},735237:e=>{"use strict";e.s({SpeakClient:()=>s});var t=e.i(345113),r=e.i(102268),n=e.i(267615);class s extends t.AbstractClient{request(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":version/speak";return new n.SpeakRestClient(this.options).request(e,t,r)}live(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/speak";return new r.SpeakLiveClient(this.options,e,t)}constructor(){super(...arguments),this.namespace="speak"}}},745829:e=>{"use strict";e.s({ModelsRestClient:()=>s});var t=e.i(757236),r=e.i(254703),n=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class s extends r.AbstractRestClient{getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":version/models",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(e,{},r);return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}getModel(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":version/models/:modelId";return n(this,void 0,void 0,function*(){try{let t=this.getRequestUrl(r,{modelId:e});return{result:yield this.get(t).then(e=>e.json()),error:null}}catch(e){if((0,t.isDeepgramError)(e))return{result:null,error:e};throw e}})}constructor(){super(...arguments),this.namespace="models"}}},629049:e=>{"use strict";e.s({default:()=>h});var t=e.i(757236),r=e.i(345113),n=e.i(341954),s=e.i(408963),i=e.i(87478),o=e.i(996232),a=e.i(633182),l=e.i(293449),u=e.i(735237),c=e.i(745829);class h extends r.AbstractClient{get auth(){return new s.AuthRestClient(this.options)}get listen(){return new i.ListenClient(this.options)}get manage(){return new o.ManageClient(this.options)}get models(){return new c.ModelsRestClient(this.options)}get onprem(){return this.selfhosted}get selfhosted(){return new l.SelfHostedRestClient(this.options)}get read(){return new a.ReadClient(this.options)}get speak(){return new u.SpeakClient(this.options)}agent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/:version/agent/converse";return new n.AgentLiveClient(this.options,e)}get transcription(){throw new t.DeepgramVersionError}get projects(){throw new t.DeepgramVersionError}get keys(){throw new t.DeepgramVersionError}get members(){throw new t.DeepgramVersionError}get scopes(){throw new t.DeepgramVersionError}get invitation(){throw new t.DeepgramVersionError}get usage(){throw new t.DeepgramVersionError}get billing(){throw new t.DeepgramVersionError}}},215421:e=>{"use strict";e.s({createClient:()=>r}),e.i(757236);var t=e.i(629049);function r(e,r){let n={};return"string"==typeof e||"function"==typeof e?("object"==typeof r&&(n=r),n.key=e):"object"==typeof e&&(n=e),new t.default(n)}},402495:e=>{"use strict";e.s({DeepgramContextProvider:()=>l,useDeepgram:()=>u});var t=e.i(290479),r=e.i(383074),n=e.i(678275),s=e.i(215421),i=e.i(373150);let o=(0,i.createContext)(void 0),a=async()=>{let e=await fetch("/api/authenticate",{cache:"no-store"});return(await e.json()).key},l=e=>{let{children:l,initialSegments:u=[],intialAudioBlobs:c=[]}=e,[h,d]=(0,i.useState)(null),[p,g]=(0,i.useState)(n.SOCKET_STATES.closed),[v,f]=(0,i.useState)(c),[y,m]=(0,i.useState)(u),E=async(e,t)=>{let i=await a(),o=(0,s.createClient)(i).listen.live(e,t);o.addListener(r.LiveTranscriptionEvents.Open,()=>{g(n.SOCKET_STATES.open)}),o.addListener(r.LiveTranscriptionEvents.Close,()=>{g(n.SOCKET_STATES.closed)}),d(o)},w=async()=>{h&&(h.finish(),d(null))};return(0,t.jsx)(o.Provider,{value:{connection:h,connectToDeepgram:E,disconnectFromDeepgram:w,connectionState:p,audioBlobs:v,addAudioBlob:e=>{f(t=>[...t,e])},segments:y,addSegments:e=>{m(t=>{let r=[...t];for(let t of e){let e=r.findIndex(e=>e.start===t.start);-1!==e?r[e]=t:r.push(t)}return r})}},children:l})};function u(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useDeepgram must be used within a DeepgramContextProvider");return e}},411082:e=>{"use strict";e.s({}),e.i(290479),e.i(373150),e.i(402495)},284112:e=>{"use strict";e.s({MicrophoneContextProvider:()=>o,MicrophoneEvents:()=>n,MicrophoneState:()=>s,useMicrophone:()=>a});var t=e.i(290479),r=e.i(373150),n=function(e){return e.DataAvailable="dataavailable",e.Error="error",e.Pause="pause",e.Resume="resume",e.Start="start",e.Stop="stop",e}({}),s=function(e){return e[e.NotSetup=-1]="NotSetup",e[e.SettingUp=0]="SettingUp",e[e.Ready=1]="Ready",e[e.Opening=2]="Opening",e[e.Open=3]="Open",e[e.Error=4]="Error",e[e.Pausing=5]="Pausing",e[e.Paused=6]="Paused",e}({});let i=(0,r.createContext)(void 0),o=e=>{let{children:n}=e,[s,o]=(0,r.useState)(-1),[a,l]=(0,r.useState)(null),[u,c]=(0,r.useState)([]),[h,d]=(0,r.useState)(null),[p,g]=(0,r.useState)(0),[v,f]=(0,r.useState)(null),y=(0,r.useRef)(null),m=(0,r.useRef)(null),E=(0,r.useRef)(null);(0,r.useEffect)(()=>(3===s?(E.current||(E.current=Date.now()),m.current=setInterval(()=>{E.current&&g((Date.now()-E.current)/1e3)},100)):(m.current&&(clearInterval(m.current),m.current=null),6!==s&&(g(0),E.current=null,f(null))),()=>{m.current&&(clearInterval(m.current),m.current=null)}),[s]);let w=async()=>{await navigator.mediaDevices.getUserMedia({audio:!0});let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"audioinput"===e.kind);return(c(e),e.length>0&&!h)?(d(e[0].deviceId),e[0].deviceId):h||""},b=async()=>{o(0);try{let e=await w(),t=await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!0,deviceId:e?{exact:e}:void 0}});y.current=t;let r=new MediaRecorder(t);o(1),l(r)}catch(e){throw console.error(e),o(4),e}},S=(0,r.useCallback)(()=>{if(o(5),(null==a?void 0:a.state)==="recording"){var e,t;for(let r of(E.current&&f((Date.now()-E.current)/1e3),a.pause(),o(6),null!=(t=null==(e=y.current)?void 0:e.getTracks())?t:[]))r.stop()}},[a]),j=(0,r.useCallback)(()=>{o(2),(null==a?void 0:a.state)==="paused"?a.resume():null==a||a.start(250),o(3)},[a]),T=(0,r.useCallback)(()=>{o(5),null==a||a.pause()},[a]);return(0,t.jsx)(i.Provider,{value:{microphone:a,startMicrophone:j,stopMicrophone:S,setupMicrophone:b,pauseMicrophone:T,microphoneState:s,devices:u,selectedDevice:h,setSelectedDevice:d,getDevices:w,recordingDuration:p,finalRecordingDuration:v},children:n})};function a(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useMicrophone must be used within a MicrophoneContextProvider");return e}},294254:e=>{"use strict";e.s({useMultipartUpload:()=>n});var t=e.i(814733),r=e.i(238635);let n=()=>{let{mutateAsync:e}=t.api.aws.initiateMultipartUpload.useMutation(),{mutateAsync:n}=t.api.aws.completeMultipartUpload.useMutation(),s=async function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;try{let n=await fetch(t,{method:"PUT",body:e});if(!n.ok)throw Error("Upload failed with status ".concat(n.status));let s=n.headers.get("etag")||n.headers.get("ETag");if(!s)throw Error("No ETag received");return{ETag:s.replace(/^"(.*)"$/,"$1"),PartNumber:r}}catch(i){if(n>0)return await new Promise(e=>setTimeout(e,1e3)),s(e,t,r,n-1);throw i}};return{uploadFile:async(t,i)=>{var o,a;try{let r={uploaded:0,total:t.size,percentage:0,error:null};null==(o=i.onProgress)||o.call(i,r);let a=Math.ceil(t.size/5242880),{uploadId:l,signedUrls:u}=await e({chatbotId:i.chatbotId,contentLength:t.size,parts:a,version:"v1",type:i.type,createdAt:i.createdAt,documentType:i.documentType}),c=u.map(e=>{let{url:r,partNumber:n}=e,i=(n-1)*5242880,o=Math.min(i+5242880,t.size),a=t.slice(i,o);return s(a,r,n)}),h=0,d=c.map(async(e,r)=>{var n;await e,h+=Math.min(5242880,t.size-5242880*r),null==(n=i.onProgress)||n.call(i,{uploaded:h,total:t.size,percentage:Math.round(h/t.size*100),error:null})}),[p]=await Promise.all([Promise.all(c),Promise.all(d)]);return await n({chatbotId:i.chatbotId,uploadId:l,parts:p,type:i.type,createdAt:i.createdAt}),i.chatbotId}catch(s){let e=s instanceof Error?s:Error("Upload failed"),n=e.message;throw null==(a=i.onProgress)||a.call(i,{uploaded:0,total:t.size,percentage:0,error:n}),i.onError&&i.onError(e),r.captureException(s),e}}}}},38017:e=>{"use strict";e.s({CHATBOT_TYPE_VALUES:()=>t,CITATION_FORMATS:()=>r});let t=["DOCUMENT","GROUP","VIDEO","TEXT","NOTION","NOTE","WEBSITE","WORKSPACE","IMAGE","YOUTUBE","RECORDING","AUDIO","QUIZ","NOTHING"],r=["APA_7","MLA_9","HARVARD","IEEE","CHICAGO","CSE","ACS","VANCOUVER","ASA","AMA","OSCOLA"]}}]);

//# sourceMappingURL=cc1db9dc4c76230a.js.map