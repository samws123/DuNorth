(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{523949:e=>{"use strict";e.s({getPrice:()=>i,getPriceId:()=>l});var t=e.i(451666),r=e.i(238635),a=e.i(369587);let l=(e,t)=>{let l={basic:{monthly:a.env.NEXT_PUBLIC_US_STRIPE_BASIC_MONTHLY,yearly:a.env.NEXT_PUBLIC_US_STRIPE_BASIC_YEARLY},pro:{monthly:a.env.NEXT_PUBLIC_US_STRIPE_PRO_MONTHLY,yearly:a.env.NEXT_PUBLIC_US_STRIPE_PRO_YEARLY},premium:{monthly:a.env.NEXT_PUBLIC_US_STRIPE_PREMIUM_MONTHLY,yearly:a.env.NEXT_PUBLIC_US_STRIPE_PREMIUM_YEARLY},team:{monthly:a.env.NEXT_PUBLIC_US_STRIPE_TEAM_MONTHLY,yearly:a.env.NEXT_PUBLIC_US_STRIPE_TEAM_YEARLY},unlimited:{monthly:a.env.NEXT_PUBLIC_US_STRIPE_UNLIMITED_MONTHLY,yearly:a.env.NEXT_PUBLIC_US_STRIPE_UNLIMITED_YEARLY}};return l[e]?l[e][t]:(console.error("Invalid planId: ".concat(e)),r.captureException(Error("Invalid planId: ".concat(e))),null)},n=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),i=e=>t.prices.USD[n(e.plan)][n(e.billingInterval)].Price||0},451666:e=>{"use strict";e.s({plans:()=>t,prices:()=>r});let t=[{id:"free",name:"Free",featureHeader:"Use Anara for free",features:["1000 AI words / day","5 uploads / day","120 pages or 20 MB per upload"],cta:"Try it free"},{id:"pro",name:"Pro",featureHeader:"Everything in Free, plus",features:["Unlimited AI words","Unlimited uploads","Access all the latest AI models including GPT-5, Claude Sonnet 4 and Gemini 2.5 Pro","10,000 pages or 300MB per upload","Live chat support"],cta:"Choose Pro"},{id:"team",name:"Team",featureHeader:"Everything in Pro, plus",features:["Multi-user writing and chat","Shared workspace","Unlimited members","Add, remove and set custom permissions for team members","Priority Slack channel support","Admin panel"],cta:"Choose Team"}],r={AUD:{symbol:"$",Pro:{Monthly:{Price:30,Total:30},Yearly:{Price:18,Total:216}},Premium:{Monthly:{Price:45,Total:45},Yearly:{Price:27,Total:324}},Team:{Monthly:{Price:45,Total:45},Yearly:{Price:27,Total:324}}},CAD:{symbol:"$",Pro:{Monthly:{Price:27,Total:27},Yearly:{Price:16.2,Total:194.4}},Premium:{Monthly:{Price:40,Total:40},Yearly:{Price:24,Total:288}},Team:{Monthly:{Price:40,Total:40},Yearly:{Price:24,Total:288}}},CHF:{symbol:"₣",Pro:{Monthly:{Price:18,Total:18},Yearly:{Price:10.8,Total:129}},Premium:{Monthly:{Price:27,Total:27},Yearly:{Price:16.2,Total:194.4}},Team:{Monthly:{Price:27,Total:27},Yearly:{Price:16.2,Total:194.4}}},CNY:{symbol:"¥",Pro:{Monthly:{Price:145,Total:145},Yearly:{Price:87,Total:1044}},Premium:{Monthly:{Price:217,Total:217},Yearly:{Price:130.2,Total:1562.4}},Team:{Monthly:{Price:217,Total:217},Yearly:{Price:130.2,Total:1562.4}}},EUR:{symbol:"€",Pro:{Monthly:{Price:18,Total:18},Yearly:{Price:10.8,Total:130}},Premium:{Monthly:{Price:28,Total:28},Yearly:{Price:16.8,Total:201.6}},Team:{Monthly:{Price:28,Total:28},Yearly:{Price:16.8,Total:201.6}}},GBP:{symbol:"£",Pro:{Monthly:{Price:16,Total:16},Yearly:{Price:9.6,Total:115}},Premium:{Monthly:{Price:24,Total:24},Yearly:{Price:14.4,Total:172.8}},Team:{Monthly:{Price:24,Total:24},Yearly:{Price:14.4,Total:172.8}}},HKD:{symbol:"$",Pro:{Monthly:{Price:156,Total:156},Yearly:{Price:93.6,Total:1123}},Premium:{Monthly:{Price:234,Total:234},Yearly:{Price:140.4,Total:1684.8}},Team:{Monthly:{Price:234,Total:234},Yearly:{Price:140.4,Total:1684.8}}},JPY:{symbol:"¥",Pro:{Monthly:{Price:3135,Total:3135},Yearly:{Price:1881,Total:22572}},Premium:{Monthly:{Price:4706,Total:4706},Yearly:{Price:2823.6,Total:33883.2}},Team:{Monthly:{Price:4706,Total:4706},Yearly:{Price:2823.6,Total:33883.2}}},NZD:{symbol:"$",Pro:{Monthly:{Price:33,Total:33},Yearly:{Price:19.8,Total:237}},Premium:{Monthly:{Price:49,Total:49},Yearly:{Price:29.4,Total:352.8}},Team:{Monthly:{Price:49,Total:49},Yearly:{Price:29.4,Total:352.8}}},SGD:{symbol:"$",Pro:{Monthly:{Price:27,Total:27},Yearly:{Price:16.2,Total:194}},Premium:{Monthly:{Price:40,Total:40},Yearly:{Price:24,Total:288}},Team:{Monthly:{Price:40,Total:40},Yearly:{Price:24,Total:288}}},USD:{symbol:"$",Pro:{Monthly:{Price:20,Total:20},Yearly:{Price:12,Total:144}},Premium:{Monthly:{Price:30,Total:30},Yearly:{Price:18,Total:216}},Team:{Monthly:{Price:30,Total:30},Yearly:{Price:18,Total:216}}},ZAR:{symbol:"R",Pro:{Monthly:{Price:367,Total:367},Yearly:{Price:220.2,Total:2642}},Premium:{Monthly:{Price:551,Total:551},Yearly:{Price:330.6,Total:3967.2}},Team:{Monthly:{Price:551,Total:551},Yearly:{Price:330.6,Total:3967.2}}}}},468390:e=>{"use strict";e.s({countryToCurrency:()=>t});let t={AT:"EUR",BE:"EUR",BG:"EUR",CY:"EUR",CZ:"EUR",DE:"EUR",DK:"EUR",EE:"EUR",ES:"EUR",FI:"EUR",FR:"EUR",GR:"EUR",HR:"EUR",HU:"EUR",IE:"EUR",IT:"EUR",LT:"EUR",LU:"EUR",LV:"EUR",MT:"EUR",NL:"EUR",PL:"EUR",PT:"EUR",RO:"EUR",SE:"EUR",SI:"EUR",SK:"EUR",AU:"AUD",CA:"CAD",CH:"CHF",CN:"CNY",GB:"GBP",HK:"HKD",JP:"JPY",NZ:"NZD",SG:"USD",US:"USD",ZA:"ZAR",IN:"USD"}},636354:e=>{"use strict";e.s({isAnaraTeamMember:()=>a});let t=["unriddle.ai","anara.com","anara.so"],r=["9069RVdobFjSwN5pNdW9","VoLq7iRWqYCWvcLq9qw8","qrqAfieu3sMceSIFJBr0","aXwljcmTriRQeXHYLwTW","0Q5b5ySi2fOzhtUminHn","xHjfboMvRdNppBBYkKu8"];function a(e,a){return(!!e||!!a)&&(!!r.includes(null!=a?a:"")||t.some(t=>null==e?void 0:e.endsWith("@".concat(t))))}},964606:e=>{"use strict";e.s({default:()=>t});let t=(0,e.i(238959).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},353745:e=>{"use strict";e.s({Search:()=>t.default});var t=e.i(964606)},508741:e=>{"use strict";e.s({featuresByPlan:()=>t});let t={Free:[{text:"Unlimited AI words"},{text:"Unlimited text generations"},{text:"Access to the best AI models"},{text:"Improved answers and higher accuracy search"},{text:"Up to 300MB or 10K pages per upload"},{text:"Priority customer support"},{text:"Cancel anytime"}],Pro:[{text:"Unlimited AI words"},{text:"Unlimited document, photo, video and audio uploads"},{text:"Access all the latest AI models including GPT-5, Claude Sonnet 4 and Gemini 2.5 Pro"},{text:"Import files directly from Zotero"},{text:"10,000 pages or 300MB per upload"},{text:"And much more"}],Team:[{text:"Shared notes, documents and chats"},{text:"Add team members to each chat"},{text:"Admin panel for access management"},{text:"Dedicated account manager"},{text:"Early access to new features"}]}},450807:e=>{"use strict";e.s({default:()=>M,useUpgrade:()=>C});var t=e.i(290479);e.i(923328);var r=e.i(444042),a=e.i(238635),l=e.i(647968),n=e.i(608294),i=e.i(874133),o=e.i(397711),c=e.i(373150),s=e.i(525094),u=e.i(430266),d=e.i(468390),m=e.i(885905),p=e.i(250928),f=e.i(440840),h=e.i(252390),y=e.i(636354),v=e.i(437194),x=e.i(814733),g=e.i(451666),P=e.i(523949),b=e.i(289702),T=e.i(704255),E=e.i(663018),w=e.i(457443),I=e.i(508741);let R=(0,l.atom)(null),C=()=>({showUpgrade:(0,n.useSetAtom)(R)}),S=e=>{let{currentPlan:r,setSelectedPlan:a,isSelected:l}=e;return(0,t.jsxs)("div",{onClick:a,className:(0,b.cn)("w-full text-left p-6 h-[106px] rounded-6 border transition-all flex flex-col items-start cursor-pointer",l?"border-blue/50 border-2":"border-border-primary hover:border-muted-foreground/50"),children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-4 pb-5",children:[(0,t.jsx)("span",{className:"text-base tracking-[-0.16px] font-semibold text-text-secondary capitalize",children:r.name}),"Yearly"===r.name&&(0,t.jsx)("span",{className:"px-3 text-xs py-1 bg-blue/10 text-blue rounded-[6px] font-medium",children:"Save 40%"})]}),(0,t.jsx)("div",{className:"flex justify-start flex-col items-center gap-3",children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl leading-7 tracking-[-0.24px] font-semibold",children:r.price.split(" ")[0]}),(0,t.jsx)("span",{className:"text-base font-semibold tracking-[-0.16px] text-text-secondary",children:r.price.split(" ")[1]})]})}),(0,t.jsx)("span",{className:"text-xs tracking-[-0.12px] font-medium text-text-secondary",children:"per month, billed ".concat("Yearly"===r.name?"annually":"monthly")})]})},U=()=>{let{user:e,userPlanDetails:l}=(0,m.useAuth)(),w=(0,n.useAtomValue)(R),C=(0,o.useRouter)(),{isAdmin:U}=(0,f.useImpersonation)(),{track:M}=(0,h.default)(),A=(0,o.usePathname)(),N=(0,c.useMemo)(()=>l?(0,b.toTitleCase)(l.planName):"Free",[l]),k=(0,c.useMemo)(()=>((null==e?void 0:e.subscription)&&e.subscription.length,null),[null==e?void 0:e.subscription]),{mutateAsync:_}=x.api.churnkey.portal.useMutation(),Y="Free"===N?120:"10k",j="Free"===N?"20MB":"300MB",L="Free"===N?"the best AI":"Premium",B=(0,c.useMemo)(()=>(0,u.match)(w).with("messageLimit",()=>"Upgrade for unlimited AI words").with("searchLimit",()=>"Upgrade for unlimited Ask AI words").with("wordCountLimit",()=>"Upgrade for unlimited word generations in the editor").with("importLimit",()=>"Upgrade for unlimited imports").with("recordingLimit",()=>"Upgrade for unlimited recordings").with("pageLimit",()=>"Upgrade to import documents over ".concat(Y," pages")).with("sizeLimit",()=>"Free"===N?"Upgrade to import documents over ".concat(j):"Contact support to import documents over 300MB").with("modelChange",()=>"Upgrade for access to ".concat(L," models")).with("maxLengthChange",()=>"Upgrade to adjust the answer max length").with("teamsFeature",()=>"Unlock the full capabilities of Anara with Teams").with("strategyFeature",()=>"We couldn't find any text in this document. Upgrade to import with OCR text detection.").with("dailyPageLimit",()=>"Upgrade to import more than 600 pages per day").with("generic",()=>"Upgrade for unlimited access to Anara").with(null,()=>"Upgrade for unlimited access to Anara").exhaustive(),[w,Y,j,L,N]),{userCountry:D}=(0,p.useUnriddle)(),{mutateAsync:F,isPending:O}=x.api.subscriptionRouter.create.useMutation(),[H,K]=(0,c.useState)("yearly"),[G,q]=(0,c.useState)(!1),[V,X]=(0,c.useState)({Monthly:{},Yearly:{},symbol:"",currency:""}),{getData:z}=(0,r.useVisitorData)({extendedResult:!1},{immediate:!1}),{checkAdmin:W}=(0,f.useImpersonation)(),{mutateAsync:Z}=x.api.fingerprint.accountByVisitorId.useMutation(),$=(0,c.useRef)(null);(0,c.useEffect)(()=>{X((e=>{let t=d.countryToCurrency[e]||"USD",r=g.prices[t].Pro,a=g.prices[t].symbol;return{...r,symbol:a,currency:t}})(D))},[e,D]),(0,c.useEffect)(()=>{$.current=W()},[W]);let J=async()=>{if(U||"Free"!==N)return;if(M("paywall_banner_clicked",{reason:w,selectedPlan:H}),!(0,y.isAnaraTeamMember)(null==e?void 0:e.email,null==e?void 0:e.uniqueVisitorId)){let l=await z();if(l.visitorId&&!(0,y.isAnaraTeamMember)(null==e?void 0:e.email,l.visitorId)){var r;let a=await Z({visitorId:l.visitorId});if(a.length>=3&&!a.includes(null!=(r=null==e?void 0:e.id)?r:"")){M("device_account_limit_reached",{from:"upgrade_modal",userId:null==e?void 0:e.id,visitorId:l.visitorId}),s.toast.error((0,t.jsxs)("span",{children:["Maximum number of accounts for this device reached. Please"," ",(0,t.jsx)("button",{className:"cursor-pointer underline",id:"intercom_support",children:"contact support"})," ","if this is a mistake."]}),{duration:7e3});return}}else a.captureMessage("No visitorId found")}let l=(0,P.getPriceId)("pro",H);if(!l)return;let n=localStorage.getItem("couponId");try{(0,v.trackTikTokEvent)("InitiateCheckout",{value:"monthly"===H?20:12,currency:"USD",contents:[{price:"monthly"===H?20:12,content_id:"".concat(l,"-").concat(H)}]},{sendServer:!0})}catch(e){}let i=await F({quantity:1,priceId:l,plan:"PRO",billingInterval:H,successPath:A||"new",cancelPath:A||"new",blockedId:n||void 0});if(!i)return void a.captureException("No url returned from createSubscription");window.location.href=i},Q=(0,c.useMemo)(()=>(0,u.match)(w).with("teamsFeature",()=>[...I.featuresByPlan.Team]).otherwise(()=>[...I.featuresByPlan.Pro]),[w]),ee="sizeLimit"!==w||"Free"===N,et="teamsFeature"!==w&&ee,er=async()=>{if(!(null==e?void 0:e.id))return;let t=await _();C.push(t)},ea=async()=>{q(!0);try{let e=$.current||W();if(await e)return;if("Free"!==N&&!k){window.location.href="mailto:support@anara.com";return}await J()}finally{q(!1)}};return(0,t.jsx)("div",{className:"flex flex-col bg-popover w-[420px] rounded-6 h-full",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-7 h-full flex flex-col gap-4",children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-balance",children:B}),(0,t.jsx)("p",{className:"text-sm text-text-primary/75 pr-7",children:"Invest in your success with a paid plan. Unlimited access, cancel anytime."}),ee&&(0,t.jsx)("ul",{className:"text-sm space-y-3 tracking-[-1%] pr-2 py-7",children:Q.map((e,r)=>(0,t.jsxs)("li",{className:"flex gap-5 items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 flex-grow-0 items-center",children:(0,t.jsx)(i.Check,{strokeWidth:2,className:"text-blue w-7 h-7"})}),(0,t.jsx)("p",{children:e.text})]},"feature-".concat(r)))}),et&&(0,t.jsxs)("div",{className:"flex flex-row gap-7",children:[(0,t.jsx)(S,{currentPlan:{name:"Yearly",price:"".concat(V.symbol).concat(Math.ceil(V.Yearly.Price)," ").concat(V.currency)},setSelectedPlan:()=>{K("yearly")},isSelected:"yearly"===H}),(0,t.jsx)(S,{currentPlan:{name:"Monthly",price:"".concat(V.symbol).concat(Math.ceil(V.Monthly.Price)," ").concat(V.currency)},setSelectedPlan:()=>{K("monthly")},isSelected:"monthly"===H})]}),(0,t.jsxs)("div",{className:"flex flex-col justify-stretch gap-7 pt-6",children:[(0,t.jsx)(T.Button,{size:"lg",variant:"inverse",disabled:O||G,className:"rounded-6",onClick:k?er:ea,children:O||G?(0,t.jsx)(E.LoadingSpinner,{variant:"small",color:"gray"}):"Continue to checkout"}),"Free"===N&&(0,t.jsx)("span",{className:"text-sm text-text-primary text-center",children:"Join over 2,000,000 academics"})]})]})})},M=()=>{let[e,r]=(0,n.useAtom)(R),{track:a}=(0,h.default)();return(0,t.jsx)(w.Dialog,{open:!!e,onOpenChange:e=>{!1===e&&(r(null),a("paywall_banner_closed"))},children:(0,t.jsx)(w.DialogContent,{className:"flex p-0 w-fit items-center justify-center rounded-6",children:(0,t.jsx)(U,{})})})}},919450:e=>{"use strict";e.s({a:()=>i});var t=/[\\\/_+.#"@\[\(\{&]/,r=/[\\\/_+.#"@\[\(\{&]/g,a=/[\s-]/,l=/[\s-]/g;function n(e){return e.toLowerCase().replace(l," ")}function i(e,i,o){return function e(n,i,o,c,s,u,d){if(u===i.length)return s===n.length?1:.99;var m="".concat(s,",").concat(u);if(void 0!==d[m])return d[m];for(var p,f,h,y,v=c.charAt(u),x=o.indexOf(v,s),g=0;x>=0;)(p=e(n,i,o,c,x+1,u+1,d))>g&&(x===s?p*=1:t.test(n.charAt(x-1))?(p*=.8,(h=n.slice(s,x-1).match(r))&&s>0&&(p*=Math.pow(.999,h.length))):a.test(n.charAt(x-1))?(p*=.9,(y=n.slice(s,x-1).match(l))&&s>0&&(p*=Math.pow(.999,y.length))):(p*=.17,s>0&&(p*=Math.pow(.999,x-s))),n.charAt(x)!==i.charAt(u)&&(p*=.9999)),(p<.1&&o.charAt(x-1)===c.charAt(u+1)||c.charAt(u+1)===c.charAt(u)&&o.charAt(x-1)!==c.charAt(u))&&.1*(f=e(n,i,o,c,x+1,u+2,d))>p&&(p=.1*f),p>g&&(g=p),x=o.indexOf(v,x+1);return d[m]=g,g}(e=o&&o.length>0?"".concat(e+" "+o.join(" ")):e,i,n(e),n(i),0,0,{})}},149404:e=>{"use strict";e.s({Command:()=>R,CommandInput:()=>E});var t=e.i(919450),r=e.i(975267),a=e.i(373150),l=e.i(421349),n=e.i(686048),i=e.i(28537),o='[cmdk-group=""]',c='[cmdk-group-items=""]',s='[cmdk-item=""]',u="".concat(s,':not([aria-disabled="true"])'),d="cmdk-item-select",m="data-value",p=(e,r,a)=>(0,t.a)(e,r,a),f=a.createContext(void 0),h=()=>a.useContext(f),y=a.createContext(void 0),v=()=>a.useContext(y),x=a.createContext(void 0),g=a.forwardRef((e,t)=>{let r=U(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=U(()=>new Set),h=U(()=>new Map),v=U(()=>new Map),x=U(()=>new Set),g=C(e),{label:P,children:b,value:T,onValueChange:E,filter:w,shouldFilter:I,loop:R,disablePointerSelection:M=!1,vimBindings:A=!0,...Y}=e,j=(0,n.useId)(),L=(0,n.useId)(),B=(0,n.useId)(),D=a.useRef(null),F=N();S(()=>{if(void 0!==T){let e=T.trim();r.current.value=e,O.emit()}},[T]),S(()=>{F(6,X)},[]);let O=a.useMemo(()=>({subscribe:e=>(x.current.add(e),()=>x.current.delete(e)),snapshot:()=>r.current,setState:(e,t,a)=>{var l,n,i,o;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)V(),G(),F(1,q);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(B);e?e.focus():null==(l=document.getElementById(j))||l.focus()}if(F(7,()=>{var e;r.current.selectedItemId=null==(e=z())?void 0:e.id,O.emit()}),a||F(5,X),(null==(n=g.current)?void 0:n.value)!==void 0){null==(o=(i=g.current).onValueChange)||o.call(i,null!=t?t:"");return}}O.emit()}},emit:()=>{x.current.forEach(e=>e())}}),[]),H=a.useMemo(()=>({value:(e,t,a)=>{var l;t!==(null==(l=v.current.get(e))?void 0:l.value)&&(v.current.set(e,{value:t,keywords:a}),r.current.filtered.items.set(e,K(t,a)),F(2,()=>{G(),O.emit()}))},item:(e,t)=>(i.current.add(e),t&&(h.current.has(t)?h.current.get(t).add(e):h.current.set(t,new Set([e]))),F(3,()=>{V(),G(),r.current.value||q(),O.emit()}),()=>{v.current.delete(e),i.current.delete(e),r.current.filtered.items.delete(e);let t=z();F(4,()=>{V(),(null==t?void 0:t.getAttribute("id"))===e&&q(),O.emit()})}),group:e=>(h.current.has(e)||h.current.set(e,new Set),()=>{v.current.delete(e),h.current.delete(e)}),filter:()=>g.current.shouldFilter,label:P||e["aria-label"],getDisablePointerSelection:()=>g.current.disablePointerSelection,listId:j,inputId:B,labelId:L,listInnerRef:D}),[]);function K(e,t){var a,l;let n=null!=(l=null==(a=g.current)?void 0:a.filter)?l:p;return e?n(e,r.current.search,t):0}function G(){if(!r.current.search||!1===g.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let a=h.current.get(r),l=0;a.forEach(t=>{l=Math.max(e.get(t),l)}),t.push([r,l])});let a=D.current;W().sort((t,r)=>{var a,l;let n=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(a=e.get(i))?a:0)-(null!=(l=e.get(n))?l:0)}).forEach(e=>{let t=e.closest(c);t?t.appendChild(e.parentElement===t?e:e.closest("".concat(c," > *"))):a.appendChild(e.parentElement===a?e:e.closest("".concat(c," > *")))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=D.current)?void 0:t.querySelector("".concat(o,"[").concat(m,'="').concat(encodeURIComponent(e[0]),'"]'));null==r||r.parentElement.appendChild(r)})}function q(){let e=W().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(m);O.setState("value",t||void 0)}function V(){var e,t,a,l;if(!r.current.search||!1===g.current.shouldFilter){r.current.filtered.count=i.current.size;return}r.current.filtered.groups=new Set;let n=0;for(let o of i.current){let i=K(null!=(t=null==(e=v.current.get(o))?void 0:e.value)?t:"",null!=(l=null==(a=v.current.get(o))?void 0:a.keywords)?l:[]);r.current.filtered.items.set(o,i),i>0&&n++}for(let[e,t]of h.current)for(let a of t)if(r.current.filtered.items.get(a)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=n}function X(){var e,t,r;let a=z();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(r=null==(t=a.closest(o))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function z(){var e;return null==(e=D.current)?void 0:e.querySelector("".concat(s,'[aria-selected="true"]'))}function W(){var e;return Array.from((null==(e=D.current)?void 0:e.querySelectorAll(u))||[])}function Z(e){let t=W()[e];t&&O.setState("value",t.getAttribute(m))}function $(e){var t;let r=z(),a=W(),l=a.findIndex(e=>e===r),n=a[l+e];null!=(t=g.current)&&t.loop&&(n=l+e<0?a[a.length-1]:l+e===a.length?a[0]:a[l+e]),n&&O.setState("value",n.getAttribute(m))}function J(e){let t=z(),r=null==t?void 0:t.closest(o),a;for(;r&&!a;)a=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,o):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,o))?void 0:r.querySelector(u);a?O.setState("value",a.getAttribute(m)):$(e)}let Q=()=>Z(W().length-1),ee=e=>{e.preventDefault(),e.metaKey?Q():e.altKey?J(1):$(1)},et=e=>{e.preventDefault(),e.metaKey?Z(0):e.altKey?J(-1):$(-1)};return a.createElement(l.Primitive.div,{ref:t,tabIndex:-1,...Y,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=Y.onKeyDown)||t.call(Y,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":A&&e.ctrlKey&&ee(e);break;case"ArrowDown":ee(e);break;case"p":case"k":A&&e.ctrlKey&&et(e);break;case"ArrowUp":et(e);break;case"Home":e.preventDefault(),Z(0);break;case"End":e.preventDefault(),Q();break;case"Enter":{e.preventDefault();let t=z();if(t){let e=new Event(d);t.dispatchEvent(e)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:H.inputId,id:H.labelId,style:_},P),k(e,e=>a.createElement(y.Provider,{value:O},a.createElement(f.Provider,{value:H},e))))}),P=a.forwardRef((e,t)=>{var r,o;let c=(0,n.useId)(),s=a.useRef(null),u=a.useContext(x),m=h(),p=C(e),f=null!=(o=null==(r=p.current)?void 0:r.forceMount)?o:null==u?void 0:u.forceMount;S(()=>{if(!f)return m.item(c,null==u?void 0:u.id)},[f]);let y=A(c,s,[e.value,e.children,s],e.keywords),g=v(),P=M(e=>e.value&&e.value===y.current),b=M(e=>!!f||!1===m.filter()||!e.search||e.filtered.items.get(c)>0);function T(){var e,t;E(),null==(t=(e=p.current).onSelect)||t.call(e,y.current)}function E(){g.setState("value",y.current,!0)}if(a.useEffect(()=>{let t=s.current;if(!(!t||e.disabled))return t.addEventListener(d,T),()=>t.removeEventListener(d,T)},[b,e.onSelect,e.disabled]),!b)return null;let{disabled:w,value:I,onSelect:R,forceMount:U,keywords:N,...k}=e;return a.createElement(l.Primitive.div,{ref:(0,i.composeRefs)(s,t),...k,id:c,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!P,"data-disabled":!!w,"data-selected":!!P,onPointerMove:w||m.getDisablePointerSelection()?void 0:E,onClick:w?void 0:T},e.children)}),b=a.forwardRef((e,t)=>{let{heading:r,children:o,forceMount:c,...s}=e,u=(0,n.useId)(),d=a.useRef(null),m=a.useRef(null),p=(0,n.useId)(),f=h(),y=M(e=>!!c||!1===f.filter()||!e.search||e.filtered.groups.has(u));S(()=>f.group(u),[]),A(u,d,[e.value,e.heading,m]);let v=a.useMemo(()=>({id:u,forceMount:c}),[c]);return a.createElement(l.Primitive.div,{ref:(0,i.composeRefs)(d,t),...s,"cmdk-group":"",role:"presentation",hidden:!y||void 0},r&&a.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:p},r),k(e,e=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?p:void 0},a.createElement(x.Provider,{value:v},e))))}),T=a.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,o=a.useRef(null),c=M(e=>!e.search);return r||c?a.createElement(l.Primitive.div,{ref:(0,i.composeRefs)(o,t),...n,"cmdk-separator":"",role:"separator"}):null}),E=a.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=null!=e.value,o=v(),c=M(e=>e.search),s=M(e=>e.selectedItemId),u=h();return a.useEffect(()=>{null!=e.value&&o.setState("search",e.value)},[e.value]),a.createElement(l.Primitive.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":s,id:u.inputId,type:"text",value:i?e.value:c,onChange:e=>{i||o.setState("search",e.target.value),null==r||r(e.target.value)}})}),w=a.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...o}=e,c=a.useRef(null),s=a.useRef(null),u=M(e=>e.selectedItemId),d=h();return a.useEffect(()=>{if(s.current&&c.current){let e=s.current,t=c.current,r,a=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return a.observe(e),()=>{cancelAnimationFrame(r),a.unobserve(e)}}},[]),a.createElement(l.Primitive.div,{ref:(0,i.composeRefs)(c,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:d.listId},k(e,e=>a.createElement("div",{ref:(0,i.composeRefs)(s,d.listInnerRef),"cmdk-list-sizer":""},e)))}),I=a.forwardRef((e,t)=>{let{open:l,onOpenChange:n,overlayClassName:i,contentClassName:o,container:c,...s}=e;return a.createElement(r.Root,{open:l,onOpenChange:n},a.createElement(r.Portal,{container:c},a.createElement(r.Overlay,{"cmdk-overlay":"",className:i}),a.createElement(r.Content,{"aria-label":e.label,"cmdk-dialog":"",className:o},a.createElement(g,{ref:t,...s}))))}),R=Object.assign(g,{List:w,Item:P,Input:E,Group:b,Separator:T,Dialog:I,Empty:a.forwardRef((e,t)=>M(e=>0===e.filtered.count)?a.createElement(l.Primitive.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:a.forwardRef((e,t)=>{let{progress:r,children:n,label:i="Loading...",...o}=e;return a.createElement(l.Primitive.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},k(e,e=>a.createElement("div",{"aria-hidden":!0},e)))})});function C(e){let t=a.useRef(e);return S(()=>{t.current=e}),t}var S="undefined"==typeof window?a.useEffect:a.useLayoutEffect;function U(e){let t=a.useRef();return void 0===t.current&&(t.current=e()),t}function M(e){let t=v(),r=()=>e(t.snapshot());return a.useSyncExternalStore(t.subscribe,r,r)}function A(e,t,r){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=a.useRef(),i=h();return S(()=>{var a;let o=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():n.current}})(),c=l.map(e=>e.trim());i.value(e,o,c),null==(a=t.current)||a.setAttribute(m,o),n.current=o}),n}var N=()=>{let[e,t]=a.useState(),r=U(()=>new Map);return S(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,a)=>{r.current.set(e,a),t({})}};function k(e,t){let r,{asChild:l,children:n}=e;return l&&a.isValidElement(n)?a.cloneElement("function"==typeof(r=n.type)?r(n.props):"render"in r?r.render(n.props):n,{ref:n.ref},t(n.props.children)):t(n)}var _={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"}},111367:e=>{"use strict";e.s({Command:()=>i,CommandEmpty:()=>s,CommandGroup:()=>u,CommandInput:()=>o,CommandItem:()=>m,CommandList:()=>c,CommandSeparator:()=>d});var t=e.i(290479),r=e.i(149404),a=e.i(353745),l=e.i(373150),n=e.i(289702);e.i(457443);let i=l.forwardRef((e,a)=>{let{className:l,...i}=e;return(0,t.jsx)(r.Command,{ref:a,className:(0,n.cn)("flex h-full w-full gap-2 flex-col overflow-hidden rounded-4 bg-popover text-popover-foreground",l),...i})});i.displayName=r.Command.displayName;let o=l.forwardRef((e,l)=>{let{className:i,disableIcon:o=!1,...c}=e;return(0,t.jsxs)("div",{className:"flex items-center px-3 border-b","cmdk-input-wrapper":"",children:[!o&&(0,t.jsx)(a.Search,{className:"mr-4 h-7 w-7 shrink-0 opacity-50 text-text-primary"}),(0,t.jsx)(r.Command.Input,{ref:l,className:(0,n.cn)("flex h-[32px] w-full font-medium rounded-4 bg-transparent py-6 text-sm text-text-primary outline-none placeholder:text-accent-foreground disabled:cursor-not-allowed disabled:opacity-50",i),...c})]})});o.displayName=r.Command.Input.displayName;let c=l.forwardRef((e,a)=>{let{className:l,...i}=e;return(0,t.jsx)(r.Command.List,{ref:a,className:(0,n.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",l),...i})});c.displayName=r.Command.List.displayName;let s=l.forwardRef((e,a)=>(0,t.jsx)(r.Command.Empty,{ref:a,className:"py-9 text-center text-sm text-text-secondary",...e}));s.displayName=r.Command.Empty.displayName;let u=l.forwardRef((e,a)=>{let{className:l,...i}=e;return(0,t.jsx)(r.Command.Group,{ref:a,className:(0,n.cn)("overflow-hidden p-2 text-text-primary [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-text-primary",l),...i})});u.displayName=r.Command.Group.displayName;let d=l.forwardRef((e,a)=>{let{className:l,...i}=e;return(0,t.jsx)(r.Command.Separator,{ref:a,className:(0,n.cn)("-mx-2 h-px bg-border",l),...i})});d.displayName=r.Command.Separator.displayName;let m=l.forwardRef((e,a)=>{let{className:l,...i}=e;return(0,t.jsx)(r.Command.Item,{ref:a,className:(0,n.cn)('relative flex cursor-pointer rounded-4 gap-4 select-none items-center text-text-primary px-4 py-3 text-sm outline-none aria-selected:bg-popover-hover aria-selected:text-accent-foreground data-[disabled="true"]:pointer-events-none data-[disabled="true"]:opacity-50',l),...i,value:p(i.value)})});m.displayName=r.Command.Item.displayName;let p=e=>e?e.replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-").toLowerCase():e},567349:e=>{"use strict";e.s({}),e.i(290479),e.i(373150),e.i(289702),e.i(457443),e.i(111367)}}]);

//# sourceMappingURL=75e8de78ff52d3fe.js.map